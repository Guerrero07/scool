(self.webpackChunktesis=self.webpackChunktesis||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},6934:(t,e,n)=>{"use strict";var r=n(1062),i=n(5119),o=n(4762),s=n(250),a=n(308);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),f=new s.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},g={enabled:!1};function m(t){return d.get(t)||p}function v(t,e){d.set(t,e)}function y(){return g}var b="https://content-firebaseappcheck.googleapis.com/v1beta",_=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new s.Deferred,[4,(r=this.getNextRun(t),new Promise(function(t){setTimeout(t,r)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new s.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var r})})},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function w(){return self.grecaptcha}function C(t){if(!m(t).activated)throw f.create("use-before-activation",{appName:t.name})}function S(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,function(){var t,i,s,a,u,c,l,h,d,p;return o.__generator(this,function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,s)];case 2:return a=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==a.status)throw f.create("fetch-status-error",{httpStatus:a.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,a.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}})})}function x(t,e){var n=t.options;return{url:b+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:e}}}function I(t,e){var n=t.options;return{url:b+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:e}}}var A="firebase-app-check-store",k="debug-token",E=null;function T(){return E||(E=new Promise(function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(f.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(A,{keyPath:"compositeKey"})}}}catch(r){e(f.create("storage-open",{originalErrorMessage:r.message}))}}))}function P(t){return O(L(t))}function N(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s;return o.__generator(this,function(o){switch(o.label){case 0:return[4,T()];case 1:return n=o.sent(),r=n.transaction(A,"readwrite"),i=r.objectStore(A),s=i.put({compositeKey:t,value:e}),[2,new Promise(function(t,e){s.onsuccess=function(e){t()},r.onerror=function(t){var n;e(f.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function O(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return[4,T()];case 1:return e=o.sent(),n=e.transaction(A,"readonly"),r=n.objectStore(A),i=r.get(t),[2,new Promise(function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(f.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function L(t){return t.options.appId+"-"+t.name}var D=new a.Logger("@firebase/app-check");function M(t,e){return s.isIndexedDBAvailable()?function(t,e){return N(L(t),e)}(t,e).catch(function(t){D.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}function R(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){if((t=y()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var F={error:"UNKNOWN_ERROR"};function j(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,function(){var r,i,a,u,c,l,h,f,d,p;return o.__generator(this,function(g){switch(g.label){case 0:return C(t),r=m(t),a=void 0,(i=r.token)?[3,2]:[4,r.cachedTokenPromise];case 1:(u=g.sent())&&V(u)&&(i=u,v(t,o.__assign(o.__assign({},r),{token:i})),B(t,{token:i.token})),g.label=2;case 2:return!n&&i&&V(i)?[2,{token:i.token}]:y().enabled?(l=S,h=I,f=[t],[4,R()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,f.concat([g.sent()])),e])];case 4:return c=g.sent(),[4,M(t,c)];case 5:return g.sent(),v(t,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return g.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=g.sent(),[3,9];case 8:return d=g.sent(),D.error(d),a=d,[3,9];case 9:return i?[3,10]:(p=function(t){return{token:(e=F,s.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(a),[3,12]);case 10:return p={token:i.token},v(t,o.__assign(o.__assign({},r),{token:i})),[4,M(t,i)];case 11:g.sent(),g.label=12;case 12:return B(t,p),[2,p]}})})}function U(t,e,n,r,i){var s=m(t),a={next:r,error:i,type:n},u=o.__assign(o.__assign({},s),{tokenObservers:o.__spreadArray(o.__spreadArray([],s.tokenObservers),[a])});if(!u.tokenRefresher){var c=function(t,e){var n=this;return new _(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return m(t).token?[3,2]:[4,j(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,j(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var e=m(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),s.token&&V(s.token)){var l=s.token;Promise.resolve().then(function(){return r({token:l.token})}).catch(function(){})}else null==s.token&&s.cachedTokenPromise.then(function(t){t&&V(t)&&r({token:t.token})}).catch(function(){});v(t,u)}function q(t,e){var n=m(t),r=n.tokenObservers.filter(function(t){return t.next!==e});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(t,o.__assign(o.__assign({},n),{tokenObservers:r}))}function B(t,e){for(var n=0,r=m(t).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(o){}}}function V(t){return t.expireTimeMillis-Date.now()>0}function H(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return C(t),[4,m(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise(function(n,r){var i=m(t).reCAPTCHAState;e.ready(function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}function z(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),s=m(t);v(t,o.__assign(o.__assign({},s),{reCAPTCHAState:o.__assign(o.__assign({},s.reCAPTCHAState),{widgetId:i})}))}var W=function(){function t(t){this._siteKey=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){switch(e.label){case 0:if(!this._app||!this._platformLoggerProvider)throw f.create("use-before-activation",{appName:""});e.label=1;case 1:return e.trys.push([1,3,,4]),[4,H(this._app)];case 2:return t=e.sent(),[3,4];case 3:throw e.sent(),f.create("recaptcha-error");case 4:return[2,S(x(this._app,t),this._platformLoggerProvider)]}})})},t.prototype.initialize=function(t,e){this._app=t,this._platformLoggerProvider=e,function(t,e){var n=m(t),r=new s.Deferred;v(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,a=document.createElement("div");a.id=i,a.style.display="none",document.body.appendChild(a);var u,c,l=w();return l?l.ready(function(){z(t,e,l,i),r.resolve(l)}):(u=function(){var n=w();if(!n)throw new Error("no recaptcha");n.ready(function(){z(t,e,n,i),r.resolve(n)})},(c=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",c.onload=u,document.head.appendChild(c)),r.promise}(t,this._siteKey).catch(function(){})},t}(),G=function(){function t(t){this._customProviderOptions=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,function(){var t,e,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!this._app)throw f.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=r.sent(),e=s.issuedAtTime(t.token),n=null!==e&&e<Date.now()&&e>0?1e3*e:Date.now(),[2,o.__assign(o.__assign({},t),{issuedAtTimeMillis:n})]}})})},t.prototype.initialize=function(t){this._app=t},t}();var K="app-check-internal";!function(t){t.INTERNAL.registerComponent(new i.Component("appCheck",function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{app:e,activate:function(t,r){return function(t,e,n,r){var i=m(t);if(i.activated)throw f.create("already-activated",{appName:t.name});var a=o.__assign(o.__assign({},i),{activated:!0});a.cachedTokenPromise=function(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!s.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,P(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),D.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}(t).then(function(e){return e&&V(e)&&v(t,o.__assign(o.__assign({},m(t)),{token:e})),e}),a.provider="string"==typeof e?new W(e):e instanceof W||e instanceof G?e:new G({getToken:e.getToken}),a.isTokenAutoRefreshEnabled=void 0===r?t.automaticDataCollectionEnabled:r,v(t,a),a.provider.initialize(t,n)}(e,t,n,r)},setTokenAutoRefreshEnabled:function(t){return function(t,e){var n=m(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),v(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(e,t)},getToken:function(t){return function(t,e,n){return o.__awaiter(this,void 0,void 0,function(){var r;return o.__generator(this,function(i){switch(i.label){case 0:return[4,j(t,e,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}})})}(e,n,t)},onTokenChanged:function(t,r,i){return function(t,e,n,r,i){var o,s=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?s=n.error.bind(n):r&&(s=r),U(t,e,"EXTERNAL",o,s),function(){return q(t,o)}}(e,n,t,r)},INTERNAL:{delete:function(){for(var t=0,n=m(e).tokenObservers;t<n.length;t++)q(e,n[t].next);return Promise.resolve()}}};var e,n},"PUBLIC").setServiceProps({ReCaptchaV3Provider:W,CustomProvider:G}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,e,n){t.getProvider(K).initialize()})),t.INTERNAL.registerComponent(new i.Component(K,function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{getToken:function(t){return j(e,n,t)},addTokenListener:function(t){return U(e,n,"INTERNAL",t)},removeTokenListener:function(t){return q(e,t)}};var e,n},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var t=s.getGlobal();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=y();e.enabled=!0;var n=new s.Deferred;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,O(k)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:((r=e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),N(k,r)).catch(function(t){return D.warn("Failed to persist debug token to indexeddb. Error: "+t)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r})})}())}}()},1062:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>w,firebase:()=>_});var r,i,o=n(4762),s=n(250),a=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.deepCopy)(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var m=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.contains)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.Component(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.contains)(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.deepExtend)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=(0,o.__assign)((0,o.__assign)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.deepExtend)(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var _=m;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(_);const w=_},5119:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Component:()=>o,ComponentContainer:()=>u,Provider:()=>a});var r=n(4762),i=n(250),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.__read)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var t;return(0,r.__generator)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.__read)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=s),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),h=l[1];s===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.__values)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},2107:(t,e,n)=>{"use strict";var r=n(1062),i=n(5119),o=n(250),s=n(4762),a=n(308);t=n.hmd(t);var u="";function c(t){u=t}var l,h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),f=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new f},p=d("localStorage"),g=d("sessionStorage"),m=new a.Logger("@firebase/database"),v=(l=1,function(){return l++}),y=function(t){var e=(0,o.stringToByteArray)(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=b.apply(null,i):n+="object"==typeof i?(0,o.stringify)(i):i,n+=" "}return n},_=null,w=!0,C=function(t,e){(0,o.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=a.LogLevel.VERBOSE,_=m.log.bind(m),e&&g.set("logging_enabled",!0)):"function"==typeof t?_=t:(_=null,g.remove("logging_enabled"))},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===_&&!0===g.get("logging_enabled")&&C(!0)),_){var n=b.apply(null,t);_(n)}},x=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];S.apply(void 0,(0,s.__spreadArray)([t],(0,s.__read)(e)))}},I=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));m.error(n)},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));throw m.error(n),new Error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+b.apply(void 0,(0,s.__spreadArray)([],(0,s.__read)(t)));m.warn(n)},E=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},T="[MIN_NAME]",P="[MAX_NAME]",N=function(t,e){if(t===e)return 0;if(t===T||e===P)return-1;if(e===T||t===P)return 1;var n=U(t),r=U(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},O=function(t,e){return t===e?0:t<e?-1:1},L=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.stringify)(e))},D=function(t){if("object"!=typeof t||null===t)return(0,o.stringify)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=(0,o.stringify)(e[i]),r+=":",r+=D(t[e[i]]);return r+"}"},M=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function R(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var F=function(t){var e,n,r,i,s;(0,o.assert)(!E(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(s=0;s<64;s+=8){var l=parseInt(u.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},j=new RegExp("^-?(0*)\\d{1,10}$"),U=function(t){if(j.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},q=function(t){try{t()}catch(e){setTimeout(function(){throw k("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},B=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){k('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),H=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(S("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';k(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),z=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),W=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,G="websocket",K="long_polling",$=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function Y(t,e,n){var r;if((0,o.assert)("string"==typeof e,"typeof type must == string"),(0,o.assert)("object"==typeof n,"typeof params must == object"),e===G)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==K)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return R(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var Q=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},t}(),X={},J={};function Z(t){var e=t.toString();return X[e]||(X[e]=new Q),X[e]}var tt=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&q(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),et="start",nt="close",rt=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=x(t),this.stats_=Z(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),Y(e,K,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new tt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,o.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new it(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,s.__read)(t,5),i=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===et)n.id=o,n.password=a;else{if(i!==nt)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,s.__read)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&W.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!((0,o.isNodeSdk)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.base64Encode)(e),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),it=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){S("frame writing exception"),u.stack&&S(u.stack),S(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||S("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){S("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),ot=null;"undefined"!=typeof MozWebSocket?ot=MozWebSocket:"undefined"!=typeof WebSocket&&(ot=WebSocket);var st=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=x(this.connId),this.stats_=Z(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return!(0,o.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&W.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),Y(t,G,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r={headers:{"User-Agent":"Firebase/5/"+u+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new ot(this.connURL,[],r)}else this.mySock=new ot(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(c){this.log_("Error instantiating WebSocket.");var a=c.message||c.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ot&&!t.forceDisallow_},t.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=M(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),at=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[rt,st]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=st&&st.isAvailable(),o=i&&!st.previouslyFailed();if(e.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[st];else{var a=this.transports_=[];try{for(var u=(0,s.__values)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),ut=function(){function t(t,e,n,r,i,o,s,a,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=x("c:"+this.id+":"),this.transportManager_=new at(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=B(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=L("t",t),n=L("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=L("t",t),n=L("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=L("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?I("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),B(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ct=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),lt=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=(0,s.__spreadArray)([],(0,s.__read)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,o.assert)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),ht=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return(0,s.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(lt),ft=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function dt(){return new ft("")}function pt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gt(t){return t.pieces_.length-t.pieceNum_}function mt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new ft(t.pieces_,e)}function vt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function yt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function bt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ft(e,0)}function _t(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ft)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ft(n,0)}function wt(t){return t.pieceNum_>=t.pieces_.length}function Ct(t,e){var n=pt(t),r=pt(e);if(null===n)return e;if(n===r)return Ct(mt(t),mt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function St(t,e){for(var n=yt(t,0),r=yt(e,0),i=0;i<n.length&&i<r.length;i++){var o=N(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function xt(t,e){if(gt(t)!==gt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function It(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(gt(t)>gt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var At=function(){return function(t,e){this.errorPrefix_=e,this.parts_=yt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);kt(this)}}();function kt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Et(t))}function Et(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var Tt,Pt,Nt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return(0,s.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(lt),Ot=1e3,Lt=function(t){function e(n,r,i,s,a,u,c,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=x("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Ot,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Nt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&ht.getInstance().on("online",h.onOnline_,h),h}return(0,s.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.Deferred,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,o.contains)(t,"w")){var n=(0,o.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,o.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):I("Unrecognized action received from server: "+(0,o.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ot,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ot,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ot),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return(0,s.__awaiter)(this,void 0,void 0,function(){var t,n,r,i,a,u,c,l,h,f,d,p,g,m=this;return(0,s.__generator)(this,function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,u=!1,c=null,this.realtime_={close:l=function(){c?c.close():(u=!0,r())},sendRequest:function(t){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return f=s.__read.apply(void 0,[v.sent(),2]),d=f[0],p=f[1],u?S("getToken() completed but was canceled"):(S("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,c=new ut(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){k(t+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")},a)),[3,4];case 3:return g=v.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&k(g),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){S("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){S("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Ot,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return D(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ft(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){S("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){S("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,s.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var u=(n=void 0,(0,s.__values)(a.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+u.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?t["framework.cordova"]=1:(0,o.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ht.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ct),Dt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Mt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Dt(T,t),r=new Dt(T,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Dt.MIN},t}(),Rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Tt},set:function(t){Tt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return N(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Dt.MIN},e.prototype.maxPost=function(){return new Dt(P,Tt)},e.prototype.makePost=function(t,e){return(0,o.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Dt(t,Tt)},e.prototype.toString=function(){return".key"},e}(Mt),Ft=new Rt,jt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ut=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Bt.EMPTY_NODE,this.right=null!=o?o:Bt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Bt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Bt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),qt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ut(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Bt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new jt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new jt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new jt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new jt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new qt,t}();function Vt(t,e){return N(t.name,e.name)}function Ht(t,e){return N(t,e)}var zt,Wt,Gt,Kt,$t,Yt=function(t){return"number"==typeof t?"number:"+F(t):"string:"+t},Qt=function(t){if(t.isLeafNode()){var e=t.val();(0,o.assert)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,o.contains)(e,".sv"),"Priority must be a string or number.")}else(0,o.assert)(t===Pt||t.isEmpty(),"priority of unexpected type.");(0,o.assert)(t===Pt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Xt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Qt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return zt},set:function(t){zt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return wt(e)?this:".priority"===pt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=pt(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===gt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(mt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Yt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?F(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Jt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Dt.MIN},e.prototype.maxPost=function(){return new Dt(P,new Xt("[PRIORITY-POST]",Gt))},e.prototype.makePost=function(t,e){var n=Wt(t);return new Dt(e,new Xt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Mt)),Zt=Math.log(2),te=function(){function t(t){this.count=parseInt(Math.log(t+1)/Zt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),ee=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Ut(s,o.node,Ut.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Ut(s,o.node,Ut.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Ut(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Ut.BLACK):(a(h,Ut.BLACK),a(h,Ut.RED))}return o}(new te(t.length));return new Bt(r||e,o)},ne={},re=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.assert)(ne&&Jt,"ChildrenNode.ts has not been loaded"),Kt=Kt||new t({".priority":ne},{".priority":Jt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Bt?e:null},t.prototype.hasIndex=function(t){return(0,o.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.assert)(e!==Ft,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,u=n.getIterator(Dt.Wrap),c=u.getNext();c;)a=a||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=a?ee(i,e.getCompare()):ne;var l=e.toString(),h=(0,s.__assign)({},this.indexSet_);h[l]=e;var f=(0,s.__assign)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t((0,o.map)(this.indexes_,function(t,i){var s=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(s,"Missing index implementation for "+i),t===ne){if(s.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Dt.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),ee(a,s.getCompare())}return ne}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Dt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,o.map)(this.indexes_,function(t){if(t===ne)return t;var r=n.get(e.name);return r?t.remove(new Dt(e.name,r)):t}),this.indexSet_)},t}(),ie=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qt(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return $t||($t=new t(new Bt(Ht),null,re.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||$t},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?$t:e},t.prototype.getChild=function(t){var e=pt(t);return null===e?this:this.getImmediateChild(e).getChild(mt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Dt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?$t:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=pt(t);if(null===n)return e;(0,o.assert)(".priority"!==pt(t)||1===gt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(mt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Jt,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Yt(this.getPriority().val())+":"),this.forEachChild(Jt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Dt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Dt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Dt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Dt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Dt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===oe?-1:0},t.prototype.withIndex=function(e){if(e===Ft||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Ft||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Jt),r=e.getIterator(Jt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Ft?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),oe=new(function(t){function e(){return t.call(this,new Bt(Ht),ie.EMPTY_NODE,re.Default)||this}return(0,s.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ie.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ie));function se(t,e){if(void 0===e&&(e=null),null===t)return ie.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Xt(t,se(e));if(t instanceof Array){var n=ie.EMPTY_NODE;return R(t,function(e,r){if((0,o.contains)(t,e)&&"."!==e.substring(0,1)){var i=se(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(se(e))}var r=[],i=!1;if(R(t,function(t,e){if("."!==t.substring(0,1)){var n=se(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Dt(t,n)))}}),0===r.length)return ie.EMPTY_NODE;var s=ee(r,Vt,function(t){return t.name},Ht);if(i){var a=ee(r,Jt.getCompare());return new ie(s,se(e),new re({".priority":a},{".priority":Jt}))}return new ie(s,se(e),re.Default)}Object.defineProperties(Dt,{MIN:{value:new Dt(T,ie.EMPTY_NODE)},MAX:{value:new Dt(P,oe)}}),Rt.__EMPTY_NODE=ie.EMPTY_NODE,Xt.__childrenNodeConstructor=ie,Pt=oe,Gt=oe,Wt=se;var ae,ue,ce=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.assert)(!wt(e)&&".priority"!==pt(e),"Can't create PathIndex with empty path or .priority key"),n}return(0,s.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?N(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=se(t),r=ie.EMPTY_NODE.updateChild(this.indexPath_,n);return new Dt(e,r)},e.prototype.maxPost=function(){var t=ie.EMPTY_NODE.updateChild(this.indexPath_,oe);return new Dt(P,t)},e.prototype.toString=function(){return yt(this.indexPath_,0).join("/")},e}(Mt),le=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?N(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Dt.MIN},e.prototype.maxPost=function(){return Dt.MAX},e.prototype.makePost=function(t,e){var n=se(t);return new Dt(e,n)},e.prototype.toString=function(){return".value"},e}(Mt)),he="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fe=(ae=0,ue=[],function(t){var e,n=t===ae;ae=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=he.charAt(t%64),t=Math.floor(t/64);(0,o.assert)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===ue[e];e--)ue[e]=0;ue[e]++}else for(e=0;e<12;e++)ue[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=he.charAt(ue[e]);return(0,o.assert)(20===i.length,"nextPushId: Length should be 20."),i}),de=function(t){if("2147483647"===t)return"-";var e=U(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return P;var o=he.charAt(he.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},pe=function(t){if("-2147483648"===t)return T;var e=U(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=he.charAt(he.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function ge(t){return{type:"value",snapshotNode:t}}function me(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ve(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ye(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var be=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){(0,o.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(ve(e,a)):(0,o.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(me(e,n)):s.trackChildChange(ye(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Jt,function(t,r){e.hasChild(t)||n.trackChildChange(ve(t,r))}),e.isLeafNode()||e.forEachChild(Jt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ye(e,r,i))}else n.trackChildChange(me(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ie.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),_e=function(){function t(e){this.indexedFilter_=new be(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Dt(e,n))||(n=ie.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ie.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(ie.EMPTY_NODE);var i=this;return e.forEachChild(Jt,function(t,e){i.matches(new Dt(t,e))||(r=r.updateImmediateChild(t,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),we=function(){function t(t){this.rangedFilter_=new _e(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Dt(e,n))||(n=ie.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=ie.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=ie.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(ie.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,ie.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var u=t;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Dt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:s(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ye(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ve(e,f));var g=u.updateImmediateChild(e,ie.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(me(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?t:h&&s(l,c)>=0?(null!=i&&(i.trackChildChange(ve(l.name,l.node)),i.trackChildChange(me(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,ie.EMPTY_NODE)):t},t}(),Ce=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:T},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Jt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Se(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function xe(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ie(t,e){var n=t.copy();return n.index_=e,n}function Ae(t){var e,n={};return t.isDefault()||(t.index_===Jt?e="$priority":t.index_===le?e="$value":t.index_===Ft?e="$key":((0,o.assert)(t.index_ instanceof ce,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,o.stringify)(e),t.startSet_&&(n.startAt=(0,o.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,o.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,o.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,o.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function ke(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Jt&&(e.i=t.index_.toString()),e}var Ee=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=x("p:rest:"),o.listens_={},o}return(0,s.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=Ae(t._queryParams);this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),(0,o.safeGet)(s.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Ae(t._queryParams),r=t._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var a=(0,s.__read)(i,2),u=a[0],c=a[1];u&&u.accessToken&&(e.auth=u.accessToken),c&&c.token&&(e.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=(0,o.jsonEval)(h.responseText)}catch(e){k("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&k("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},e}(ct),Te=function(){function t(){this.rootNode_=ie.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Pe(){return{value:null,children:new Map}}function Ne(t,e,n){if(wt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=pt(e);t.children.has(r)||t.children.set(r,Pe()),Ne(t.children.get(r),e=mt(e),n)}}function Oe(t,e){if(wt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Jt,function(e,n){Ne(t,new ft(e),n)}),Oe(t,e)}if(t.children.size>0){var r=pt(e);return e=mt(e),t.children.has(r)&&Oe(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Le(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Le(r,new ft(e.toString()+"/"+t),n)})}var De=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,s.__assign)({},t);return this.last_&&R(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Me=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new De(t);var n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;R(e,function(e,i){i>0&&(0,o.contains)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Re=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Fe(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var je,Ue=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Re.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(wt(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ft(e));return new t(dt(),n,this.revert)}return(0,o.assert)(pt(this.path)===e,"operationForChild called for unrelated child."),new t(mt(this.path),this.affectedTree,this.revert)},t}(),qe=function(){function t(t,e){this.source=t,this.path=e,this.type=Re.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return wt(this.path)?new t(this.source,dt()):new t(this.source,mt(this.path))},t}(),Be=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Re.OVERWRITE}return t.prototype.operationForChild=function(e){return wt(this.path)?new t(this.source,dt(),this.snap.getImmediateChild(e)):new t(this.source,mt(this.path),this.snap)},t}(),Ve=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Re.MERGE}return t.prototype.operationForChild=function(e){if(wt(this.path)){var n=this.children.subtree(new ft(e));return n.isEmpty()?null:n.value?new Be(this.source,dt(),n.value):new t(this.source,dt(),n)}return(0,o.assert)(pt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,mt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),He=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(wt(t))return this.isFullyInitialized()&&!this.filtered_;var e=pt(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ze=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function We(t,e,n,r,i,s){var a=r.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Dt(e.childName,e.snapshotNode),i=new Dt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),a.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function Ge(t,e){return{eventCache:t,serverCache:e}}function Ke(t,e,n,r){return Ge(new He(e,n,r),t.serverCache)}function $e(t,e,n,r){return Ge(t.eventCache,new He(e,n,r))}function Ye(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Qe(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Xe=function(){function t(t,e){void 0===e&&(je||(je=new Bt(O)),e=je),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return R(e,function(t,e){n=n.set(new ft(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:dt(),value:this.value};if(wt(t))return null;var n=pt(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(mt(t),e);return null!=i?{path:_t(new ft(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(wt(e))return this;var n=pt(e),r=this.children.get(n);return null!==r?r.subtree(mt(e)):new t(null)},t.prototype.set=function(e,n){if(wt(e))return new t(n,this.children);var r=pt(e),i=(this.children.get(r)||new t(null)).set(mt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(wt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=pt(e),r=this.children.get(n);if(r){var i=r.remove(mt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(wt(t))return this.value;var e=pt(t),n=this.children.get(e);return n?n.get(mt(t)):null},t.prototype.setTree=function(e,n){if(wt(e))return n;var r,i=pt(e),o=(this.children.get(i)||new t(null)).setTree(mt(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(dt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(_t(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,dt(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(wt(t))return null;var i=pt(t),o=this.children.get(i);return o?o.findOnPath_(mt(t),_t(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,dt(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(wt(e))return this;this.value&&r(n,this.value);var i=pt(e),o=this.children.get(i);return o?o.foreachOnPath_(mt(e),_t(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(dt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(_t(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Je=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Xe(null))},t}();function Ze(t,e,n){if(wt(e))return new Je(new Xe(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=Ct(i,e);return o=o.updateChild(s,n),new Je(t.writeTree_.set(i,o))}var a=new Xe(n),u=t.writeTree_.setTree(e,a);return new Je(u)}function tn(t,e,n){var r=t;return R(n,function(t,n){r=Ze(r,_t(e,t),n)}),r}function en(t,e){if(wt(e))return Je.empty();var n=t.writeTree_.setTree(e,new Xe(null));return new Je(n)}function nn(t,e){return null!=rn(t,e)}function rn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function on(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Jt,function(t,n){e.push(new Dt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Dt(t,n.value))}),e}function sn(t,e){if(wt(e))return t;var n=rn(t,e);return new Je(null!=n?new Xe(n):t.writeTree_.subtree(e))}function an(t){return t.writeTree_.isEmpty()}function un(t,e){return cn(dt(),t.writeTree_,e)}function cn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=cn(_t(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(_t(t,".priority"),r)),n}function ln(t,e){return wn(e,t)}function hn(t,e){if(t.snap)return It(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&It(_t(t.path,n),e))return!0;return!1}function fn(t){return t.visible}function dn(t,e,n){for(var r=Je.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,u=void 0;if(s.snap)It(n,a)?r=Ze(r,u=Ct(n,a),s.snap):It(a,n)&&(u=Ct(a,n),r=Ze(r,dt(),s.snap.getChild(u)));else{if(!s.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(It(n,a))r=tn(r,u=Ct(n,a),s.children);else if(It(a,n))if(wt(u=Ct(a,n)))r=tn(r,dt(),s.children);else{var c=(0,o.safeGet)(s.children,pt(u));if(c){var l=c.getChild(mt(u));r=Ze(r,dt(),l)}}}}}return r}function pn(t,e,n,r,i){if(r||i){var o=sn(t.visibleWrites,e);return!i&&an(o)?n:i||null!=n||nn(o,dt())?un(dn(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(It(t.path,e)||It(e,t.path))},e),n||ie.EMPTY_NODE):null}var s=rn(t.visibleWrites,e);if(null!=s)return s;var a=sn(t.visibleWrites,e);return an(a)?n:null!=n||nn(a,dt())?un(a,n||ie.EMPTY_NODE):null}function gn(t,e,n,r){return pn(t.writeTree,t.treePath,e,n,r)}function mn(t,e){return function(t,e,n){var r=ie.EMPTY_NODE,i=rn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Jt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=sn(t.visibleWrites,e);return n.forEachChild(Jt,function(t,e){var n=un(sn(o,new ft(t)),e);r=r.updateImmediateChild(t,n)}),on(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return on(sn(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function vn(t,e,n,r){return function(t,e,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=_t(e,n);if(nn(t.visibleWrites,s))return null;var a=sn(t.visibleWrites,s);return an(a)?i.getChild(n):un(a,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function yn(t,e){return function(t,e){return rn(t.visibleWrites,e)}(t.writeTree,_t(t.treePath,e))}function bn(t,e,n){return function(t,e,n,r){var i=_t(e,n),o=rn(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?un(sn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function _n(t,e){return wn(_t(t.treePath,e),t.writeTree)}function wn(t,e){return{treePath:t,writeTree:e}}var Cn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,ye(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,ve(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,me(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ye(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Sn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),xn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new He(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qe(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,u=sn(t.visibleWrites,e),c=rn(u,dt());if(null!=c)a=c;else{if(null==n)return[];a=un(u,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),d=f.getNext();d&&l.length<1;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function In(t,e,n,r,i,s){var a=e.eventCache;if(null!=yn(r,n))return e;var u=void 0,c=void 0;if(wt(n))if((0,o.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=Qe(e),h=mn(r,l instanceof ie?l:ie.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var f=gn(r,Qe(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{var d=pt(n);if(".priority"===d){(0,o.assert)(1===gt(n),"Can't have a priority with additional path components");var p=a.getNode(),g=vn(r,n,p,c=e.serverCache.getNode());u=null!=g?t.filter.updatePriority(p,g):a.getNode()}else{var m=mt(n),v=void 0;if(a.isCompleteForChild(d)){c=e.serverCache.getNode();var y=vn(r,n,a.getNode(),c);v=null!=y?a.getNode().getImmediateChild(d).updateChild(m,y):a.getNode().getImmediateChild(d)}else v=bn(r,d,e.serverCache);u=null!=v?t.filter.updateChild(a.getNode(),d,v,m,i,s):a.getNode()}}return Ke(e,u,a.isFullyInitialized()||wt(n),t.filter.filtersNodes())}function An(t,e,n,r,i,o,s,a){var u,c=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(wt(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=pt(n);if(!c.isCompleteForPath(n)&&gt(n)>1)return e;var d=mt(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,Sn,null)}var g=$e(e,u,c.isFullyInitialized()||wt(n),l.filtersNodes());return In(t,g,n,i,new xn(i,g,o),a)}function kn(t,e,n,r,i,o,s){var a,u,c=e.eventCache,l=new xn(i,e,o);if(wt(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Ke(e,u,!0,t.filter.filtersNodes());else{var h=pt(n);if(".priority"===h)u=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ke(e,u,c.isFullyInitialized(),c.isFiltered());else{var f=mt(n),d=c.getNode().getImmediateChild(h),p=void 0;if(wt(f))p=r;else{var g=l.getCompleteChild(h);p=null!=g?".priority"===vt(f)&&g.getChild(bt(f)).isEmpty()?g:g.updateChild(f,r):ie.EMPTY_NODE}a=d.equals(p)?e:Ke(e,t.filter.updateChild(c.getNode(),h,p,f,l,s),c.isFullyInitialized(),t.filter.filtersNodes())}}return a}function En(t,e){return t.eventCache.isCompleteForChild(e)}function Tn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function Pn(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=wt(n)?r:new Xe(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=Tn(0,e.serverCache.getNode().getImmediateChild(n),r);c=An(t,c,new ft(n),u,i,o,s,a)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Tn(0,e.serverCache.getNode().getImmediateChild(n),r);c=An(t,c,new ft(n),h,i,o,s,a)}}),c}var Nn,On=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new be(r.getIndex()),o=(n=r).loadsAllData()?new be(n.getIndex()):n.hasLimit()?new we(n):new _e(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,u=i.updateFullNode(ie.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(ie.EMPTY_NODE,a.getNode(),null),l=new He(u,s.isFullyInitialized(),i.filtersNodes()),h=new He(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Ge(h,l),this.eventGenerator_=new ze(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Ln(t,e){var n=Qe(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!wt(e)&&!n.getImmediateChild(pt(e)).isEmpty())?n.getChild(e):null}function Dn(t){return 0===t.eventRegistrations_.length}function Mn(t,e,n){var r=[];if(n){(0,o.assert)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var u=t.eventRegistrations_[a];if(u.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(u)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Rn(t,e,n,r){e.type===Re.MERGE&&null!==e.source.queryId&&((0,o.assert)(Qe(t.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(Ye(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,s,a=t.viewCache_,u=function(t,e,n,r,i){var s,a,u=new Cn;if(n.type===Re.OVERWRITE){var c=n;c.source.fromUser?s=kn(t,e,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!wt(c.path),s=An(t,e,c.path,c.snap,r,i,a,u))}else if(n.type===Re.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach(function(r,u){var c=_t(n,r);En(e,pt(c))&&(a=kn(t,a,c,u,i,o,s))}),r.foreach(function(r,u){var c=_t(n,r);En(e,pt(c))||(a=kn(t,a,c,u,i,o,s))}),a}(t,e,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Pn(t,e,l.path,l.children,r,i,a,u))}else if(n.type===Re.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,i,s){var a;if(null!=yn(r,n))return e;var u=new xn(r,e,i),c=e.eventCache.getNode(),l=void 0;if(wt(n)||".priority"===pt(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=gn(r,Qe(e));else{var f=e.serverCache.getNode();(0,o.assert)(f instanceof ie,"serverChildren would be complete if leaf node"),h=mn(r,f)}l=t.filter.updateFullNode(c,h=h,s)}else{var d=pt(n),p=bn(r,d,e.serverCache);null==p&&e.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?t.filter.updateChild(c,d,p,mt(n),u,s):e.eventCache.getNode().hasChild(d)?t.filter.updateChild(c,d,ie.EMPTY_NODE,mt(n),u,s):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=gn(r,Qe(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=yn(r,dt()),Ke(e,l,a,t.filter.filtersNodes())}(t,e,h.path,r,i,u):function(t,e,n,r,i,o,s){if(null!=yn(i,n))return e;var a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(wt(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return An(t,e,n,u.getNode().getChild(n),i,o,a,s);if(wt(n)){var c=new Xe(null);return u.getNode().forEachChild(Ft,function(t,e){c=c.set(new ft(t),e)}),Pn(t,e,n,c,i,o,a,s)}return e}var l=new Xe(null);return r.foreach(function(t,e){var r=_t(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),Pn(t,e,n,l,i,o,a,s)}(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Re.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return In(t,$e(e,o.getNode(),o.isFullyInitialized()||wt(n),o.isFiltered()),n,r,Sn,i)}(t,e,n.path,r,u)}var f=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ye(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ge(Ye(e)))}}(e,s,f),{viewCache:s,changes:f}}(t.processor_,a,e,n,r);return i=t.processor_,(0,o.assert)((s=u.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Fn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Fn(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),We(t,i,"child_removed",e,r,n),We(t,i,"child_added",e,r,n),We(t,i,"child_moved",o,r,n),We(t,i,"child_changed",e,r,n),We(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var jn,Un=function(){return function(){this.views=new Map}}();function qn(t,e,n,r){var i,a,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Rn(c,e,n,r)}var l=[];try{for(var h=(0,s.__values)(t.views.values()),f=h.next();!f.done;f=h.next())l=l.concat(Rn(c=f.value,e,n,r))}catch(d){i={error:d}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return l}function Bn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var s=gn(n,i?r:null),a=!1;s?a=!0:r instanceof ie?(s=mn(n,r),a=!1):(s=ie.EMPTY_NODE,a=!1);var u=Ge(new He(s,a,!1),new He(r,i,!1));return new On(e,u)}return o}function Vn(t){var e,n,r=[];try{for(var i=(0,s.__values)(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Hn(t,e){var n,r,i=null;try{for(var o=(0,s.__values)(t.views.values()),a=o.next();!a.done;a=o.next())i=i||Ln(a.value,e)}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function zn(t,e){return e._queryParams.loadsAllData()?Kn(t):t.views.get(e._queryIdentifier)}function Wn(t,e){return null!=zn(t,e)}function Gn(t){return null!=Kn(t)}function Kn(t){var e,n;try{for(var r=(0,s.__values)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var $n=1,Yn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new Xe(null),this.pendingWriteTree_={visibleWrites:Je.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Qn(t,e,n,r,i){return function(t,e,n,r,i){(0,o.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ze(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?nr(t,new Be({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Xn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=t.allWrites.length-1;i&&a>=0;){var u=t.allWrites[a];u.visible&&(a>=n&&hn(u,r.path)?i=!1:It(r.path,u.path)&&(s=!0)),a--}return!!i&&(s?(function(t){t.visibleWrites=dn(t.allWrites,fn,dt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=en(t.visibleWrites,r.path):R(r.children,function(e){t.visibleWrites=en(t.visibleWrites,_t(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var i=new Xe(null);return null!=r.snap?i=i.set(dt(),!0):R(r.children,function(t){i=i.set(new ft(t),!0)}),nr(t,new Ue(r.path,i,n))}return[]}function Jn(t,e,n){return nr(t,new Be({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Zn(t,e,n,r){var i=e._path,a=t.syncPointTree_.get(i),u=[];if(a&&("default"===e._queryIdentifier||Wn(a,e))){var c=function(t,e,n,r){var i,a,u=e._queryIdentifier,c=[],l=[],h=Gn(t);if("default"===u)try{for(var f=(0,s.__values)(t.views.entries()),d=f.next();!d.done;d=f.next()){var p,g=(0,s.__read)(d.value,2),m=g[0];l=l.concat(Mn(p=g[1],n,r)),Dn(p)&&(t.views.delete(m),p.query._queryParams.loadsAllData()||c.push(p.query))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}else(p=t.views.get(u))&&(l=l.concat(Mn(p,n,r)),Dn(p)&&(t.views.delete(u),p.query._queryParams.loadsAllData()||c.push(p.query)));return h&&!Gn(t)&&c.push(new((0,o.assert)(Nn,"Reference.ts has not been loaded"),Nn)(e._repo,e._path)),{removed:c,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var l=c.removed;u=c.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),f=t.syncPointTree_.findOnPath(i,function(t,e){return Gn(e)});if(h&&!f){var d=t.syncPointTree_.subtree(i);if(!d.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&Gn(e))return[Kn(e)];var r=[];return e&&(r=Vn(e)),R(n,function(t,e){r=r.concat(e)}),r})}(d),g=0;g<p.length;++g){var m=p[g],v=m.query,y=or(t,m);t.listenProvider_.startListening(hr(v),sr(t,v),y.hashFn,y.onComplete)}}!f&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(hr(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(ar(e));t.listenProvider_.stopListening(hr(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=ar(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return u}function tr(t,e,n){var r=e._path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=Ct(t,r);i=i||Hn(e,n),s=s||Gn(e)});var a,u=t.syncPointTree_.get(r);u?(s=s||Gn(u),i=i||Hn(u,dt())):(u=new Un,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=ie.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Hn(e,dt());n&&(i=i.updateImmediateChild(t,n))}));var c=Wn(u,e);if(!c&&!e._queryParams.loadsAllData()){var l=ar(e);(0,o.assert)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=$n++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var f=function(t,e,n,r,i,o){var s=Bn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Jt,function(t,e){r.push(me(t,e))}),n.isFullyInitialized()&&r.push(ge(n.getNode())),Fn(t,r,n.getNode(),e)}(s,n)}(u,e,n,ln(t.pendingWriteTree_,r),i,a);if(!c&&!s){var d=zn(u,e);f=f.concat(function(t,e,n){var r=e._path,i=sr(t,e),s=or(t,n),a=t.listenProvider_.startListening(hr(e),i,s.hashFn,s.onComplete),u=t.syncPointTree_.subtree(r);if(i)(0,o.assert)(!Gn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!wt(t)&&e&&Gn(e))return[Kn(e).query];var r=[];return e&&(r=r.concat(Vn(e).map(function(t){return t.query}))),R(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(hr(h),sr(t,h))}return a}(t,e,d))}return f}function er(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Hn(n,Ct(t,e));if(r)return r});return pn(r,e,i,n,!0)}function nr(t,e){return rr(e,t.syncPointTree_,null,ln(t.pendingWriteTree_,dt()))}function rr(t,e,n,r){if(wt(t.path))return ir(t,e,n,r);var i=e.get(dt());null==n&&null!=i&&(n=Hn(i,dt()));var o=[],s=pt(t.path),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=_n(r,s);o=o.concat(rr(a,u,c,l))}return i&&(o=o.concat(qn(i,t,r,n))),o}function ir(t,e,n,r){var i=e.get(dt());null==n&&null!=i&&(n=Hn(i,dt()));var o=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,a=_n(r,e),u=t.operationForChild(e);u&&(o=o.concat(ir(u,i,s,a)))}),i&&(o=o.concat(qn(i,t,r,n))),o}function or(t,e){var n=e.query,r=sr(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||ie.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=ur(t,n);if(r){var i=cr(r),o=i.path,s=i.queryId,a=Ct(o,e);return lr(t,o,new qe(Fe(s),a))}return[]}(t,n._path,r):function(t,e){return nr(t,new qe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Zn(t,n,null,i)}}}function sr(t,e){var n=ar(e);return t.queryToTagMap.get(n)}function ar(t){return t._path.toString()+"$"+t._queryIdentifier}function ur(t,e){return t.tagToQueryMap.get(e)}function cr(t){var e=t.indexOf("$");return(0,o.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ft(t.substr(0,e))}}function lr(t,e,n){var r=t.syncPointTree_.get(e);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),qn(r,n,ln(t.pendingWriteTree_,e),null)}function hr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,o.assert)(jn,"Reference.ts has not been loaded"),jn)(t._repo,t._path):t}var fr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),dr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=_t(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return er(this.syncTree_,this.path_)},t}(),pr=function(t,e,n){return t&&"object"==typeof t?((0,o.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?gr(t[".sv"],e,n):"object"==typeof t[".sv"]?mr(t[".sv"],e):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},gr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,o.assert)(!1,"Unexpected server value: "+t)}},mr=function(t,e,n){t.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,o.assert)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},vr=function(t,e,n,r){return br(e,new dr(n,t),r)},yr=function(t,e,n){return br(t,new fr(e),n)};function br(t,e,n){var r,i=t.getPriority().val(),o=pr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=pr(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Xt(a,se(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Xt(o))),u.forEachChild(Jt,function(t,i){var o=br(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var _r=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function wr(t,e){for(var n=e instanceof ft?e:new ft(e),r=t,i=pt(n);null!==i;){var s=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new _r(i,r,s),i=pt(n=mt(n))}return r}function Cr(t){return t.node.value}function Sr(t,e){t.node.value=e,Er(t)}function xr(t){return t.node.childCount>0}function Ir(t,e){R(t.node.children,function(n,r){e(new _r(n,t,r))})}function Ar(t,e,n,r){n&&!r&&e(t),Ir(t,function(t){Ar(t,e,!0,r)}),n&&r&&e(t)}function kr(t){return new ft(null===t.parent?t.name:kr(t.parent)+"/"+t.name)}function Er(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===Cr(t)&&!xr(t)}(n),i=(0,o.contains)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Er(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Er(t))}(t.parent,t.name,t)}var Tr=/[\[\].#$\/\u0000-\u001F\u007F]/,Pr=/[\[\].#$\u0000-\u001F\u007F]/,Nr=10485760,Or=function(t){return"string"==typeof t&&0!==t.length&&!Tr.test(t)},Lr=function(t){return"string"==typeof t&&0!==t.length&&!Pr.test(t)},Dr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!E(t)||t&&"object"==typeof t&&(0,o.contains)(t,".sv")},Mr=function(t,e,n,r){r&&void 0===e||Rr((0,o.errorPrefix)(t,"value"),e,n)},Rr=function(t,e,n){var r=n instanceof ft?new At(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Et(r));if("function"==typeof e)throw new Error(t+"contains a function "+Et(r)+" with contents = "+e.toString());if(E(e))throw new Error(t+"contains "+e.toString()+" "+Et(r));if("string"==typeof e&&e.length>Nr/3&&(0,o.stringLength)(e)>Nr)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+Et(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(R(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!Or(e)))throw new Error(t+" contains an invalid key ("+e+") "+Et(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,u;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,o.stringLength)(e),kt(t)}(r,e),Rr(t,n,r),u=(a=r).parts_.pop(),a.byteLength_-=(0,o.stringLength)(u),a.parts_.length>0&&(a.byteLength_-=1)}),i&&s)throw new Error(t+' contains ".value" child '+Et(r)+" in addition to actual children.")}},Fr=function(t,e,n,r){if(!r||void 0!==e){var i=(0,o.errorPrefix)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var s=[];R(e,function(t,e){var r=new ft(t);if(Rr(i,e,_t(n,r)),".priority"===vt(r)&&!Dr(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=yt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Or(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(St);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&It(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,s)}},jr=function(t,e,n){if(!n||void 0!==e){if(E(e))throw new Error((0,o.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Dr(e))throw new Error((0,o.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ur=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},qr=function(t,e,n,r){if(!(r&&void 0===n||Or(n)))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Br=function(t,e,n,r){if(!(r&&void 0===n||Lr(n)))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vr=function(t,e){if(".info"===pt(e))throw new Error(t+" failed = Can't modify data under /.info/")},Hr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Or(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Lr(t)}(n))throw new Error((0,o.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},zr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.errorPrefix)(t,e)+"must be a boolean.")},Wr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Gr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||xt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Kr(t,e,n){Gr(t,n),Yr(t,function(t){return xt(t,e)})}function $r(t,e,n){Gr(t,n),Yr(t,function(t){return It(t,e)||It(e,t)})}function Yr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(Qr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function Qr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();_&&S("event: "+n.toString()),q(r)}}}var Xr="repo_interrupt",Jr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Wr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pe(),this.transactionQueueTree_=new _r,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Zr(t){var e=t.infoData_.getNode(new ft(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ti(t){return(e=(e={timestamp:Zr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function ei(t,e,n,r,i){t.dataUpdateCount++;var s=new ft(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var u=(0,o.map)(n,function(t){return se(t)});a=function(t,e,n,r){var i=ur(t,r);if(i){var o=cr(i),s=o.path,a=o.queryId,u=Ct(s,e),c=Xe.fromObject(n);return lr(t,s,new Ve(Fe(a),u,c))}return[]}(t.serverSyncTree_,s,u,i)}else{var c=se(n);a=function(t,e,n,r){var i=ur(t,r);if(null!=i){var o=cr(i),s=o.path,a=o.queryId,u=Ct(s,e);return lr(t,s,new Be(Fe(a),u,n))}return[]}(t.serverSyncTree_,s,c,i)}else if(r){var l=(0,o.map)(n,function(t){return se(t)});a=function(t,e,n){var r=Xe.fromObject(n);return nr(t,new Ve({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=se(n);a=Jn(t.serverSyncTree_,s,h)}var f=s;a.length>0&&(f=pi(t,s)),$r(t.eventQueue_,f,a)}function ni(t,e){ri(t,"connected",e),!1===e&&function(t){li(t,"onDisconnectEvents");var e=ti(t),n=Pe();Le(t.onDisconnect_,dt(),function(r,i){var o=vr(r,i,t.serverSyncTree_,e);Ne(n,r,o)});var r=[];Le(n,dt(),function(e,n){r=r.concat(Jn(t.serverSyncTree_,e,n));var i=bi(t,e);pi(t,i)}),t.onDisconnect_=Pe(),$r(t.eventQueue_,dt(),r)}(t)}function ri(t,e,n){var r=new ft("/.info/"+e),i=se(n);t.infoData_.updateSnapshot(r,i);var o=Jn(t.infoSyncTree_,r,i);$r(t.eventQueue_,r,o)}function ii(t){return t.nextWriteId_++}function oi(t,e,n,r,i){li(t,"set",{path:e.toString(),value:n,priority:r});var o=ti(t),s=se(n,r),a=er(t.serverSyncTree_,e),u=yr(s,a,o),c=ii(t),l=Qn(t.serverSyncTree_,e,u,c,!0);Gr(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),function(n,r){var o="ok"===n;o||k("set at "+e+" failed: "+n);var s=Xn(t.serverSyncTree_,c,!o);$r(t.eventQueue_,e,s),hi(0,i,n,r)});var h=bi(t,e);pi(t,h),$r(t.eventQueue_,h,[])}function si(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&Oe(t.onDisconnect_,e),hi(0,n,r,i)})}function ai(t,e,n,r){var i=se(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Ne(t.onDisconnect_,e,i),hi(0,r,n,o)})}function ui(t,e,n){var r;r=".info"===pt(e._path)?Zn(t.infoSyncTree_,e,n):Zn(t.serverSyncTree_,e,n),Kr(t.eventQueue_,e._path,r)}function ci(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Xr)}function li(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),S.apply(void 0,(0,s.__spreadArray)([r],(0,s.__read)(e)))}function hi(t,e,n,r){e&&q(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function fi(t,e,n){return er(t.serverSyncTree_,e,n)||ie.EMPTY_NODE}function di(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||yi(t,e),Cr(e)){var n=mi(t,e);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=fi(t,e,r),s=i,a=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Ct(e,c.path);s=s.updateChild(l,c.currentOutputSnapshotRaw)}var h=s.val(!0),f=e;t.server_.put(f.toString(),h,function(r){li(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Xn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(yi(t,wr(t.transactionQueueTree_,e)),di(t,t.transactionQueueTree_),$r(t.eventQueue_,e,i),a=0;a<o.length;a++)q(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(k("transaction at "+f.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;pi(t,e)}},a)}(t,kr(e),n)}else xr(e)&&Ir(e,function(e){di(t,e)})}function pi(t,e){var n=gi(t,e),r=kr(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var u,c=e[a],l=Ct(n,c.path),h=!1;if((0,o.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)h=!0,u=c.abortReason,i=i.concat(Xn(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=25)h=!0,u="maxretry",i=i.concat(Xn(t.serverSyncTree_,c.currentWriteId,!0));else{var f=fi(t,c.path,s);c.currentInputSnapshot=f;var d=e[a].update(f.val());if(void 0!==d){Rr("transaction failed: Data returned ",d,c.path);var p=se(d);"object"==typeof d&&null!=d&&(0,o.contains)(d,".priority")||(p=p.updatePriority(f.getPriority()));var g=c.currentWriteId,m=ti(t),v=yr(p,f,m);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=v,c.currentWriteId=ii(t),s.splice(s.indexOf(g),1),i=(i=i.concat(Qn(t.serverSyncTree_,c.path,v,c.currentWriteId,c.applyLocally))).concat(Xn(t.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(Xn(t.serverSyncTree_,c.currentWriteId,!0))}$r(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===u?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(u),!1,null)}))},u=0;u<e.length;u++)a(u);for(yi(t,t.transactionQueueTree_),u=0;u<r.length;u++)q(r[u]);di(t,t.transactionQueueTree_)}}(t,mi(t,n),r),r}function gi(t,e){var n,r=t.transactionQueueTree_;for(n=pt(e);null!==n&&void 0===Cr(r);)r=wr(r,n),n=pt(e=mt(e));return r}function mi(t,e){var n=[];return vi(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function vi(t,e,n){var r=Cr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Ir(e,function(e){vi(t,e,n)})}function yi(t,e){var n=Cr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Sr(e,n.length>0?n:void 0)}Ir(e,function(e){yi(t,e)})}function bi(t,e){var n=kr(gi(t,e)),r=wr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){_i(t,e)}),_i(t,r),Ar(r,function(e){_i(t,e)}),n}function _i(t,e){var n=Cr(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?((0,o.assert)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):((0,o.assert)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Xn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?Sr(e,void 0):n.length=s+1,$r(t.eventQueue_,kr(e),i),a=0;a<r.length;a++)q(r[a])}}var wi=function(t,e){var n=Ci(t),r=n.namespace;return"firebase.com"===n.domain&&A(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||A("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ft(n.pathString)}},Ci=function(t){var e="",n="",r="",i="",o="",a=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=(0,s.__values)(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):k("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(a="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),o=r}"ns"in d&&(o=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:a,scheme:u,pathString:i,namespace:o}},Si=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},t}(),xi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Ii=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Ai=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.Deferred;return si(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Vr("OnDisconnect.remove",this._path);var t=new o.Deferred;return ai(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Vr("OnDisconnect.set",this._path),Mr("OnDisconnect.set",t,this._path,!1);var e=new o.Deferred;return ai(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Vr("OnDisconnect.setWithPriority",this._path),Mr("OnDisconnect.setWithPriority",t,this._path,!1),jr("OnDisconnect.setWithPriority",e,!1);var n=new o.Deferred;return function(t,e,n,r,i){var o=se(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Ne(t.onDisconnect_,e,o),hi(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Vr("OnDisconnect.update",this._path),Fr("OnDisconnect.update",t,this._path,!1);var e=new o.Deferred;return function(t,e,n,r){if((0,o.isEmpty)(n))return S("onDisconnect().update() called with empty data.  Don't do anything."),void hi(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&R(n,function(n,r){var i=se(r);Ne(t.onDisconnect_,_t(e,n),i)}),hi(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),ki=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return wt(this._path)?null:vt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ni(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=ke(this._queryParams),e=D(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return ke(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=(0,o.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,r=xt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Ei(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ti(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Ft){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==T)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==P)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Jt){if(null!=e&&!Dr(e)||null!=n&&!Dr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(t.getIndex()instanceof ce||t.getIndex()===le,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Pi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ni=function(t){function e(e,n){return t.call(this,e,n,new Ce,!1)||this}return(0,s.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=bt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(ki),Oi=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new ft(e),r=Mi(this.ref,e);return new t(this._node.getChild(n),r,Jt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Mi(n.ref,r),Jt))})},t.prototype.hasChild=function(t){var e=new ft(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Li(t,e){return(t=(0,o.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?Mi(t._root,e):t._root}function Di(t,e){(t=(0,o.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=wi(e,t._repo.repoInfo_.nodeAdmin);Hr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||A("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Li(t,n.path.toString())}function Mi(t,e){var n;return null===pt((t=(0,o.getModularInstance)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Br("child","path",n,!1)):Br("child","path",e,!1),new Ni(t._repo,_t(t._path,e))}function Ri(t,e){t=(0,o.getModularInstance)(t),Vr("push",t._path),Mr("push",e,t._path,!0);var n,r=Zr(t._repo),i=fe(r),s=Mi(t,i),a=Mi(t,i);return n=null!=e?ji(a,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function Fi(t){return Vr("remove",t._path),ji(t,null)}function ji(t,e){t=(0,o.getModularInstance)(t),Vr("set",t._path),Mr("set",e,t._path,!1);var n=new o.Deferred;return oi(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Ui(t,e){t=(0,o.getModularInstance)(t),Vr("setPriority",t._path),jr("setPriority",e,!1);var n=new o.Deferred;return oi(t._repo,_t(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function qi(t,e,n){if(Vr("setWithPriority",t._path),Mr("setWithPriority",e,t._path,!1),jr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.Deferred;return oi(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Bi(t,e){Fr("update",e,t._path,!1);var n=new o.Deferred;return function(t,e,n,r){li(t,"update",{path:e.toString(),value:n});var i=!0,s=ti(t),a={};if(R(n,function(n,r){i=!1,a[n]=vr(_t(e,n),se(r),t.serverSyncTree_,s)}),i)S("update() called with empty data.  Don't do anything."),hi(0,r,"ok",void 0);else{var u=ii(t),c=function(t,e,n,r){!function(t,e,n,r){(0,o.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=tn(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=Xe.fromObject(n);return nr(t,new Ve({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,a,u);Gr(t.eventQueue_,c),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||k("update at "+e+" failed: "+n);var s=Xn(t.serverSyncTree_,u,!o),a=s.length>0?pi(t,e):e;$r(t.eventQueue_,a,s),hi(0,r,n,i)}),R(n,function(n){var r=bi(t,_t(e,n));pi(t,r)}),$r(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var Vi=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Si("value",this,new Oi(t.snapshotNode,new Ni(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new xi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Hi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new xi(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.assert)(null!=t.childName,"Child events should have a childName.");var n=Mi(new Ni(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Si(t.type,this,new Oi(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function zi(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){ui(t._repo,t,c),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var u=new Ii(n,o||void 0),c="value"===e?new Vi(u):new Hi(e,u);return function(t,e,n){var r;r=".info"===pt(e._path)?tr(t.infoSyncTree_,e,n):tr(t.serverSyncTree_,e,n),Kr(t.eventQueue_,e._path,r)}(t._repo,t,c),function(){return ui(t._repo,t,c)}}function Wi(t,e,n,r){return zi(t,"value",e,n,r)}function Gi(t,e,n,r){return zi(t,"child_added",e,n,r)}function Ki(t,e,n,r){return zi(t,"child_changed",e,n,r)}function $i(t,e,n,r){return zi(t,"child_moved",e,n,r)}function Yi(t,e,n,r){return zi(t,"child_removed",e,n,r)}function Qi(t,e,n){var r=null,i=n?new Ii(n):null;"value"===e?r=new Vi(i):e&&(r=new Hi(e,i)),ui(t._repo,t,r)}var Xi=function(){return function(){}}(),Ji=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Mr("endAt",this._value,t._path,!0);var e=xe(t._queryParams,this._value,this._key);if(Pi(e),Ti(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ki(t._repo,t._path,e,t._orderByCalled)},e}(Xi);function Zi(t,e){return qr("endAt","key",e,!0),new Ji(t,e)}var to=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Mr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Ft?("string"==typeof n&&(n=pe(n)),i=xe(e,n,r)):i=xe(e,n,null==r?T:pe(r)),i.endBeforeSet_=!0,i);if(Pi(o),Ti(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ki(t._repo,t._path,o,t._orderByCalled)},e}(Xi);function eo(t,e){return qr("endBefore","key",e,!0),new to(t,e)}var no=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Mr("startAt",this._value,t._path,!0);var e=Se(t._queryParams,this._value,this._key);if(Pi(e),Ti(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ki(t._repo,t._path,e,t._orderByCalled)},e}(Xi);function ro(t,e){return void 0===t&&(t=null),qr("startAt","key",e,!0),new no(t,e)}var io=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Mr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Ft?("string"==typeof n&&(n=de(n)),i=Se(e,n,r)):i=Se(e,n,null==r?P:de(r)),i.startAfterSet_=!0,i);if(Pi(o),Ti(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ki(t._repo,t._path,o,t._orderByCalled)},e}(Xi);function oo(t,e){return qr("startAfter","key",e,!0),new io(t,e)}var so=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ki(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Xi);function ao(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new so(t)}var uo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ki(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Xi);function co(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new uo(t)}var lo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Ei(t,"orderByChild");var e=new ft(this._path);if(wt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ce(e),r=Ie(t._queryParams,n);return Ti(r),new ki(t._repo,t._path,r,!0)},e}(Xi);function ho(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Br("orderByChild","path",t,!1),new lo(t)}var fo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Ei(t,"orderByKey");var e=Ie(t._queryParams,Ft);return Ti(e),new ki(t._repo,t._path,e,!0)},e}(Xi);function po(){return new fo}var go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Ei(t,"orderByPriority");var e=Ie(t._queryParams,Jt);return Ti(e),new ki(t._repo,t._path,e,!0)},e}(Xi);function mo(){return new go}var vo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.__extends)(e,t),e.prototype._apply=function(t){Ei(t,"orderByValue");var e=Ie(t._queryParams,le);return Ti(e),new ki(t._repo,t._path,e,!0)},e}(Xi);function yo(){return new vo}var bo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.__extends)(e,t),e.prototype._apply=function(t){if(Mr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ji(this._value,this._key)._apply(new no(this._value,this._key)._apply(t))},e}(Xi);function _o(t,e){return qr("equalTo","key",e,!0),new bo(t,e)}function wo(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=(0,o.getModularInstance)(t);try{for(var u=(0,s.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a}!function(t){(0,o.assert)(!Nn,"__referenceConstructor has already been defined"),Nn=t}(Ni),function(t){(0,o.assert)(!jn,"__referenceConstructor has already been defined"),jn=t}(Ni);var Co={},So=!1;function xo(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||A("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),S("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=wi(o,i),u=a.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,u=(a=wi(o="http://"+c+"?ns="+u.namespace,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new z(z.OWNER):new H(t.name,t.options,e);Hr("Invalid Firebase Database URL",a),wt(a.path)||A("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=Co[e.name];i||(Co[e.name]=i={});var o=i[t.toURLString()];return o&&A("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Jr(t,So,n,r),i[t.toURLString()]=o,o}(u,t,l,new V(t.name,n));return new Io(h,t)}var Io=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=Z(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ee(t.repoInfo_,function(e,n,r,i){ei(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return ni(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Lt(t.repoInfo_,e,function(e,n,r,i){ei(t,e,n,r,i)},function(e){ni(t,e)},function(e){!function(t,e){R(e,function(e,n){ri(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(r=function(){return new Me(t.stats_,t.server_)},i=t.repoInfo_.toString(),J[i]||(J[i]=r()),J[i]),t.infoData_=new Te,t.infoSyncTree_=new Yn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Jn(t.infoSyncTree_,e._path,s),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),ri(t,"connected",!1),t.serverSyncTree_=new Yn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);$r(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ni(this._repo,dt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,(n=Co[e=this.app.name])&&n[t.key]===t||A("Database "+e+"("+t.repoInfo_+") has already been deleted."),ci(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&A("Cannot call "+t+" on a deleted database.")},t}();function Ao(t){(t=(0,o.getModularInstance)(t))._checkNotDeleted("goOffline"),ci(t._repo)}function ko(t){var e;(t=(0,o.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Xr)}var Eo={".sv":"timestamp"},To=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Po(t,e,n){var r;if(t=(0,o.getModularInstance)(t),Vr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new o.Deferred,a=Wi(t,function(){});return function(e,n,r,i,a,u){li(e,"transaction on "+n);var c={path:n,update:r,onComplete:function(e,n,r){var i=null;e?s.reject(e):(i=new Oi(r,new Ni(t._repo,t._path),Jt),s.resolve(new To(n,i)))},status:null,order:v(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=fi(e,n,void 0);c.currentInputSnapshot=l;var h=c.update(l.val());if(void 0===h)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Rr("transaction failed: Data returned ",h,c.path),c.status=0;var f=wr(e.transactionQueueTree_,n),d=Cr(f)||[];d.push(c),Sr(f,d);var p=void 0;"object"==typeof h&&null!==h&&(0,o.contains)(h,".priority")?(p=(0,o.safeGet)(h,".priority"),(0,o.assert)(Dr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(er(e.serverSyncTree_,n)||ie.EMPTY_NODE).getPriority().val();var g=ti(e),m=se(h,p),y=yr(m,l,g);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=y,c.currentWriteId=ii(e);var b=Qn(e.serverSyncTree_,n,y,c.currentWriteId,c.applyLocally);$r(e.eventQueue_,n,b),di(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,i),s.promise}var No=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},t}(),Oo=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Lo=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),Br("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Br("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Mo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Do=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var s,a=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new Lo(a.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(s=u.cancel)||void 0===s?void 0:s.bind(u.context);switch(e){case"value":return Wi(this._delegate,c,l),n;case"child_added":return Gi(this._delegate,c,l),n;case"child_removed":return Yi(this._delegate,c,l),n;case"child_changed":return Ki(this._delegate,c,l),n;case"child_moved":return $i(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),Ur("Query.off",t,!0),(0,o.validateCallback)("Query.off","callback",e,!0),(0,o.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Qi(this._delegate,t,r)}else Qi(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=Ct(t,n);r=r||Hn(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Hn(i,dt()):(i=new Un,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new He(r,!0,!1):null;return Ye(Bn(i,e,ln(t.pendingWriteTree_,e._path),o?s.getNode():ie.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=se(n).withIndex(e._queryParams.getIndex()),i=Jn(t.serverSyncTree_,e._path,r);return Kr(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return li(t,"get for query "+(0,o.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=(0,o.getModularInstance)(t))._repo,t).then(function(e){return new Oi(e,new Ni(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Lo(t.database,e)})},t.prototype.once=function(e,n,r,i){var s=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(t,e){var r=new Lo(s.database,t);n&&n.call(a.context,r,e),u.resolve(r)};c.userCallback=n,c.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),u.reject(t)};switch(e){case"value":Wi(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Gi(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":Yi(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Ki(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":$i(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,wo(this._delegate,ao(e)))},t.prototype.limitToLast=function(e){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,wo(this._delegate,co(e)))},t.prototype.orderByChild=function(e){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,wo(this._delegate,ho(e)))},t.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,wo(this._delegate,po()))},t.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,wo(this._delegate,mo()))},t.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,wo(this._delegate,yo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,wo(this._delegate,ro(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,wo(this._delegate,oo(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,wo(this._delegate,Zi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,wo(this._delegate,eo(e,n)))},t.prototype.equalTo=function(e,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,wo(this._delegate,_o(e,n)))},t.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,o.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,o.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Mo(this.database,new Ni(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Mo=function(t){function e(e,n){var r=t.call(this,e,new ki(n._repo,n._path,new Ce,!1))||this;return r.database=e,r._delegate=n,r}return(0,s.__extends)(e,t),e.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Mi(this._delegate,t))},e.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",e,!0);var n=ji(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vr("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",e,!0);var i=Bi(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},e.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=qi(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",t,!0);var e=Fi(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",t,!1),(0,o.validateCallback)("Reference.transaction","onComplete",e,!0),zr("Reference.transaction","applyLocally",n,!0);var i=Po(this._delegate,t,{applyLocally:n}).then(function(t){return new Oo(t.committed,new Lo(r.database,t.snapshot))});return e&&i.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),i},e.prototype.setPriority=function(t,e){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Ui(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Ri(this._delegate,t),s=i.then(function(t){return new e(r.database,t)});n&&s.then(function(){return n(null)},function(t){return n(t)});var a=new e(this.database,i);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Vr("Reference.onDisconnect",this._delegate._path),new No(new Ai(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Do),Ro=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=(0,o.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&A("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&A('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new z(z.OWNER);else if(r.mockUserToken){var a="string"==typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,t.app.options.projectId);s=new z(a)}!function(t,e,n,r){t.repoInfo_=new $(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),t instanceof Mo){var e=Di(this._delegate,t.toString());return new Mo(this,e)}return e=Li(this._delegate,t),new Mo(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";(0,o.validateArgCount)(e,1,1,arguments.length);var n=Di(this._delegate,t);return new Mo(this,n)},t.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Ao(this._delegate)},t.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),ko(this._delegate)},t.ServerValue={TIMESTAMP:Eo,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Fo=Object.freeze({__proto__:null,forceLongPolling:function(){st.forceDisallow(),rt.forceAllow()},forceWebSockets:function(){rt.forceDisallow()},isWebSocketsAvailable:function(){return st.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new De(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);R(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;c(t.version);var u=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return u.setComponent(new i.Component("auth-internal",function(){return r},"PRIVATE")),{instance:new Ro(xo(e,u,void 0,n,a),e),namespace:o}}}),jo=Lt;Lt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Lt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Uo=Object.freeze({__proto__:null,DataConnection:jo,RealTimeConnection:ut,hijackHash:function(t){var e=Lt.prototype.put;return Lt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Lt.prototype.put=e}},ConnectionTarget:$,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){So=t}(t)}}),qo=Ro.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.Component("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Ro(xo(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Mo,Query:Do,Database:Ro,DataSnapshot:Lo,enableLogging:C,INTERNAL:Fo,ServerValue:qo,TEST_ACCESS:Uo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.11.0"),(0,o.isNodeSdk)()&&(t.exports=n)}(r.default)},308:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,{LogLevel:()=>s,Logger:()=>h,setLogLevel:()=>f,setUserLogHandler:()=>d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},250:(t,e,n)=>{"use strict";n.r(e),n.d(e,{CONSTANTS:()=>i,Deferred:()=>p,ErrorFactory:()=>O,FirebaseError:()=>N,MAX_VALUE_MILLIS:()=>ct,RANDOM_FACTOR:()=>lt,Sha1:()=>X,areCookiesEnabled:()=>T,assert:()=>o,assertionError:()=>s,async:()=>tt,base64:()=>u,base64Decode:()=>h,base64Encode:()=>c,base64urlEncodeWithoutPadding:()=>l,calculateBackoffMillis:()=>ht,contains:()=>V,createMockUserToken:()=>g,createSubscribe:()=>J,decode:()=>F,deepCopy:()=>f,deepEqual:()=>G,deepExtend:()=>d,errorPrefix:()=>rt,extractQuerystring:()=>Q,getGlobal:()=>P,getModularInstance:()=>dt,getUA:()=>m,isAdmin:()=>B,isBrowser:()=>b,isBrowserExtension:()=>_,isElectron:()=>C,isEmpty:()=>z,isIE:()=>S,isIndexedDBAvailable:()=>k,isMobileCordova:()=>v,isNode:()=>y,isNodeSdk:()=>I,isReactNative:()=>w,isSafari:()=>A,isUWP:()=>x,isValidFormat:()=>q,isValidTimestamp:()=>j,issuedAtTime:()=>U,jsonEval:()=>M,map:()=>W,ordinal:()=>ft,querystring:()=>$,querystringDecode:()=>Y,safeGet:()=>H,stringLength:()=>ut,stringToByteArray:()=>at,stringify:()=>R,validateArgCount:()=>nt,validateCallback:()=>ot,validateContextObject:()=>st,validateIndexedDBOpenable:()=>E,validateNamespace:()=>it});var r=n(4762),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=a(t);return u.encodeByteArray(e,!0)},l=function(t){return c(t).replace(/\./g,"")},h=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function f(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var p=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function g(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function b(){return"object"==typeof self&&self.self===self}function _(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function C(){return m().indexOf("Electron/")>=0}function S(){var t=m();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x(){return m().indexOf("MSAppHost/")>=0}function I(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function A(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){return"indexedDB"in self&&null!=indexedDB}function E(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function T(){return!(!navigator||!navigator.cookieEnabled)}function P(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var N=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,O.prototype.create),o}return(0,r.__extends)(e,t),e}(Error),O=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?L(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new N(i,a,r);return u},t}();function L(t,e){return t.replace(D,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var D=/\{\$([^}]+)}/g;function M(t){return JSON.parse(t)}function R(t){return JSON.stringify(t)}var F=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=M(h(o[0])||""),n=M(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},j=function(t){var e=F(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(t){var e=F(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},q=function(t){var e=F(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},B=function(t){var e=F(t).claims;return"object"==typeof e&&!0===e.admin};function V(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function H(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function z(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function W(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function G(t,e){if(t===e)return!0;for(var n=Object.keys(t),r=Object.keys(e),i=0,o=n;i<o.length;i++){if(!r.includes(l=o[i]))return!1;var s=t[l],a=e[l];if(K(s)&&K(a)){if(!G(s,a))return!1}else if(s!==a)return!1}for(var u=0,c=r;u<c.length;u++){var l;if(!n.includes(l=c[u]))return!1}return!0}function K(t){return null!==t&&"object"==typeof t}function $(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function Y(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("="),r=n[1];e[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),e}function Q(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var X=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),o=1518500249):(i=a^u^c,o=1859775393):r<60?(i=a&u|c&(a|u),o=2400959708):(i=a^u^c,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function J(t,e){var n=new Z(t,e);return n.subscribe.bind(n)}var Z=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=et),void 0===r.error&&(r.error=et),void 0===r.complete&&(r.complete=et);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function tt(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function et(){}var nt=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function rt(t,e){return t+" failed: "+e+" argument "}function it(t,e,n){if((!n||e)&&"string"!=typeof e)throw new Error(rt(t,"namespace")+"must be a valid firebase namespace.")}function ot(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(rt(t,e)+"must be a valid function.")}function st(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(rt(t,e)+"must be a valid context object.")}var at=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ut=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},ct=144e5,lt=.5;function ht(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(lt*r*(Math.random()-.5)*2);return Math.min(ct,r+i)}function ft(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(t):""+t}function dt(t){return t&&t._delegate?t._delegate:t}},2087:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,o=new Promise(function(o,s){n(i=t[e].apply(t,r)).then(o,s)});return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function s(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function u(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),s(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),a(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},2279:function(t,e,n){var r;void 0!==this||window,t.exports=(r=function(){try{return n(4974)}catch(r){}}(),(()=>{"use strict";var t={662:function(t,e){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.CellHookData=e.HookData=void 0;var i=function(t,e,n){this.table=e,this.pageNumber=e.pageNumber,this.pageCount=this.pageNumber,this.settings=e.settings,this.cursor=n,this.doc=t.getDocument()};e.HookData=i;var o=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n,s)||this;return a.cell=r,a.row=i,a.column=o,a.section=i.section,a}return r(e,t),e}(i);e.CellHookData=o},790:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(148),i=n(938),o=n(323),s=n(587),a=n(49),u=n(858);e.default=function(t){t.API.autoTable=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];1===e.length?t=e[0]:(console.error("Use of deprecated autoTable initiation"),(t=e[2]||{}).columns=e[0],t.body=e[1]);var r=(0,s.parseInput)(this,t),i=(0,u.createTable)(this,r);return(0,a.drawTable)(this,i),this},t.API.lastAutoTable=!1,t.API.previousAutoTable=!1,t.API.autoTable.previous=!1,t.API.autoTableText=function(t,e,n,r){(0,i.default)(t,e,n,r,this)},t.API.autoTableSetDefaults=function(t){return o.DocHandler.setDefaults(t,this),this},t.autoTableSetDefaults=function(t,e){o.DocHandler.setDefaults(t,e)},t.API.autoTableHtmlToJson=function(t,e){if(void 0===e&&(e=!1),"undefined"==typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var n=new o.DocHandler(this),i=(0,r.parseHtml)(n,t,window,e,!1),s=i.body;return{columns:i.head[0].map(function(t){return t.content}),rows:s,data:s}},t.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var t=this.lastAutoTable;return t&&t.finalY?t.finalY:0},t.API.autoTableAddPageContent=function(e){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),t.API.autoTable.globalDefaults||(t.API.autoTable.globalDefaults={}),t.API.autoTable.globalDefaults.addPageContent=e,this},t.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},938:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n,r,i){r=r||{};var o=1.15,s=i.internal.scaleFactor,a=i.internal.getFontSize()/s,u="",c=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c=(u="string"==typeof t?t.split(/\r\n|\r|\n/g):t).length||1),n+=a*(2-o),"middle"===r.valign?n-=c/2*a*o:"bottom"===r.valign&&(n-=c*a*o),"center"===r.halign||"right"===r.halign){var l=a;if("center"===r.halign&&(l*=.5),u&&c>=1){for(var h=0;h<u.length;h++)i.text(u[h],e-i.getStringUnitWidth(u[h])*l,n),n+=a*o;return i}e-=i.getStringUnitWidth(t)*l}return"justify"===r.halign?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}},200:(t,e)=>{function n(t,e){var n=t>0,r=e||0===e;return n&&r?"DF":n?"S":r?"F":null}Object.defineProperty(e,"__esModule",{value:!0}),e.parseSpacing=e.getFillStyle=e.addTableBorder=e.getStringWidth=void 0,e.getStringWidth=function(t,e,n){return n.applyStyles(e,!0),(Array.isArray(t)?t:[t]).map(function(t){return n.getTextWidth(t)}).reduce(function(t,e){return Math.max(t,e)},0)},e.addTableBorder=function(t,e,r,i){var o=e.settings.tableLineWidth;t.applyStyles({lineWidth:o,lineColor:e.settings.tableLineColor});var s=n(o,!1);s&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),i.y-r.y,s)},e.getFillStyle=n,e.parseSpacing=function(t,e){var n,r,i,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(3===t.length)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(2===t.length)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t=1===t.length?t[0]:e}return"object"==typeof t?("number"==typeof t.vertical&&(t.top=t.vertical,t.bottom=t.vertical),"number"==typeof t.horizontal&&(t.right=t.horizontal,t.left=t.horizontal),{left:null!==(n=t.left)&&void 0!==n?n:e,top:null!==(r=t.top)&&void 0!==r?r:e,right:null!==(i=t.right)&&void 0!==i?i:e,bottom:null!==(o=t.bottom)&&void 0!==o?o:e}):("number"!=typeof t&&(t=e),{top:t,right:t,bottom:t,left:t})}},913:function(t,e){var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.getTheme=e.defaultStyles=e.HtmlRowInput=e.FONT_ROW_RATIO=void 0,e.FONT_ROW_RATIO=1.15;var i=function(t){function e(e){var n=t.call(this)||this;return n._element=e,n}return r(e,t),e}(Array);e.HtmlRowInput=i,e.defaultStyles=function(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},e.getTheme=function(t){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[t]}},259:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseCss=void 0;var r=n(200);function i(t,e){var n=o(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function o(t,e){var n=e(t);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==t.parentElement?null:o(t.parentElement,e):n}e.parseCss=function(t,e,n,o,s){var a={},u=96/72,c=i(e,function(t){return s.getComputedStyle(t).backgroundColor});null!=c&&(a.fillColor=c);var l=i(e,function(t){return s.getComputedStyle(t).color});null!=l&&(a.textColor=l);var h=i(e,function(t){return s.getComputedStyle(t).borderTopColor});null!=h&&(a.lineColor=h);var f=function(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],i=96/(72/e),o=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(t){return parseInt(t||"0")/i}),a=(0,r.parseSpacing)(s,0);return o>a.top&&(a.top=o),o>a.bottom&&(a.bottom=o),a}(o,n);f&&(a.cellPadding=f);var d=parseInt(o.borderTopWidth||"");(d=d/u/n)&&(a.lineWidth=d);var p=["left","right","center","justify"];-1!==p.indexOf(o.textAlign)&&(a.halign=o.textAlign),-1!==(p=["middle","bottom","top"]).indexOf(o.verticalAlign)&&(a.valign=o.verticalAlign);var g=parseInt(o.fontSize||"");isNaN(g)||(a.fontSize=g/u);var m=function(t){var e="";return("bold"===t.fontWeight||"bolder"===t.fontWeight||parseInt(t.fontWeight)>=700)&&(e="bold"),"italic"!==t.fontStyle&&"oblique"!==t.fontStyle||(e+="italic"),e}(o);m&&(a.fontStyle=m);var v=(o.fontFamily||"").toLowerCase();return-1!==t.indexOf(v)&&(a.font=v),a}},323:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DocHandler=void 0;var n={},r=function(){function t(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName}}return t.setDefaults=function(t,e){void 0===e&&(e=null),e?e.__autoTableDocumentDefaults=t:n=t},t.unifyColor=function(t){return Array.isArray(t)?t:"number"==typeof t?[t,t,t]:"string"==typeof t?[t]:null},t.prototype.applyStyles=function(e,n){var r,i,o;void 0===n&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),a=s.fontStyle,u=s.fontName;if(e.font&&(u=e.font),e.fontStyle){a=e.fontStyle;var c=this.getFontList()[u];c&&-1===c.indexOf(a)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(u,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var l=t.unifyColor(e.fillColor);l&&(r=this.jsPDFDocument).setFillColor.apply(r,l),(l=t.unifyColor(e.textColor))&&(i=this.jsPDFDocument).setTextColor.apply(i,l),(l=t.unifyColor(e.lineColor))&&(o=this.jsPDFDocument).setDrawColor.apply(o,l),"number"==typeof e.lineWidth&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(t,e,n){return this.jsPDFDocument.splitTextToSize(t,e,n)},t.prototype.rect=function(t,e,n,r,i){return this.jsPDFDocument.rect(t,e,n,r,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return n||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return null==t.width&&(t={width:t.getWidth(),height:t.getHeight()}),t},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}();e.DocHandler=r},148:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseHtml=void 0;var r=n(259),i=n(913);function o(t,e,n,o,a,u){for(var c=new i.HtmlRowInput(o),l=0;l<o.cells.length;l++){var h=o.cells[l],f=n.getComputedStyle(h);if(a||"none"!==f.display){var d=void 0;u&&(d=(0,r.parseCss)(t,h,e,f,n)),c.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:d,_element:h,content:s(h)})}}var p=n.getComputedStyle(o);if(c.length>0&&(a||"none"!==p.display))return c}function s(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/\<br.*?\>/).map(function(t){return t.trim()}).join("\n"),e.innerText||e.textContent||""}e.parseHtml=function(t,e,n,r,i){var s,a,u;void 0===r&&(r=!1),void 0===i&&(i=!1),u="string"==typeof e?n.document.querySelector(e):e;var c=Object.keys(t.getFontList()),l=t.scaleFactor(),h=[],f=[],d=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:h,body:f,foot:d};for(var p=0;p<u.rows.length;p++){var g=u.rows[p],m=null===(a=null===(s=null==g?void 0:g.parentElement)||void 0===s?void 0:s.tagName)||void 0===a?void 0:a.toLowerCase(),v=o(c,l,n,g,r,i);v&&("thead"===m?h.push(v):"tfoot"===m?d.push(v):f.push(v))}return{head:h,body:f,foot:d}}},587:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.parseInput=void 0;var r=n(148),i=n(360),o=n(200),s=n(323),a=n(291);function u(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(t){return"_element"!==t}).forEach(function(t){var e,n=1;"object"!=typeof(e=Array.isArray(r)?r[parseInt(t)]:r[t])||Array.isArray(e)||(n=(null==e?void 0:e.colSpan)||1);for(var o=0;o<n;o++){var s={dataKey:Array.isArray(r)?i.length:t+(o>0?"_"+o:"")};i.push(s)}}),i}e.parseInput=function(t,e){var n=new s.DocHandler(t),c=n.getDocumentOptions(),l=n.getGlobalOptions();(0,a.default)(n,l,c,e);var h,f=(0,i.assign)({},l,c,e);"undefined"!=typeof window&&(h=window);var d=function(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},o=function(o){if("columnStyles"===o)r.columnStyles=(0,i.assign)({},t[o],e[o],n[o]);else{var s=[t,e,n].map(function(t){return t[o]||{}});r[o]=(0,i.assign)({},s[0],s[1],s[2])}},s=0,a=Object.keys(r);s<a.length;s++)o(a[s]);return r}(l,c,e),p=function(t,e,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],didDrawPage:[]},i=0,o=[t,e,n];i<o.length;i++){var s=o[i];s.didParseCell&&r.didParseCell.push(s.didParseCell),s.willDrawCell&&r.willDrawCell.push(s.willDrawCell),s.didDrawCell&&r.didDrawCell.push(s.didDrawCell),s.didDrawPage&&r.didDrawPage.push(s.didDrawPage)}return r}(l,c,e),g=function(t,e){var n,r,i,s,a,u,c,l,h,f,d,p,g,m=(0,o.parseSpacing)(e.margin,40/t.scaleFactor()),v=null!==(n=function(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),o=!1;return n&&n.startPageNumber&&(o=n.startPageNumber+n.pageNumber-1===i),"number"==typeof e?e:null!=e&&!1!==e||!o||null==(null==n?void 0:n.finalY)?null:n.finalY+20/r}(t,e.startY))&&void 0!==n?n:m.top;p=!0===e.showFoot?"everyPage":!1===e.showFoot?"never":null!==(r=e.showFoot)&&void 0!==r?r:"everyPage",g=!0===e.showHead?"everyPage":!1===e.showHead?"never":null!==(i=e.showHead)&&void 0!==i?i:"everyPage";var y=null!==(s=e.useCss)&&void 0!==s&&s,b=null!==(a=e.horizontalPageBreakRepeat)&&void 0!==a?a:null;return{includeHiddenHtml:null!==(u=e.includeHiddenHtml)&&void 0!==u&&u,useCss:y,theme:e.theme||(y?"plain":"striped"),startY:v,margin:m,pageBreak:null!==(c=e.pageBreak)&&void 0!==c?c:"auto",rowPageBreak:null!==(l=e.rowPageBreak)&&void 0!==l?l:"auto",tableWidth:null!==(h=e.tableWidth)&&void 0!==h?h:"auto",showHead:g,showFoot:p,tableLineWidth:null!==(f=e.tableLineWidth)&&void 0!==f?f:0,tableLineColor:null!==(d=e.tableLineColor)&&void 0!==d?d:200,horizontalPageBreak:!!e.horizontalPageBreak,horizontalPageBreakRepeat:b}}(n,f),m=function(t,e,n){var i=e.head||[],o=e.body||[],s=e.foot||[];if(e.html)if(n){var a=(0,r.parseHtml)(t,e.html,n,e.includeHiddenHtml,e.useCss)||{};i=a.head||i,o=a.body||i,s=a.foot||i}else console.error("Cannot parse html in non browser environment");return{columns:e.columns||u(i,o,s),head:i,body:o,foot:s}}(n,f,h);return{id:e.tableId,content:m,hooks:p,styles:d,settings:g}}},291:(t,e)=>{function n(t){t.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),t.minCellHeight||(t.minCellHeight=t.rowHeight)):t.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),t.cellWidth||(t.cellWidth=t.columnWidth))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r,i){for(var o=function(e){e&&"object"!=typeof e&&console.error("The options parameter should be of type object, is: "+typeof e),void 0!==e.extendWidth&&(e.tableWidth=e.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),void 0!==e.margins&&(void 0===e.margin&&(e.margin=e.margins),console.error("Use of deprecated option: margins, use margin instead.")),e.startY&&"number"!=typeof e.startY&&(console.error("Invalid value for startY option",e.startY),delete e.startY),!e.didDrawPage&&(e.afterPageContent||e.beforePageContent||e.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),e.didDrawPage=function(n){t.applyStyles(t.userStyles),e.beforePageContent&&e.beforePageContent(n),t.applyStyles(t.userStyles),e.afterPageContent&&e.afterPageContent(n),t.applyStyles(t.userStyles),e.afterPageAdd&&n.pageNumber>1&&n.afterPageAdd(n),t.applyStyles(t.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(t){e[t]&&console.error('The "'+t+'" hook has changed in version 3.0, check the changelog for how to migrate.')}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(t){var n=t[0],r=t[1];e[r]&&(console.error("Use of deprecated option "+r+". Use "+n+" instead"),e[n]=e[r])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(t){var n="string"==typeof t?t:t[0],r="string"==typeof t?t:t[1];void 0!==e[n]&&(void 0===e.styles[r]&&(e.styles[r]=e[n]),console.error("Use of deprecated option: "+n+", use the style "+r+" instead."))});for(var r=0,i=["styles","bodyStyles","headStyles","footStyles"];r<i.length;r++)n(e[i[r]]||{});for(var o=e.columnStyles||{},s=0,a=Object.keys(o);s<a.length;s++)n(o[a[s]]||{})},s=0,a=[e,r,i];s<a.length;s++)o(a[s])}},287:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Column=e.Cell=e.Row=e.Table=void 0;var r=n(913),i=n(662),o=n(200),s=function(){function t(t,e){this.pageNumber=1,this.pageCount=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=e.columns,this.head=e.head,this.body=e.body,this.foot=e.foot}return t.prototype.getHeadHeight=function(t){return this.head.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},t.prototype.getFootHeight=function(t){return this.foot.reduce(function(e,n){return e+n.getMaxCellHeight(t)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(t,e,n,r,o,s){for(var a=0,u=e;a<u.length;a++){var c=!1===(0,u[a])(new i.CellHookData(t,this,n,r,o,s));if(n.text=Array.isArray(n.text)?n.text:[n.text],c)return!1}return!0},t.prototype.callEndPageHooks=function(t,e){t.applyStyles(t.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++)(0,r[n])(new i.HookData(t,this,e))},t.prototype.getWidth=function(t){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(t,e){return t+e.wrappedWidth},0);var e=this.settings.margin;return t-e.left-e.right},t}();e.Table=s;var a=function(){function t(t,e,n,i,o){void 0===o&&(o=!1),this.height=0,this.raw=t,t instanceof r.HtmlRowInput&&(this.raw=t._element,this.element=t._element),this.index=e,this.section=n,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(t){var e=this;return t.reduce(function(t,n){var r;return Math.max(t,(null===(r=e.cells[n.index])||void 0===r?void 0:r.height)||0)},0)},t.prototype.hasRowSpan=function(t){var e=this;return t.filter(function(t){var n=e.cells[t.index];return!!n&&n.rowSpan>1}).length>0},t.prototype.canEntireRowFit=function(t,e){return this.getMaxCellHeight(e)<=t},t.prototype.getMinimumRowHeight=function(t,e){var n=this;return t.reduce(function(t,i){var o=n.cells[i.index];if(!o)return 0;var s=o.styles.fontSize/e.scaleFactor()*r.FONT_ROW_RATIO,a=o.padding("vertical")+s;return a>t?a:t},0)},t}();e.Row=a;var u=function(){function t(t,e,n){var r,i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=e,this.section=n,this.raw=t;var o=t;null==t||"object"!=typeof t||Array.isArray(t)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,o=null!==(i=null!==(r=t.content)&&void 0!==r?r:t.title)&&void 0!==i?i:t,t._element&&(this.raw=t._element)),this.text=(null!=o?""+o:"").split(/\r\n|\r|\n/g)}return t.prototype.getTextPos=function(){var t,e;if("top"===this.styles.valign)t=this.y+this.padding("top");else if("bottom"===this.styles.valign)t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)e=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");e=this.x+r/2+this.padding("left")}else e=this.x+this.padding("left");return{x:e,y:t}},t.prototype.getContentHeight=function(t){var e=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/t*r.FONT_ROW_RATIO)+this.padding("vertical");return Math.max(e,this.styles.minCellHeight)},t.prototype.padding=function(t){var e=(0,o.parseSpacing)(this.styles.cellPadding,0);return"vertical"===t?e.top+e.bottom:"horizontal"===t?e.left+e.right:e[t]},t}();e.Cell=u;var c=function(){function t(t,e,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=e,this.index=n}return t.prototype.getMaxCustomCellWidth=function(t){for(var e=0,n=0,r=t.allRows();n<r.length;n++){var i=r[n].cells[this.index];i&&"number"==typeof i.styles.cellWidth&&(e=Math.max(e,i.styles.cellWidth))}return e},t}();e.Column=c},360:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.assign=void 0,e.assign=function(t,e,n,r,i){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(null!=a)for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(o[u]=a[u])}return o}},858:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createTable=void 0;var r=n(323),i=n(287),o=n(189),s=n(913),a=n(360);function u(t,e,n,r,o,s){var a={};return e.map(function(e,u){for(var c=0,h={},f=0,d=0,p=0,g=n;p<g.length;p++){var m=g[p];if(null==a[m.index]||0===a[m.index].left)if(0===d){var v,y={};"object"!=typeof(v=Array.isArray(e)?e[m.index-f-c]:e[m.dataKey])||Array.isArray(v)||(y=(null==v?void 0:v.styles)||{});var b=l(t,m,u,o,r,s,y),_=new i.Cell(v,b,t);h[m.dataKey]=_,h[m.index]=_,a[m.index]={left:_.rowSpan-1,times:d=_.colSpan-1}}else d--,f++;else a[m.index].left--,d=a[m.index].times,c++}return new i.Row(e,u,t,h)})}function c(t,e){var n={};return t.forEach(function(t){if(null!=t.raw){var r=function(t,e){if("head"===t){if("object"==typeof e)return e.header||e.title||null;if("string"==typeof e||"number"==typeof e)return e}else if("foot"===t&&"object"==typeof e)return e.footer;return null}(e,t.raw);null!=r&&(n[t.dataKey]=r)}}),Object.keys(n).length>0?n:null}function l(t,e,n,r,i,o,u){var c,l=(0,s.getTheme)(r);"head"===t?c=i.headStyles:"body"===t?c=i.bodyStyles:"foot"===t&&(c=i.footStyles);var h=(0,a.assign)({},l.table,l[t],i.styles,c),f="body"===t&&(i.columnStyles[e.dataKey]||i.columnStyles[e.index])||{},d="body"===t&&n%2==0?(0,a.assign)({},l.alternateRow,i.alternateRowStyles):{},p=(0,s.defaultStyles)(o),g=(0,a.assign)({},p,h,d,f);return(0,a.assign)(g,u)}e.createTable=function(t,e){var n=new r.DocHandler(t),s=function(t,e){var n,r=t.content,o=function(t){return t.map(function(t,e){var n,r,o;return o="object"==typeof t&&null!==(r=null!==(n=t.dataKey)&&void 0!==n?n:t.key)&&void 0!==r?r:e,new i.Column(o,t,e)})}(r.columns);0===r.head.length&&(n=c(o,"head"))&&r.head.push(n),0===r.foot.length&&(n=c(o,"foot"))&&r.foot.push(n);var s=t.settings.theme,a=t.styles;return{columns:o,head:u("head",r.head,o,a,s,e),body:u("body",r.body,o,a,s,e),foot:u("foot",r.foot,o,a,s,e)}}(e,n.scaleFactor()),a=new i.Table(e,s);return(0,o.calculateWidths)(n,a),n.applyStyles(n.userStyles),a}},49:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.addPage=e.drawTable=void 0;var r=n(913),i=n(200),o=n(287),s=n(323),a=n(360),u=n(938),c=n(435);function l(t,e,n){var i=t.styles.fontSize/n.scaleFactor()*r.FONT_ROW_RATIO,o=t.padding("vertical"),s=Math.floor((e-o)/i);return Math.max(0,s)}function h(t,e,n,r,i,s,u){var c=function(t,e,n,r){var i=e.settings.margin.bottom,o=e.settings.showFoot;return("everyPage"===o||"lastPage"===o&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}(t,e,r,s);if(n.canEntireRowFit(c,u))f(t,e,n,s,u);else if(function(t,e,n,r){var i=t.pageSize().height,o=r.settings.margin,s=i-(o.top+o.bottom);"body"===e.section&&(s-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var a=e.getMinimumRowHeight(r.columns,t),u=a<n;if(a>s)return console.error("Will not be able to print row "+e.index+" correctly since it's minimum height is larger than page height"),!0;if(!u)return!1;var c=e.hasRowSpan(r.columns);return e.getMaxCellHeight(r.columns)>s?(c&&console.error("The content of row "+e.index+" will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported."),!0):!c&&"avoid"!==r.settings.rowPageBreak}(t,n,c,e)){var d=function(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,u=0,c=n.columns;u<c.length;u++){var h=c[u];if(y=t.cells[h.index]){Array.isArray(y.text)||(y.text=[y.text]);var f=new o.Cell(y.raw,y.styles,y.section);(f=(0,a.assign)(f,y)).text=[];var d=l(y,e,r);y.text.length>d&&(f.text=y.text.splice(d,y.text.length));var p=r.scaleFactor();y.contentHeight=y.getContentHeight(p),y.contentHeight>=e&&(y.contentHeight=e,f.styles.minCellHeight-=e),y.contentHeight>t.height&&(t.height=y.contentHeight),f.contentHeight=f.getContentHeight(p),f.contentHeight>s&&(s=f.contentHeight),i[h.index]=f}}var g=new o.Row(t.raw,-1,t.section,i,!0);g.height=s;for(var m=0,v=n.columns;m<v.length;m++){var y;(f=g.cells[(h=v[m]).index])&&(f.height=g.height),(y=t.cells[h.index])&&(y.height=t.height)}return g}(n,c,e,t);f(t,e,n,s,u),p(t,e,i,s,u),h(t,e,d,r,i,s,u)}else p(t,e,i,s,u),h(t,e,n,r,i,s,u)}function f(t,e,n,r,i){r.x=e.settings.margin.left;for(var o=0,s=i;o<s.length;o++){var a=s[o],c=n.cells[a.index];if(c)if(t.applyStyles(c.styles),c.x=r.x,c.y=r.y,!1!==e.callCellHooks(t,e.hooks.willDrawCell,c,n,a,r)){d(t,c,r);var l=c.getTextPos();(0,u.default)(c.text,l.x,l.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,n,a,r),r.x+=a.width}else r.x+=a.width;else r.x+=a.width}r.y+=n.height}function d(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),"number"==typeof r.lineWidth){var o=(0,i.getFillStyle)(r.lineWidth,r.fillColor);o&&t.rect(e.x,n.y,e.width,e.height,o)}else if("object"==typeof r.lineWidth){t.rect(e.x,n.y,e.width,e.height,"F");var s=Object.keys(r.lineWidth),a=r.lineWidth;s.map(function(o){var s=(0,i.getFillStyle)(a[o],r.fillColor);!function(t,e,n,r,i,o){var s,a,u,c;switch(r){case"top":s=n.x,a=n.y,u=n.x+e.width,c=n.y;break;case"left":s=n.x,a=n.y,u=n.x,c=n.y+e.height;break;case"right":s=n.x+e.width,a=n.y,u=n.x+e.width,c=n.y+e.height;break;default:s=n.x,a=n.y+e.height-o,u=n.x+e.width,c=n.y+e.height-o}t.getDocument().setLineWidth(o),t.getDocument().line(s,a,u,c,i)}(t,e,n,o,s||"S",a[o])})}}function p(t,e,n,r,o){void 0===o&&(o=[]),t.applyStyles(t.userStyles),"everyPage"===e.settings.showFoot&&e.foot.forEach(function(n){return f(t,e,n,r,o)}),e.callEndPageHooks(t,r);var s=e.settings.margin;(0,i.addTableBorder)(t,e,n,r),g(t),e.pageNumber++,e.pageCount++,r.x=s.left,r.y=s.top,n.y=s.top,"everyPage"===e.settings.showHead&&e.head.forEach(function(n){return f(t,e,n,r,o)})}function g(t){var e=t.pageNumber();t.setPage(e+1),t.pageNumber()===e&&t.addPage()}e.drawTable=function(t,e){var n=e.settings,r=n.startY,o=n.margin,u={x:o.left,y:r},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),d=r+o.bottom+l;"avoid"===n.pageBreak&&(d+=e.allRows().reduce(function(t,e){return t+e.height},0));var m=new s.DocHandler(t);("always"===n.pageBreak||null!=n.startY&&d>m.pageSize().height)&&(g(m),u.y=o.top);var v=(0,a.assign)({},u);e.startPageNumber=m.pageNumber(),!0===n.horizontalPageBreak?function(t,e,n,r){c.default.calculateAllColumnsCanFitInPage(t,e).map(function(i,o){t.applyStyles(t.userStyles),o>0?p(t,e,n,r,i.columns):function(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),("firstPage"===i.showHead||"everyPage"===i.showHead)&&e.head.forEach(function(i){return f(t,e,i,n,r)})}(t,e,r,i.columns),function(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(o,s){h(t,e,o,s===e.body.length-1,n,r,i)})}(t,e,n,r,i.columns),function(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),("lastPage"===i.showFoot||"everyPage"===i.showFoot)&&e.foot.forEach(function(i){return f(t,e,i,n,r)})}(t,e,r,i.columns)})}(m,e,v,u):(m.applyStyles(m.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||e.head.forEach(function(t){return f(m,e,t,u,e.columns)}),m.applyStyles(m.userStyles),e.body.forEach(function(t,n){h(m,e,t,n===e.body.length-1,v,u,e.columns)}),m.applyStyles(m.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||e.foot.forEach(function(t){return f(m,e,t,u,e.columns)})),(0,i.addTableBorder)(m,e,v,u),e.callEndPageHooks(m,u),e.finalY=u.y,t.lastAutoTable=e,t.previousAutoTable=e,t.autoTable&&(t.autoTable.previous=e),m.applyStyles(m.userStyles)},e.addPage=p},435:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0});var r=n(200),i=function(t,e){var n=(0,r.parseSpacing)(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)},o=function(t,e,n){void 0===n&&(n={});var r=i(t,e),o=e.settings.horizontalPageBreakRepeat,s=null,a=[],u=[],c=e.columns.length,l=n&&n.start?n.start:0;for(null!=o&&(s=e.columns.find(function(t){return t.dataKey===o||t.index===o}))&&(a.push(s.index),u.push(e.columns[s.index]),r-=s.wrappedWidth);l<c;)if((null==s?void 0:s.index)!==l){var h=e.columns[l].wrappedWidth;if(r<h){0!==l&&l!==n.start||(a.push(l),u.push(e.columns[l]));break}a.push(l),u.push(e.columns[l]),r-=h,l++}else l++;return{colIndexes:a,columns:u,lastIndex:l}};e.default={getColumnsCanFitInPage:o,calculateAllColumnsCanFitInPage:function(t,e){for(var n=[],r=0,i=e.columns.length;r<i;){var s=o(t,e,{start:0===r?0:r});s&&s.columns&&s.columns.length?(r=s.lastIndex,n.push(s)):r++}return n},getPageAvailableWidth:i}},189:(t,e,n)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ellipsize=e.resizeColumns=e.calculateWidths=void 0;var r=n(200),i=n(435);function o(t,e,n){for(var r=e,i=t.reduce(function(t,e){return t+e.wrappedWidth},0),s=0;s<t.length;s++){var a=t[s],u=a.width+r*(a.wrappedWidth/i),c=n(a),l=u<c?c:u;e-=l-a.width,a.width=l}if(e=Math.round(1e10*e)/1e10){var h=t.filter(function(t){return!(e<0)||t.width>n(t)});h.length&&(e=o(h,e,n))}return e}function s(t,e,n,i,o){return t.map(function(t){return function(t,e,n,i,o){var s=1e4*i.scaleFactor();if((e=Math.ceil(e*s)/s)>=(0,r.getStringWidth)(t,n,i))return t;for(;e<(0,r.getStringWidth)(t+o,n,i)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+o}(t,e,n,i,o)})}e.calculateWidths=function(t,e){!function(t,e){var n=t.scaleFactor(),o=e.settings.horizontalPageBreak,s=i.default.getPageAvailableWidth(t,e);e.allRows().forEach(function(i){for(var a=0,u=e.columns;a<u.length;a++){var c=u[a],l=i.cells[c.index];if(l){e.callCellHooks(t,e.hooks.didParseCell,l,i,c,null);var h=l.padding("horizontal");l.contentWidth=(0,r.getStringWidth)(l.text,l.styles,t)+h;var f=(0,r.getStringWidth)(l.text.join(" ").split(/\s+/),l.styles,t);l.minReadableWidth=f+l.padding("horizontal"),"number"==typeof l.styles.cellWidth?(l.minWidth=l.styles.cellWidth,l.wrappedWidth=l.styles.cellWidth):"wrap"===l.styles.cellWidth||!0===o?l.contentWidth>s?(l.minWidth=s,l.wrappedWidth=s):(l.minWidth=l.contentWidth,l.wrappedWidth=l.contentWidth):(l.minWidth=l.styles.minCellWidth||10/n,l.wrappedWidth=l.contentWidth,l.minWidth>l.wrappedWidth&&(l.wrappedWidth=l.minWidth))}}}),e.allRows().forEach(function(t){for(var n=0,r=e.columns;n<r.length;n++){var i=r[n],o=t.cells[i.index];if(o&&1===o.colSpan)i.wrappedWidth=Math.max(i.wrappedWidth,o.wrappedWidth),i.minWidth=Math.max(i.minWidth,o.minWidth),i.minReadableWidth=Math.max(i.minReadableWidth,o.minReadableWidth);else{var s=e.styles.columnStyles[i.dataKey]||e.styles.columnStyles[i.index]||{},a=s.cellWidth||s.minCellWidth;a&&"number"==typeof a&&(i.minWidth=a,i.wrappedWidth=a)}o&&(o.colSpan>1&&!i.minWidth&&(i.minWidth=o.minWidth),o.colSpan>1&&!i.wrappedWidth&&(i.wrappedWidth=o.minWidth))}})}(t,e);var n=[],a=0;e.columns.forEach(function(t){var r=t.getMaxCustomCellWidth(e);r?t.width=r:(t.width=t.wrappedWidth,n.push(t)),a+=t.width});var u=e.getWidth(t.pageSize().width)-a;u&&(u=o(n,u,function(t){return Math.max(t.minReadableWidth,t.minWidth)})),u&&(u=o(n,u,function(t){return t.minWidth})),u=Math.abs(u),!e.settings.horizontalPageBreak&&u>.1/t.scaleFactor()&&(u=u<1?u:Math.round(u),console.error("Of the table content, "+u+" units width could not fit page")),function(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,o=0,s=0,a=0;a<t.columns.length;a++){var u=t.columns[a];if((s-=1)>1&&t.columns[a+1])o+=u.width,delete r.cells[u.index];else if(i){var c=i;delete r.cells[u.index],i=null,c.width=u.width+o}else{if(!(c=r.cells[u.index]))continue;if(s=c.colSpan,o=0,c.colSpan>1){i=c,o+=u.width;continue}c.width=u.width+o}}}(e),function(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var o=i[r],a=0,u=t.columns;a<u.length;a++){var c=o.cells[u[a].index];if(c){e.applyStyles(c.styles,!0);var l=c.width-c.padding("horizontal");"linebreak"===c.styles.overflow?c.text=e.splitTextToSize(c.text,l+1/e.scaleFactor(),{fontSize:c.styles.fontSize}):"ellipsize"===c.styles.overflow?c.text=s(c.text,l,c.styles,e,"..."):"hidden"===c.styles.overflow?c.text=s(c.text,l,c.styles,e,""):"function"==typeof c.styles.overflow&&(c.text=c.styles.overflow(c.text,l)),c.contentHeight=c.getContentHeight(e.scaleFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<h*c.rowSpan?n={height:h,count:c.rowSpan}:n&&n.count>0&&n.height>h&&(h=n.height),h>o.height&&(o.height=h)}}n.count--}}(e,t),function(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var o=r[i],s=0,a=t.columns;s<a.length;s++){var u=a[s],c=e[u.index];if(n>1)n--,delete o.cells[u.index];else if(c)c.cell.height+=o.height,n=c.cell.colSpan,delete o.cells[u.index],c.left--,c.left<=1&&delete e[u.index];else{var l=o.cells[u.index];if(!l)continue;if(l.height=o.height,l.rowSpan>1){var h=r.length-i;e[u.index]={cell:l,left:l.rowSpan>h?h:l.rowSpan,row:o}}}}}(e)},e.resizeColumns=o,e.ellipsize=s},84:t=>{if(void 0===r){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}t.exports=r}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}var i={};return(()=>{var t=i;Object.defineProperty(t,"__esModule",{value:!0}),t.Cell=t.Column=t.Row=t.Table=t.CellHookData=t.__drawTable=t.__createTable=t.applyPlugin=void 0;var e=n(790),r=n(587),o=n(49),s=n(858),a=n(287);Object.defineProperty(t,"Table",{enumerable:!0,get:function(){return a.Table}});var u=n(662);Object.defineProperty(t,"CellHookData",{enumerable:!0,get:function(){return u.CellHookData}});var c=n(287);function l(t){(0,e.default)(t)}Object.defineProperty(t,"Cell",{enumerable:!0,get:function(){return c.Cell}}),Object.defineProperty(t,"Column",{enumerable:!0,get:function(){return c.Column}}),Object.defineProperty(t,"Row",{enumerable:!0,get:function(){return c.Row}}),t.applyPlugin=l,t.default=function(t,e){var n=(0,r.parseInput)(t,e),i=(0,s.createTable)(t,n);(0,o.drawTable)(t,i)},t.__createTable=function(t,e){var n=(0,r.parseInput)(t,e);return(0,s.createTable)(t,n)},t.__drawTable=function(t,e){(0,o.drawTable)(t,e)};try{var h=n(84);h.jsPDF&&(h=h.jsPDF),l(h)}catch(t){}})(),i})())},4974:(t,e,n)=>{"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e),n.d(e,{AcroForm:()=>he,AcroFormAppearance:()=>ae,AcroFormButton:()=>te,AcroFormCheckBox:()=>ie,AcroFormChoiceField:()=>Qt,AcroFormComboBox:()=>Jt,AcroFormEditBox:()=>Zt,AcroFormListBox:()=>Xt,AcroFormPasswordField:()=>se,AcroFormPushButton:()=>ee,AcroFormRadioButton:()=>ne,AcroFormTextField:()=>oe,GState:()=>yt,ShadingPattern:()=>_t,TilingPattern:()=>wt,default:()=>cn,jsPDF:()=>Ct});var i=Uint8Array,o=Uint16Array,s=Uint32Array,a=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),u=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(t,e){for(var n=new o(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new s(n[30]);for(r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},h=l(a,2),f=h[0],d=h[1];f[28]=258,d[258]=28;for(var p=l(u,0),g=p[0],m=p[1],v=new o(32768),y=0;y<32768;++y){var b=(43690&y)>>>1|(21845&y)<<1;v[y]=((65280&(b=(61680&(b=(52428&b)>>>2|(13107&b)<<2))>>>4|(3855&b)<<4))>>>8|(255&b)<<8)>>>1}var _=function(t,e,n){for(var r=t.length,i=0,s=new o(e);i<r;++i)++s[t[i]-1];var a,u=new o(e);for(i=0;i<e;++i)u[i]=u[i-1]+s[i-1]<<1;if(n){a=new o(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var l=i<<4|t[i],h=e-t[i],f=u[t[i]-1]++<<h,d=f|(1<<h)-1;f<=d;++f)a[v[f]>>>c]=l}else for(a=new o(r),i=0;i<r;++i)a[i]=v[u[t[i]-1]++]>>>15-t[i];return a},w=new i(288);for(y=0;y<144;++y)w[y]=8;for(y=144;y<256;++y)w[y]=9;for(y=256;y<280;++y)w[y]=7;for(y=280;y<288;++y)w[y]=8;var C=new i(32);for(y=0;y<32;++y)C[y]=5;var S=_(w,9,0),x=_(w,9,1),I=_(C,5,0),A=_(C,5,1),k=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},E=function(t,e,n){var r=e/8>>0;return(t[r]|t[r+1]<<8)>>>(7&e)&n},T=function(t,e){var n=e/8>>0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>>(7&e)},P=function(t){return(t/8>>0)+(7&t&&1)},N=function(t,e,n){(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length);var r=new(t instanceof o?o:t instanceof s?s:i)(n-e);return r.set(t.subarray(e,n)),r},O=function(t,e,n){var r=e/8>>0;t[r]|=n<<=7&e,t[r+1]|=n>>>8},L=function(t,e,n){var r=e/8>>0;t[r]|=n<<=7&e,t[r+1]|=n>>>8,t[r+2]|=n>>>16},D=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var s=n.length,a=n.slice();if(!s)return[new i(0),0];if(1==s){var u=new i(n[0].s+1);return u[n[0].s]=1,[u,1]}n.sort(function(t,e){return t.f-e.f}),n.push({s:-1,f:25001});var c=n[0],l=n[1],h=0,f=1,d=2;for(n[0]={s:-1,f:c.f+l.f,l:c,r:l};f!=s-1;)c=n[n[h].f<n[d].f?h++:d++],l=n[h!=f&&n[h].f<n[d].f?h++:d++],n[f++]={s:-1,f:c.f+l.f,l:c,r:l};var p=a[0].s;for(r=1;r<s;++r)a[r].s>p&&(p=a[r].s);var g=new o(p+1),m=M(n[f-1],g,0);if(m>e){r=0;var v=0,y=m-e,b=1<<y;for(a.sort(function(t,e){return g[e.s]-g[t.s]||t.f-e.f});r<s;++r){var _=a[r].s;if(!(g[_]>e))break;v+=b-(1<<m-g[_]),g[_]=e}for(v>>>=y;v>0;){var w=a[r].s;g[w]<e?v-=1<<e-g[w]++-1:++r}for(;r>=0&&v;--r){var C=a[r].s;g[C]==e&&(--g[C],++v)}m=e}return[new i(g),m]},M=function(t,e,n){return-1==t.s?Math.max(M(t.l,e,n+1),M(t.r,e,n+1)):e[t.s]=n},R=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new o(++e),r=0,i=t[0],s=1,a=function(t){n[r++]=t},u=1;u<=e;++u)if(t[u]==i&&u!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[u]}return[n.subarray(0,r),e]},F=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},j=function(t,e,n){var r=n.length,i=P(e+2);t[i]=255&r,t[i+1]=r>>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var o=0;o<r;++o)t[i+o+4]=n[o];return 8*(i+4+r)},U=function(t,e,n,r,i,s,l,h,f,d,p){O(e,p++,n),++i[256];for(var g=D(i,15),m=g[0],v=g[1],y=D(s,15),b=y[0],x=y[1],A=R(m),k=A[0],E=A[1],T=R(b),P=T[0],N=T[1],M=new o(19),U=0;U<k.length;++U)M[31&k[U]]++;for(U=0;U<P.length;++U)M[31&P[U]]++;for(var q=D(M,7),B=q[0],V=q[1],H=19;H>4&&!B[c[H-1]];--H);var z,W,G,K,$=d+5<<3,Y=F(i,w)+F(s,C)+l,Q=F(i,m)+F(s,b)+l+14+3*H+F(M,B)+(2*M[16]+3*M[17]+7*M[18]);if($<=Y&&$<=Q)return j(e,p,t.subarray(f,f+d));if(O(e,p,1+(Q<Y)),p+=2,Q<Y){z=_(m,v,0),W=m,G=_(b,x,0),K=b;var X=_(B,V,0);for(O(e,p,E-257),O(e,p+5,N-1),O(e,p+10,H-4),p+=14,U=0;U<H;++U)O(e,p+3*U,B[c[U]]);p+=3*H;for(var J=[k,P],Z=0;Z<2;++Z){var tt=J[Z];for(U=0;U<tt.length;++U)O(e,p,X[et=31&tt[U]]),p+=B[et],et>15&&(O(e,p,tt[U]>>>5&127),p+=tt[U]>>>12)}}else z=S,W=w,G=I,K=C;for(U=0;U<h;++U)if(r[U]>255){var et;L(e,p,z[257+(et=r[U]>>>18&31)]),p+=W[et+257],et>7&&(O(e,p,r[U]>>>23&31),p+=a[et]);var nt=31&r[U];L(e,p,G[nt]),p+=K[nt],nt>3&&(L(e,p,r[U]>>>5&8191),p+=u[nt])}else L(e,p,z[r[U]]),p+=W[r[U]];return L(e,p,z[256]),p+W[256]},q=new s([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),B=new i(0);function V(t,e){void 0===e&&(e={});var n=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length,s=0;s!=o;){for(var a=Math.min(s+5552,o);s<a;++s)i+=r+=n[s];r%=65521,i%=65521}t=r,e=i},d:function(){return(t>>>8<<16|(255&e)<<8|e>>>8)+2*((255&t)<<23)}}}();n.p(t);var r=function(t,e,n,r,c){return function(t,e,n,r,c,l){var h=t.length,f=new i(r+h+5*(1+Math.floor(h/7e3))+c),p=f.subarray(r,f.length-c),g=0;if(!e||h<8)for(var v=0;v<=h;v+=65535){var y=v+65535;y<h?g=j(p,g,t.subarray(v,y)):(p[v]=l,g=j(p,g,t.subarray(v,h)))}else{for(var b=q[e-1],_=b>>>13,w=8191&b,C=(1<<n)-1,S=new o(32768),x=new o(C+1),I=Math.ceil(n/3),A=2*I,k=function(e){return(t[e]^t[e+1]<<I^t[e+2]<<A)&C},E=new s(25e3),T=new o(288),O=new o(32),L=0,D=0,M=(v=0,0),R=0,F=0;v<h;++v){var V=k(v),H=32767&v,z=x[V];if(S[H]=z,x[V]=H,R<=v){var W=h-v;if((L>7e3||M>24576)&&W>423){g=U(t,p,0,E,T,O,D,M,F,v-F,g),M=L=D=0,F=v;for(var G=0;G<286;++G)T[G]=0;for(G=0;G<30;++G)O[G]=0}var K=2,$=0,Y=w,Q=H-z&32767;if(W>2&&V==k(v-Q))for(var X=Math.min(_,W)-1,J=Math.min(32767,v),Z=Math.min(258,W);Q<=J&&--Y&&H!=z;){if(t[v+K]==t[v+K-Q]){for(var tt=0;tt<Z&&t[v+tt]==t[v+tt-Q];++tt);if(tt>K){if(K=tt,$=Q,tt>X)break;var et=Math.min(Q,tt-2),nt=0;for(G=0;G<et;++G){var rt=v-Q+G+32768&32767,it=rt-S[rt]+32768&32767;it>nt&&(nt=it,z=rt)}}}Q+=(H=z)-(z=S[H])+32768&32767}if($){E[M++]=268435456|d[K]<<18|m[$];var ot=31&d[K],st=31&m[$];D+=a[ot]+u[st],++T[257+ot],++O[st],R=v+K,++L}else E[M++]=t[v],++T[t[v]]}}g=U(t,p,l,E,T,O,D,M,F,v-F,g),l||(g=j(p,g,B))}return N(f,0,r+P(g)+c)}(t,null==e.level?6:e.level,null==e.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,r,!c)}(t,e,2,4);return function(t,e){var n=e.level,r=0==n?0:n<6?1:9==n?3:2;t[0]=120,t[1]=r<<6|(r?32-2*r:1)}(r,e),function(t,e,n){for(;n;++e)t[e]=n,n>>>=8}(r,r.length-4,n.d()),r}var H=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function z(){H.console&&"function"==typeof H.console.log&&H.console.log.apply(H.console,arguments)}var W={log:z,warn:function(t){H.console&&("function"==typeof H.console.warn?H.console.warn.apply(H.console,arguments):z.call(null,arguments))},error:function(t){H.console&&("function"==typeof H.console.error?H.console.error.apply(H.console,arguments):z(t))}};function G(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){X(r.response,e,n)},r.onerror=function(){W.error("could not download file")},r.send()}function K(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function $(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Y,Q,X=H.saveAs||("object"!==("undefined"==typeof window?"undefined":r(window))||window!==H?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=H.URL||H.webkitURL,i=document.createElement("a");i.download=e=e||t.name||"download",i.rel="noopener","string"==typeof t?(i.href=t,i.origin!==location.origin?K(i.href)?G(t,e,n):$(i,i.target="_blank"):$(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){$(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"==typeof t)if(K(t))G(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){$(i)})}else navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!==r(e)&&(W.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return G(t,e,n);var o="application/octet-stream"===t.type,s=/constructor/i.test(H.HTMLElement)||H.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||o&&s)&&"object"===("undefined"==typeof FileReader?"undefined":r(FileReader))){var u=new FileReader;u.onloadend=function(){var t=u.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},u.readAsDataURL(t)}else{var c=H.URL||H.webkitURL,l=c.createObjectURL(t);i?i.location=l:location.href=l,i=null,setTimeout(function(){c.revokeObjectURL(l)},4e4)}});function J(t){var e;t=t||"",this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],r=0;r<n.length;r++){var i=n[r].process,o=n[r].re.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n}}function Z(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=et(n,r,i,o,e[0],7,-680876936),o=et(o,n,r,i,e[1],12,-389564586),i=et(i,o,n,r,e[2],17,606105819),r=et(r,i,o,n,e[3],22,-1044525330),n=et(n,r,i,o,e[4],7,-176418897),o=et(o,n,r,i,e[5],12,1200080426),i=et(i,o,n,r,e[6],17,-1473231341),r=et(r,i,o,n,e[7],22,-45705983),n=et(n,r,i,o,e[8],7,1770035416),o=et(o,n,r,i,e[9],12,-1958414417),i=et(i,o,n,r,e[10],17,-42063),r=et(r,i,o,n,e[11],22,-1990404162),n=et(n,r,i,o,e[12],7,1804603682),o=et(o,n,r,i,e[13],12,-40341101),i=et(i,o,n,r,e[14],17,-1502002290),n=nt(n,r=et(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=nt(o,n,r,i,e[6],9,-1069501632),i=nt(i,o,n,r,e[11],14,643717713),r=nt(r,i,o,n,e[0],20,-373897302),n=nt(n,r,i,o,e[5],5,-701558691),o=nt(o,n,r,i,e[10],9,38016083),i=nt(i,o,n,r,e[15],14,-660478335),r=nt(r,i,o,n,e[4],20,-405537848),n=nt(n,r,i,o,e[9],5,568446438),o=nt(o,n,r,i,e[14],9,-1019803690),i=nt(i,o,n,r,e[3],14,-187363961),r=nt(r,i,o,n,e[8],20,1163531501),n=nt(n,r,i,o,e[13],5,-1444681467),o=nt(o,n,r,i,e[2],9,-51403784),i=nt(i,o,n,r,e[7],14,1735328473),n=rt(n,r=nt(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=rt(o,n,r,i,e[8],11,-2022574463),i=rt(i,o,n,r,e[11],16,1839030562),r=rt(r,i,o,n,e[14],23,-35309556),n=rt(n,r,i,o,e[1],4,-1530992060),o=rt(o,n,r,i,e[4],11,1272893353),i=rt(i,o,n,r,e[7],16,-155497632),r=rt(r,i,o,n,e[10],23,-1094730640),n=rt(n,r,i,o,e[13],4,681279174),o=rt(o,n,r,i,e[0],11,-358537222),i=rt(i,o,n,r,e[3],16,-722521979),r=rt(r,i,o,n,e[6],23,76029189),n=rt(n,r,i,o,e[9],4,-640364487),o=rt(o,n,r,i,e[12],11,-421815835),i=rt(i,o,n,r,e[15],16,530742520),n=it(n,r=rt(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=it(o,n,r,i,e[7],10,1126891415),i=it(i,o,n,r,e[14],15,-1416354905),r=it(r,i,o,n,e[5],21,-57434055),n=it(n,r,i,o,e[12],6,1700485571),o=it(o,n,r,i,e[3],10,-1894986606),i=it(i,o,n,r,e[10],15,-1051523),r=it(r,i,o,n,e[1],21,-2054922799),n=it(n,r,i,o,e[8],6,1873313359),o=it(o,n,r,i,e[15],10,-30611744),i=it(i,o,n,r,e[6],15,-1560198380),r=it(r,i,o,n,e[13],21,1309151649),n=it(n,r,i,o,e[4],6,-145523070),o=it(o,n,r,i,e[11],10,-1120210379),i=it(i,o,n,r,e[2],15,718787259),r=it(r,i,o,n,e[9],21,-343485551),t[0]=ft(n,t[0]),t[1]=ft(r,t[1]),t[2]=ft(i,t[2]),t[3]=ft(o,t[3])}function tt(t,e,n,r,i,o){return e=ft(ft(e,t),ft(r,o)),ft(e<<i|e>>>32-i,n)}function et(t,e,n,r,i,o,s){return tt(e&n|~e&r,t,e,i,o,s)}function nt(t,e,n,r,i,o,s){return tt(e&r|n&~r,t,e,i,o,s)}function rt(t,e,n,r,i,o,s){return tt(e^n^r,t,e,i,o,s)}function it(t,e,n,r,i,o,s){return tt(n^(e|~r),t,e,i,o,s)}function ot(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Z(r,st(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Z(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Z(r,i),r}function st(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Y=H.atob.bind(H),Q=H.btoa.bind(H);var at="0123456789abcdef".split("");function ut(t){for(var e="",n=0;n<4;n++)e+=at[t>>8*n+4&15]+at[t>>8*n&15];return e}function ct(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function lt(t){return ot(t).map(ct).join("")}var ht="5d41402abc4b2a76b9719d911017c592"!=function(t){for(var e=0;e<t.length;e++)t[e]=ut(t[e]);return t.join("")}(ot("hello"));function ft(t,e){if(ht){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}function dt(t,e){var n,r,i;if(t!==n){for(var o=(i=t,new Array(1+(256/t.length>>0)+1).join(i)),s=[],a=0;a<256;a++)s[a]=a;var u=0;for(a=0;a<256;a++){var c=s[a];u=(u+c+o.charCodeAt(a))%256,s[a]=s[u],s[u]=c}n=t,r=s}else s=r;var l=e.length,h=0,f=0,d="";for(a=0;a<l;a++)f=(f+(c=s[h=(h+1)%256]))%256,s[h]=s[f],s[f]=c,o=s[(s[h]+s[f])%256],d+=String.fromCharCode(e.charCodeAt(a)^o);return d}var pt={print:4,modify:8,copy:16,"annot-forms":32};function gt(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(t){if(void 0!==pt.perm)throw new Error("Invalid permission: "+t);i+=pt[t]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=lt(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=dt(this.encryptionKey,this.padding)}function mt(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||35===i||37===i||40===i||41===i||47===i||60===i||62===i||91===i||93===i||123===i||125===i||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function vt(t){if("object"!==r(t))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,r){if(r=r||!1,"string"!=typeof t||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var i=Math.random().toString(35);return e[t][i]=[n,!!r],i},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],0===Object.keys(e[n]).length&&delete e[n],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(n){H.console&&W.error("jsPDF PubSub Error",n.message,n)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function yt(t){if(!(this instanceof yt))return new yt(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function bt(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function _t(t,e,n,r,i){if(!(this instanceof _t))return new _t(t,e,n,r,i);this.type="axial"===t?2:3,this.coords=e,this.colors=n,bt.call(this,r,i)}function wt(t,e,n,r,i){if(!(this instanceof wt))return new wt(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,bt.call(this,r,i)}function Ct(t){var e,n="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],o=arguments[2],s=arguments[3],a=[],u=1,c=16,l="S",h=null;"object"===r(t=t||{})&&(n=t.orientation,i=t.unit||i,o=t.format||o,s=t.compress||t.compressPdf||s,null!==(h=t.encryption||null)&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),u="number"==typeof t.userUnit?Math.abs(t.userUnit):1,void 0!==t.precision&&(e=t.precision),void 0!==t.floatPrecision&&(c=t.floatPrecision),l=t.defaultPathOperation||"S"),a=t.filters||(!0===s?["FlateEncode"]:a),i=i||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,d={},p={internal:{},__private__:{}};p.__private__.PubSub=vt;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(t){g=t};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(t){return v[t]};o=o||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},_=b.COMPAT;function w(){this.saveGraphicsState(),it(new Wt(At,0,0,-At,0,qn()*At).toString()+" cm"),this.setFontSize(this.getFontSize()/At),l="n",_=b.ADVANCED}function C(){this.restoreGraphicsState(),l="S",_=b.COMPAT}var S=p.__private__.combineFontStyleAndFontWeight=function(t,e){if("bold"==t&&"normal"==e||"bold"==t&&400==e||"normal"==t&&"italic"==e||"bold"==t&&"italic"==e)throw new Error("Invalid Combination of fontweight and fontstyle");return e&&(t=400==e||"normal"===e?"italic"===t?"italic":"normal":700!=e&&"bold"!==e||"normal"!==t?(700==e?"bold":e)+""+t:"bold"),t};p.advancedAPI=function(t){var e=_===b.COMPAT;return e&&w.call(this),"function"!=typeof t||(t(this),e&&C.call(this)),this},p.compatAPI=function(t){var e=_===b.ADVANCED;return e&&C.call(this),"function"!=typeof t||(t(this),e&&w.call(this)),this},p.isAdvancedAPI=function(){return _===b.ADVANCED};var x,I=function(t){if(_!==b.ADVANCED)throw new Error(t+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=p.roundToPrecision=p.__private__.roundToPrecision=function(t,n){var r=e||n;if(isNaN(t)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return t.toFixed(r).replace(/0+$/,"")};x=p.hpf=p.__private__.hpf="number"==typeof c?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return A(t,c)}:"smart"===c?function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return A(t,t>-1&&t<1?16:5)}:function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.hpf");return A(t,16)};var k=p.f2=p.__private__.f2=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f2");return A(t,2)},E=p.__private__.f3=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.f3");return A(t,3)},T=p.scale=p.__private__.scale=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.scale");return _===b.COMPAT?t*At:_===b.ADVANCED?t:void 0},P=function(t){return _===b.COMPAT?qn()-t:_===b.ADVANCED?t:void 0},N=function(t){return T(P(t))};p.__private__.setPrecision=p.setPrecision=function(t){"number"==typeof parseInt(t,10)&&(e=parseInt(t,10))};var O,L="00000000000000000000000000000000",D=p.__private__.getFileId=function(){return L},M=p.__private__.setFileId=function(t){return L=void 0!==t&&/^[a-fA-F0-9]{32}$/.test(t)?t.toUpperCase():L.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==h&&(Ke=new gt(h.userPermissions,h.userPassword,h.ownerPassword,L)),L};p.setFileId=function(t){return M(t),this},p.getFileId=function(){return D()};var R=p.__private__.convertDateToPDFDate=function(t){var e=t.getTimezoneOffset(),n=e<0?"+":"-",r=Math.floor(Math.abs(e/60)),i=Math.abs(e%60),o=[n,B(r),"'",B(i),"'"].join("");return["D:",t.getFullYear(),B(t.getMonth()+1),B(t.getDate()),B(t.getHours()),B(t.getMinutes()),B(t.getSeconds()),o].join("")},F=p.__private__.convertPDFDateToDate=function(t){var e=parseInt(t.substr(2,4),10),n=parseInt(t.substr(6,2),10)-1,r=parseInt(t.substr(8,2),10),i=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),s=parseInt(t.substr(14,2),10);return new Date(e,n,r,i,o,s,0)},j=p.__private__.setCreationDate=function(t){var e;if(void 0===t&&(t=new Date),t instanceof Date)e=R(t);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e=t}return O=e},U=p.__private__.getCreationDate=function(t){var e=O;return"jsDate"===t&&(e=F(O)),e};p.setCreationDate=function(t){return j(t),this},p.getCreationDate=function(t){return U(t)};var q,B=p.__private__.padd2=function(t){return("0"+parseInt(t)).slice(-2)},V=p.__private__.padd2Hex=function(t){return("00"+(t=t.toString())).substr(t.length)},z=0,G=[],K=[],$=0,Y=[],Z=[],tt=!1,et=K,nt=function(){z=0,$=0,K=[],G=[],Y=[],Zt=Qt(),te=Qt()};p.__private__.setCustomOutputDestination=function(t){tt=!0,et=t};var rt=function(t){tt||(et=t)};p.__private__.resetCustomOutputDestination=function(){tt=!1,et=K};var it=p.__private__.out=function(t){return t=t.toString(),$+=t.length+1,et.push(t),et},ot=p.__private__.write=function(t){return it(1===arguments.length?t.toString():Array.prototype.join.call(arguments," "))},st=p.__private__.getArrayBuffer=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return at};var ut=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(t){return ut=_===b.ADVANCED?t/At:t,this};var ct,lt=p.__private__.getFontSize=p.getFontSize=function(){return _===b.COMPAT?ut:ut*At},ht=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(t){return ht=t,this},p.__private__.getR2L=p.getR2L=function(){return ht};var ft,dt=p.__private__.setZoomMode=function(t){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t))ct=t;else if(isNaN(t)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t+'" is not recognized.');ct=t}else ct=parseInt(t,10)};p.__private__.getZoomMode=function(){return ct};var pt,bt=p.__private__.setPageMode=function(t){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t+'" is not recognized.');ft=t};p.__private__.getPageMode=function(){return ft};var St=p.__private__.setLayoutMode=function(t){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t+'" is not recognized.');pt=t};p.__private__.getLayoutMode=function(){return pt},p.__private__.setDisplayMode=p.setDisplayMode=function(t,e,n){return dt(t),St(e),bt(n),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(t){if(-1===Object.keys(xt).indexOf(t))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[t]},p.__private__.getDocumentProperties=function(){return xt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(t){for(var e in xt)xt.hasOwnProperty(e)&&t[e]&&(xt[e]=t[e]);return this},p.__private__.setDocumentProperty=function(t,e){if(-1===Object.keys(xt).indexOf(t))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[t]=e};var It,At,kt,Et,Tt,Pt={},Nt={},Ot=[],Lt={},Dt={},Mt={},Rt={},Ft=null,jt=0,Ut=[],qt=new vt(p),Bt=t.hotfixes||[],Vt={},Ht={},zt=[],Wt=function t(e,n,r,i,o,s){if(!(this instanceof t))return new t(e,n,r,i,o,s);isNaN(e)&&(e=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(i)&&(i=1),isNaN(o)&&(o=0),isNaN(s)&&(s=0),this._matrix=[e,n,r,i,o,s]};Object.defineProperty(Wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(t){this._matrix[0]=t}}),Object.defineProperty(Wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(t){this._matrix[1]=t}}),Object.defineProperty(Wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(t){this._matrix[2]=t}}),Object.defineProperty(Wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(t){this._matrix[3]=t}}),Object.defineProperty(Wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(t){this._matrix[4]=t}}),Object.defineProperty(Wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(t){this._matrix[5]=t}}),Object.defineProperty(Wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Wt.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Wt.prototype.join=function(t){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(x).join(t)},Wt.prototype.multiply=function(t){return new Wt(t.sx*this.sx+t.shy*this.shx,t.sx*this.shy+t.shy*this.sy,t.shx*this.sx+t.sy*this.shx,t.shx*this.shy+t.sy*this.sy,t.tx*this.sx+t.ty*this.shx+this.tx,t.tx*this.shy+t.ty*this.sy+this.ty)},Wt.prototype.decompose=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,s=Math.sqrt(t*t+e*e),a=(t/=s)*n+(e/=s)*r;n-=t*a,r-=e*a;var u=Math.sqrt(n*n+r*r);return a/=u,t*(r/=u)<e*(n/=u)&&(t=-t,e=-e,a=-a,s=-s),{scale:new Wt(s,0,0,u,0,0),translate:new Wt(1,0,0,1,i,o),rotate:new Wt(t,e,-e,t,0,0),skew:new Wt(1,0,a,1,0,0)}},Wt.prototype.toString=function(t){return this.join(" ")},Wt.prototype.inversed=function(){var t=this.sx,e=this.shy,n=this.shx,r=this.sy,i=this.tx,o=this.ty,s=1/(t*r-e*n),a=r*s,u=-e*s,c=-n*s,l=t*s;return new Wt(a,u,c,l,-a*i-c*o,-u*i-l*o)},Wt.prototype.applyToPoint=function(t){return new On(t.x*this.sx+t.y*this.shx+this.tx,t.x*this.shy+t.y*this.sy+this.ty)},Wt.prototype.applyToRectangle=function(t){var e=this.applyToPoint(t),n=this.applyToPoint(new On(t.x+t.w,t.y+t.h));return new Ln(e.x,e.y,n.x-e.x,n.y-e.y)},Wt.prototype.clone=function(){return new Wt(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},p.Matrix=Wt;var Gt=p.matrixMult=function(t,e){return e.multiply(t)},Kt=new Wt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Kt;var $t=function(t,e){if(!Dt[t]){var n=(e instanceof _t?"Sh":"P")+(Object.keys(Lt).length+1).toString(10);e.id=n,Dt[t]=n,Lt[n]=e,qt.publish("addPattern",e)}};p.ShadingPattern=_t,p.TilingPattern=wt,p.addShadingPattern=function(t,e){return I("addShadingPattern()"),$t(t,e),this},p.beginTilingPattern=function(t){I("beginTilingPattern()"),Mn(t.boundingBox[0],t.boundingBox[1],t.boundingBox[2]-t.boundingBox[0],t.boundingBox[3]-t.boundingBox[1],t.matrix)},p.endTilingPattern=function(t,e){I("endTilingPattern()"),e.stream=Z[q].join("\n"),$t(t,e),qt.publish("endTilingPattern",e),zt.pop().restore()};var Yt=p.__private__.newObject=function(){var t=Qt();return Xt(t,!0),t},Qt=p.__private__.newObjectDeferred=function(){return z++,G[z]=function(){return $},z},Xt=function(t,e){return e="boolean"==typeof e&&e,G[t]=$,e&&it(t+" 0 obj"),t},Jt=p.__private__.newAdditionalObject=function(){var t={objId:Qt(),content:""};return Y.push(t),t},Zt=Qt(),te=Qt(),ee=p.__private__.decodeColorString=function(t){var e=t.split(" ");if(2!==e.length||"g"!==e[1]&&"G"!==e[1])5!==e.length||"k"!==e[4]&&"K"!==e[4]||(e=[(1-e[0])*(1-e[3]),(1-e[1])*(1-e[3]),(1-e[2])*(1-e[3]),"r"]);else{var n=parseFloat(e[0]);e=[n,n,n,"r"]}for(var r="#",i=0;i<3;i++)r+=("0"+Math.floor(255*parseFloat(e[i])).toString(16)).slice(-2);return r},ne=p.__private__.encodeColorString=function(t){var e;"string"==typeof t&&(t={ch1:t});var n=t.ch1,i=t.ch2,o=t.ch3,s=t.ch4,a="draw"===t.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var u=new J(n);if(u.ok)n=u.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var c=parseInt(n.substr(1),16);n=c>>16&255,i=c>>8&255,o=255&c}if(void 0===i||void 0===s&&n===i&&i===o)if("string"==typeof n)e=n+" "+a[0];else switch(t.precision){case 2:e=k(n/255)+" "+a[0];break;case 3:default:e=E(n/255)+" "+a[0]}else if(void 0===s||"object"===r(s)){if(s&&!isNaN(s.a)&&0===s.a)return["1.","1.","1.",a[1]].join(" ");if("string"==typeof n)e=[n,i,o,a[1]].join(" ");else switch(t.precision){case 2:e=[k(n/255),k(i/255),k(o/255),a[1]].join(" ");break;default:case 3:e=[E(n/255),E(i/255),E(o/255),a[1]].join(" ")}}else if("string"==typeof n)e=[n,i,o,s,a[2]].join(" ");else switch(t.precision){case 2:e=[k(n),k(i),k(o),k(s),a[2]].join(" ");break;case 3:default:e=[E(n),E(i),E(o),E(s),a[2]].join(" ")}return e},re=p.__private__.getFilters=function(){return a},ie=p.__private__.putStream=function(t){var e=(t=t||{}).data||"",n=t.filters||re(),r=t.alreadyAppliedFilters||[],i=t.addLength1||!1,o=e.length,s=t.objectId,a=function(t){return t};if(null!==h&&void 0===s)throw new Error("ObjectId must be passed to putStream for file encryption");null!==h&&(a=Ke.encryptor(s,0));var u={};!0===n&&(n=["FlateEncode"]);var c=t.additionalKeyValues||[],l=(u=void 0!==Ct.API.processDataByFilters?Ct.API.processDataByFilters(e,n):{data:e,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==u.data.length&&(c.push({key:"Length",value:u.data.length}),!0===i&&c.push({key:"Length1",value:o})),0!=l.length)if(l.split("/").length-1==1)c.push({key:"Filter",value:l});else{c.push({key:"Filter",value:"["+l+"]"});for(var f=0;f<c.length;f+=1)if("DecodeParms"===c[f].key){for(var d=[],p=0;p<u.reverseChain.split("/").length-1;p+=1)d.push("null");d.push(c[f].value),c[f].value="["+d.join(" ")+"]"}}it("<<");for(var g=0;g<c.length;g++)it("/"+c[g].key+" "+c[g].value);it(">>"),0!==u.data.length&&(it("stream"),it(a(u.data)),it("endstream"))},oe=p.__private__.putPage=function(t){var e=t.number,n=t.data,r=t.objId,i=t.contentsObjId;Xt(r,!0),it("<</Type /Page"),it("/Parent "+t.rootDictionaryObjId+" 0 R"),it("/Resources "+t.resourceDictionaryObjId+" 0 R"),it("/MediaBox ["+parseFloat(x(t.mediaBox.bottomLeftX))+" "+parseFloat(x(t.mediaBox.bottomLeftY))+" "+x(t.mediaBox.topRightX)+" "+x(t.mediaBox.topRightY)+"]"),null!==t.cropBox&&it("/CropBox ["+x(t.cropBox.bottomLeftX)+" "+x(t.cropBox.bottomLeftY)+" "+x(t.cropBox.topRightX)+" "+x(t.cropBox.topRightY)+"]"),null!==t.bleedBox&&it("/BleedBox ["+x(t.bleedBox.bottomLeftX)+" "+x(t.bleedBox.bottomLeftY)+" "+x(t.bleedBox.topRightX)+" "+x(t.bleedBox.topRightY)+"]"),null!==t.trimBox&&it("/TrimBox ["+x(t.trimBox.bottomLeftX)+" "+x(t.trimBox.bottomLeftY)+" "+x(t.trimBox.topRightX)+" "+x(t.trimBox.topRightY)+"]"),null!==t.artBox&&it("/ArtBox ["+x(t.artBox.bottomLeftX)+" "+x(t.artBox.bottomLeftY)+" "+x(t.artBox.topRightX)+" "+x(t.artBox.topRightY)+"]"),"number"==typeof t.userUnit&&1!==t.userUnit&&it("/UserUnit "+t.userUnit),qt.publish("putPage",{objId:r,pageContext:Ut[e],pageNumber:e,page:n}),it("/Contents "+i+" 0 R"),it(">>"),it("endobj");var o=n.join("\n");return _===b.ADVANCED&&(o+="\nQ"),Xt(i,!0),ie({data:o,filters:re(),objectId:i}),it("endobj"),r},se=p.__private__.putPages=function(){var t,e,n=[];for(t=1;t<=jt;t++)Ut[t].objId=Qt(),Ut[t].contentsObjId=Qt();for(t=1;t<=jt;t++)n.push(oe({number:t,data:Z[t],objId:Ut[t].objId,contentsObjId:Ut[t].contentsObjId,mediaBox:Ut[t].mediaBox,cropBox:Ut[t].cropBox,bleedBox:Ut[t].bleedBox,trimBox:Ut[t].trimBox,artBox:Ut[t].artBox,userUnit:Ut[t].userUnit,rootDictionaryObjId:Zt,resourceDictionaryObjId:te}));Xt(Zt,!0),it("<</Type /Pages");var r="/Kids [";for(e=0;e<jt;e++)r+=n[e]+" 0 R ";it(r+"]"),it("/Count "+jt),it(">>"),it("endobj"),qt.publish("postPutPages")},ae=function(t){qt.publish("putFont",{font:t,out:it,newObject:Yt,putStream:ie}),!0!==t.isAlreadyPutted&&(t.objectNumber=Yt(),it("<<"),it("/Type /Font"),it("/BaseFont /"+mt(t.postScriptName)),it("/Subtype /Type1"),"string"==typeof t.encoding&&it("/Encoding /"+t.encoding),it("/FirstChar 32"),it("/LastChar 255"),it(">>"),it("endobj"))},ue=function(){for(var t in Pt)Pt.hasOwnProperty(t)&&(!1===f||!0===f&&d.hasOwnProperty(t))&&ae(Pt[t])},ce=function(t){t.objectNumber=Yt();var e=[];e.push({key:"Type",value:"/XObject"}),e.push({key:"Subtype",value:"/Form"}),e.push({key:"BBox",value:"["+[x(t.x),x(t.y),x(t.x+t.width),x(t.y+t.height)].join(" ")+"]"}),e.push({key:"Matrix",value:"["+t.matrix.toString()+"]"});var n=t.pages[1].join("\n");ie({data:n,additionalKeyValues:e,objectId:t.objectNumber}),it("endobj")},le=function(){for(var t in Vt)Vt.hasOwnProperty(t)&&ce(Vt[t])},he=function(t,e){var n,r=[],i=1/(e-1);for(n=0;n<1;n+=i)r.push(n);r.push(1),0!=t[0].offset&&t.unshift({offset:0,color:t[0].color}),1!=t[t.length-1].offset&&t.push({offset:1,color:t[t.length-1].color});for(var o="",s=0,a=0;a<r.length;a++){for(n=r[a];n>t[s+1].offset;)s++;var u=t[s].offset,c=(n-u)/(t[s+1].offset-u),l=t[s].color,h=t[s+1].color;o+=V(Math.round((1-c)*l[0]+c*h[0]).toString(16))+V(Math.round((1-c)*l[1]+c*h[1]).toString(16))+V(Math.round((1-c)*l[2]+c*h[2]).toString(16))}return o.trim()},fe=function(t,e){e||(e=21);var n=Yt(),r=he(t.colors,e),i=[];i.push({key:"FunctionType",value:"0"}),i.push({key:"Domain",value:"[0.0 1.0]"}),i.push({key:"Size",value:"["+e+"]"}),i.push({key:"BitsPerSample",value:"8"}),i.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie({data:r,additionalKeyValues:i,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),it("endobj"),t.objectNumber=Yt(),it("<< /ShadingType "+t.type),it("/ColorSpace /DeviceRGB");var o="/Coords ["+x(parseFloat(t.coords[0]))+" "+x(parseFloat(t.coords[1]))+" ";o+=2===t.type?x(parseFloat(t.coords[2]))+" "+x(parseFloat(t.coords[3])):x(parseFloat(t.coords[2]))+" "+x(parseFloat(t.coords[3]))+" "+x(parseFloat(t.coords[4]))+" "+x(parseFloat(t.coords[5])),it(o+="]"),t.matrix&&it("/Matrix ["+t.matrix.toString()+"]"),it("/Function "+n+" 0 R"),it("/Extend [true true]"),it(">>"),it("endobj")},de=function(t,e){var n=Qt(),r=Yt();e.push({resourcesOid:n,objectOid:r}),t.objectNumber=r;var i=[];i.push({key:"Type",value:"/Pattern"}),i.push({key:"PatternType",value:"1"}),i.push({key:"PaintType",value:"1"}),i.push({key:"TilingType",value:"1"}),i.push({key:"BBox",value:"["+t.boundingBox.map(x).join(" ")+"]"}),i.push({key:"XStep",value:x(t.xStep)}),i.push({key:"YStep",value:x(t.yStep)}),i.push({key:"Resources",value:n+" 0 R"}),t.matrix&&i.push({key:"Matrix",value:"["+t.matrix.toString()+"]"}),ie({data:t.stream,additionalKeyValues:i,objectId:t.objectNumber}),it("endobj")},pe=function(t){var e;for(e in Lt)Lt.hasOwnProperty(e)&&(Lt[e]instanceof _t?fe(Lt[e]):Lt[e]instanceof wt&&de(Lt[e],t))},ge=function(t){for(var e in t.objectNumber=Yt(),it("<<"),t)switch(e){case"opacity":it("/ca "+k(t[e]));break;case"stroke-opacity":it("/CA "+k(t[e]))}it(">>"),it("endobj")},me=function(){var t;for(t in Mt)Mt.hasOwnProperty(t)&&ge(Mt[t])},ve=function(){for(var t in it("/XObject <<"),Vt)Vt.hasOwnProperty(t)&&Vt[t].objectNumber>=0&&it("/"+t+" "+Vt[t].objectNumber+" 0 R");qt.publish("putXobjectDict"),it(">>")},ye=function(){Ke.oid=Yt(),it("<<"),it("/Filter /Standard"),it("/V "+Ke.v),it("/R "+Ke.r),it("/U <"+Ke.toHexString(Ke.U)+">"),it("/O <"+Ke.toHexString(Ke.O)+">"),it("/P "+Ke.P),it(">>"),it("endobj")},be=function(){for(var t in it("/Font <<"),Pt)Pt.hasOwnProperty(t)&&(!1===f||!0===f&&d.hasOwnProperty(t))&&it("/"+t+" "+Pt[t].objectNumber+" 0 R");it(">>")},_e=function(){if(Object.keys(Lt).length>0){for(var t in it("/Shading <<"),Lt)Lt.hasOwnProperty(t)&&Lt[t]instanceof _t&&Lt[t].objectNumber>=0&&it("/"+t+" "+Lt[t].objectNumber+" 0 R");qt.publish("putShadingPatternDict"),it(">>")}},we=function(t){if(Object.keys(Lt).length>0){for(var e in it("/Pattern <<"),Lt)Lt.hasOwnProperty(e)&&Lt[e]instanceof p.TilingPattern&&Lt[e].objectNumber>=0&&Lt[e].objectNumber<t&&it("/"+e+" "+Lt[e].objectNumber+" 0 R");qt.publish("putTilingPatternDict"),it(">>")}},Ce=function(){if(Object.keys(Mt).length>0){var t;for(t in it("/ExtGState <<"),Mt)Mt.hasOwnProperty(t)&&Mt[t].objectNumber>=0&&it("/"+t+" "+Mt[t].objectNumber+" 0 R");qt.publish("putGStateDict"),it(">>")}},Se=function(t){Xt(t.resourcesOid,!0),it("<<"),it("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),be(),_e(),we(t.objectOid),Ce(),ve(),it(">>"),it("endobj")},xe=function(){var t=[];ue(),me(),le(),pe(t),qt.publish("putResources"),t.forEach(Se),Se({resourcesOid:te,objectOid:Number.MAX_SAFE_INTEGER}),qt.publish("postPutResources")},Ie=function(){qt.publish("putAdditionalObjects");for(var t=0;t<Y.length;t++){var e=Y[t];Xt(e.objId,!0),it(e.content),it("endobj")}qt.publish("postPutAdditionalObjects")},Ae=function(t){Nt[t.fontName]=Nt[t.fontName]||{},Nt[t.fontName][t.fontStyle]=t.id},ke=function(t,e,n,r,i){var o={id:"F"+(Object.keys(Pt).length+1).toString(10),postScriptName:t,fontName:e,fontStyle:n,encoding:r,isStandardFont:i||!1,metadata:{}};return qt.publish("addFont",{font:o,instance:this}),Pt[o.id]=o,Ae(o),o.id},Ee=function(t){for(var e=0,n=at.length;e<n;e++){var r=ke.call(this,t[e][0],t[e][1],t[e][2],at[e][3],!0);!1===f&&(d[r]=!0);var i=t[e][0].split("-");Ae({id:r,fontName:i[0],fontStyle:i[1]||""})}qt.publish("addFonts",{fonts:Pt,dictionary:Nt})},Te=function(t){return t.foo=function(){try{return t.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!H.console)throw new Error(n);H.console.error(n,t),H.alert&&alert(n)}},t.foo.bar=t,t.foo},Pe=function(t,e){var n,r,i,o,s,a,u,c,l;if(i=(e=e||{}).sourceEncoding||"Unicode",s=e.outputEncoding,(e.autoencode||s)&&Pt[It].metadata&&Pt[It].metadata[i]&&Pt[It].metadata[i].encoding&&(o=Pt[It].metadata[i].encoding,!s&&Pt[It].encoding&&(s=Pt[It].encoding),!s&&o.codePages&&(s=o.codePages[0]),"string"==typeof s&&(s=o[s]),s)){for(u=!1,a=[],n=0,r=t.length;n<r;n++)(c=s[t.charCodeAt(n)])?a.push(String.fromCharCode(c)):a.push(t[n]),a[n].charCodeAt(0)>>8&&(u=!0);t=a.join("")}for(n=t.length;void 0===u&&0!==n;)t.charCodeAt(n-1)>>8&&(u=!0),n--;if(!u)return t;for(a=e.noBOM?[]:[254,255],n=0,r=t.length;n<r;n++){if((l=(c=t.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");a.push(l),a.push(c-(l<<8))}return String.fromCharCode.apply(void 0,a)},Ne=p.__private__.pdfEscape=p.pdfEscape=function(t,e){return Pe(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oe=p.__private__.beginPage=function(t){Z[++jt]=[],Ut[jt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t[0]),topRightY:Number(t[1])}},Me(jt),rt(Z[q])},Le=function(t,e){var r,i,s;switch(n=e||n,"string"==typeof t&&(r=y(t.toLowerCase()),Array.isArray(r)&&(i=r[0],s=r[1])),Array.isArray(t)&&(i=t[0]*At,s=t[1]*At),isNaN(i)&&(i=o[0],s=o[1]),(i>14400||s>14400)&&(W.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),i=Math.min(14400,i),s=Math.min(14400,s)),o=[i,s],n.substr(0,1)){case"l":s>i&&(o=[s,i]);break;case"p":i>s&&(o=[s,i])}Oe(o),gn(dn),it(Sn),0!==Tn&&it(Tn+" J"),0!==Pn&&it(Pn+" j"),qt.publish("addPage",{pageNumber:jt})},De=function(t){t>0&&t<=jt&&(Z.splice(t,1),Ut.splice(t,1),jt--,q>jt&&(q=jt),this.setPage(q))},Me=function(t){t>0&&t<=jt&&(q=t)},Re=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Z.length-1},Fe=function(t,e,n){var r,i=void 0;return n=n||{},e=void 0!==e?e:Pt[It].fontStyle,r=(t=void 0!==t?t:Pt[It].fontName).toLowerCase(),void 0!==Nt[r]&&void 0!==Nt[r][e]?i=Nt[r][e]:void 0!==Nt[t]&&void 0!==Nt[t][e]?i=Nt[t][e]:!1===n.disableWarning&&W.warn("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts."),i||n.noFallback||null==(i=Nt.times[e])&&(i=Nt.times.normal),i},je=p.__private__.putInfo=function(){var t=Yt(),e=function(t){return t};for(var n in null!==h&&(e=Ke.encryptor(t,0)),it("<<"),it("/Producer ("+Ne(e("jsPDF "+Ct.version))+")"),xt)xt.hasOwnProperty(n)&&xt[n]&&it("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+Ne(e(xt[n]))+")");it("/CreationDate ("+Ne(e(O))+")"),it(">>"),it("endobj")},Ue=p.__private__.putCatalog=function(t){var e=(t=t||{}).rootDictionaryObjId||Zt;switch(Yt(),it("<<"),it("/Type /Catalog"),it("/Pages "+e+" 0 R"),ct||(ct="fullwidth"),ct){case"fullwidth":it("/OpenAction [3 0 R /FitH null]");break;case"fullheight":it("/OpenAction [3 0 R /FitV null]");break;case"fullpage":it("/OpenAction [3 0 R /Fit]");break;case"original":it("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ct;"%"===n.substr(n.length-1)&&(ct=parseInt(ct)/100),"number"==typeof ct&&it("/OpenAction [3 0 R /XYZ null null "+k(ct)+"]")}switch(pt||(pt="continuous"),pt){case"continuous":it("/PageLayout /OneColumn");break;case"single":it("/PageLayout /SinglePage");break;case"two":case"twoleft":it("/PageLayout /TwoColumnLeft");break;case"tworight":it("/PageLayout /TwoColumnRight")}ft&&it("/PageMode /"+ft),qt.publish("putCatalog"),it(">>"),it("endobj")},qe=p.__private__.putTrailer=function(){it("trailer"),it("<<"),it("/Size "+(z+1)),it("/Root "+z+" 0 R"),it("/Info "+(z-1)+" 0 R"),null!==h&&it("/Encrypt "+Ke.oid+" 0 R"),it("/ID [ <"+L+"> <"+L+"> ]"),it(">>")},Be=p.__private__.putHeader=function(){it("%PDF-"+g),it("%\xba\xdf\xac\xe0")},Ve=p.__private__.putXRef=function(){var t="0000000000";it("xref"),it("0 "+(z+1)),it("0000000000 65535 f ");for(var e=1;e<=z;e++)it("function"==typeof G[e]?(t+G[e]()).slice(-10)+" 00000 n ":void 0!==G[e]?(t+G[e]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},He=p.__private__.buildDocument=function(){nt(),rt(K),qt.publish("buildDocument"),Be(),se(),Ie(),xe(),null!==h&&ye(),je(),Ue();var t=$;return Ve(),qe(),it("startxref"),it(""+t),it("%%EOF"),rt(Z[q]),K.join("\n")},ze=p.__private__.getBlob=function(t){return new Blob([st(t)],{type:"application/pdf"})},We=p.output=p.__private__.output=Te(function(t,e){switch("string"==typeof(e=e||{})?e={filename:e}:e.filename=e.filename||"generated.pdf",t){case void 0:return He();case"save":p.save(e.filename);break;case"arraybuffer":return st(He());case"blob":return ze(He());case"bloburi":case"bloburl":if(void 0!==H.URL&&"function"==typeof H.URL.createObjectURL)return H.URL&&H.URL.createObjectURL(ze(He()))||void 0;W.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=He();try{n=Q(r)}catch(t){n=Q(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+e.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(H)){var i="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",o=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';e.pdfObjectUrl&&(i=e.pdfObjectUrl,o="");var s='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+i+'"'+o+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(e)+");<\/script></body></html>",a=H.open();return null!==a&&a.document.write(s),a}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(H)){var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(e.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+e.filename+'" width="500px" height="400px" /></body></html>',c=H.open();if(null!==c){c.document.write(u);var l=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=e.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(l.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(H))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",e)+'"></iframe></body></html>',f=H.open();if(null!==f&&(f.document.write(h),f.document.title=e.filename),f||"undefined"==typeof safari)return f;break;case"datauri":case"dataurl":return H.document.location.href=this.output("datauristring",e);default:return null}}),Ge=function(t){return!0===Array.isArray(Bt)&&Bt.indexOf(t)>-1};switch(i){case"pt":At=1;break;case"mm":At=72/25.4;break;case"cm":At=72/2.54;break;case"in":At=72;break;case"px":At=1==Ge("px_scaling")?.75:96/72;break;case"pc":case"em":At=12;break;case"ex":At=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);At=i}var Ke=null;j(),M();var $e=function(t){return null!==h?Ke.encryptor(t,0):function(t){return t}},Ye=p.__private__.getPageInfo=p.getPageInfo=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[t].objId,pageNumber:t,pageContext:Ut[t]}},Qe=p.__private__.getPageInfoByObjId=function(t){if(isNaN(t)||t%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var e in Ut)if(Ut[e].objId===t)break;return Ye(e)},Xe=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Ut[q].objId,pageNumber:q,pageContext:Ut[q]}};p.addPage=function(){return Le.apply(this,arguments),this},p.setPage=function(){return Me.apply(this,arguments),rt.call(this,Z[q]),this},p.insertPage=function(t){return this.addPage(),this.movePage(q,t),this},p.movePage=function(t,e){var n,r;if(t>e){n=Z[t],r=Ut[t];for(var i=t;i>e;i--)Z[i]=Z[i-1],Ut[i]=Ut[i-1];Z[e]=n,Ut[e]=r,this.setPage(e)}else if(t<e){n=Z[t],r=Ut[t];for(var o=t;o<e;o++)Z[o]=Z[o+1],Ut[o]=Ut[o+1];Z[e]=n,Ut[e]=r,this.setPage(e)}return this},p.deletePage=function(){return De.apply(this,arguments),this},p.__private__.text=p.text=function(t,e,n,i,o){var s,a,u,c,l,h,f,p,g,m=(i=i||{}).scope||this;if("number"==typeof t&&"number"==typeof e&&("string"==typeof n||Array.isArray(n))){var v=n;n=e,e=t,t=v}if(arguments[3]instanceof Wt==0?(u=arguments[4],c=arguments[5],"object"===r(f=arguments[3])&&null!==f||("string"==typeof u&&(c=u,u=null),"string"==typeof f&&(c=f,f=null),"number"==typeof f&&(u=f,f=null),i={flags:f,angle:u,align:c})):(I("The transform parameter of text() with a Matrix value"),g=o),isNaN(e)||isNaN(n)||null==t)throw new Error("Invalid arguments passed to jsPDF.text");if(0===t.length)return m;var y="",w=!1,C="number"==typeof i.lineHeightFactor?i.lineHeightFactor:fn,S=m.internal.scaleFactor;function A(t){return t=t.split("\t").join(Array(i.TabLen||9).join(" ")),Ne(t,f)}function k(t){for(var e,n=t.concat(),r=[],i=n.length;i--;)"string"==typeof(e=n.shift())?r.push(e):Array.isArray(t)&&(1===e.length||void 0===e[1]&&void 0===e[2])?r.push(e[0]):r.push([e[0],e[1],e[2]]);return r}function E(t,e){var n;if("string"==typeof t)n=e(t)[0];else if(Array.isArray(t)){for(var r,i,o=t.concat(),s=[],a=o.length;a--;)"string"==typeof(r=o.shift())?s.push(e(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(i=e(r[0],r[1],r[2]),s.push([i[0],i[1],i[2]]));n=s}return n}var P=!1,N=!0;if("string"==typeof t)P=!0;else if(Array.isArray(t)){var O=t.concat();a=[];for(var L,D=O.length;D--;)("string"!=typeof(L=O.shift())||Array.isArray(L)&&"string"!=typeof L[0])&&(N=!1);P=N}if(!1===P)throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');"string"==typeof t&&(t=t.match(/[\r?\n]/)?t.split(/\r\n|\r|\n/g):[t]);var M=ut/m.internal.scaleFactor,R=M*(C-1);switch(i.baseline){case"bottom":n-=R;break;case"top":n+=M-R;break;case"hanging":n+=M-2*R;break;case"middle":n+=M/2-R}if((h=i.maxWidth||0)>0&&("string"==typeof t?t=m.splitTextToSize(t,h):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(m.splitTextToSize(e,h))},[]))),qt.publish("preProcessText",s={text:t,x:e,y:n,options:i,mutex:{pdfEscape:Ne,activeFontKey:It,fonts:Pt,activeFontSize:ut}}),t=s.text,u=(i=s.options).angle,g instanceof Wt==0&&u&&"number"==typeof u){u*=Math.PI/180,0===i.rotationDirection&&(u=-u),_===b.ADVANCED&&(u=-u);var F=Math.cos(u),j=Math.sin(u);g=new Wt(F,j,-j,F,0,0)}else u&&u instanceof Wt&&(g=u);_!==b.ADVANCED||g||(g=Kt),void 0!==(l=i.charSpace||kn)&&(y+=x(T(l))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(p=i.horizontalScale)&&(y+=x(100*p)+" Tz\n");var U=-1,q=void 0!==i.renderingMode?i.renderingMode:i.stroke,B=m.internal.getCurrentPageInfo().pageContext;switch(q){case 0:case!1:case"fill":U=0;break;case 1:case!0:case"stroke":U=1;break;case 2:case"fillThenStroke":U=2;break;case 3:case"invisible":U=3;break;case 4:case"fillAndAddForClipping":U=4;break;case 5:case"strokeAndAddPathForClipping":U=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":U=6;break;case 7:case"addToPathForClipping":U=7}var V=void 0!==B.usedRenderingMode?B.usedRenderingMode:-1;-1!==U?y+=U+" Tr\n":-1!==V&&(y+="0 Tr\n"),-1!==U&&(B.usedRenderingMode=U),c=i.align||"left";var H,z=ut*C,W=m.internal.pageSize.getWidth(),G=Pt[It];l=i.charSpace||kn,h=i.maxWidth||0,f=Object.assign({autoencode:!0,noBOM:!0},i.flags);var K=[];if("[object Array]"===Object.prototype.toString.call(t)){var $;a=k(t),"left"!==c&&(H=a.map(function(t){return m.getStringUnitWidth(t,{font:G,charSpace:l,fontSize:ut,doKerning:!1})*ut/S}));var Y,Q=0;if("right"===c){e-=H[0],t=[],D=a.length;for(var X=0;X<D;X++)0===X?(Y=bn(e),$=_n(n)):(Y=T(Q-H[X]),$=-z),t.push([a[X],Y,$]),Q=H[X]}else if("center"===c){e-=H[0]/2,t=[],D=a.length;for(var J=0;J<D;J++)0===J?(Y=bn(e),$=_n(n)):(Y=T((Q-H[J])/2),$=-z),t.push([a[J],Y,$]),Q=H[J]}else if("left"===c){t=[],D=a.length;for(var Z=0;Z<D;Z++)t.push(a[Z])}else{if("justify"!==c)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');t=[],D=a.length,h=0!==h?h:W;for(var tt=0;tt<D;tt++)$=0===tt?_n(n):-z,Y=0===tt?bn(e):0,K.push(tt<D-1?x(T((h-H[tt])/(a[tt].split(" ").length-1))):0),t.push([a[tt],Y,$])}}var et="boolean"==typeof i.R2L?i.R2L:ht;!0===et&&(t=E(t,function(t,e,n){return[t.split("").reverse().join(""),e,n]})),qt.publish("postProcessText",s={text:t,x:e,y:n,options:i,mutex:{pdfEscape:Ne,activeFontKey:It,fonts:Pt,activeFontSize:ut}}),t=s.text,w=s.mutex.isHex||!1;var nt=Pt[It].encoding;"WinAnsiEncoding"!==nt&&"StandardEncoding"!==nt||(t=E(t,function(t,e,n){return[A(t),e,n]})),a=k(t),t=[];for(var rt,ot,st,at=0,ct=1,lt=Array.isArray(a[0])?ct:at,ft="",dt=function(t,e,n){var r="";return n instanceof Wt?(n="number"==typeof i.angle?Gt(n,new Wt(1,0,0,1,t,e)):Gt(new Wt(1,0,0,1,t,e),n),_===b.ADVANCED&&(n=Gt(new Wt(1,0,0,-1,0,0),n)),r=n.join(" ")+" Tm\n"):r=x(t)+" "+x(e)+" Td\n",r},pt=0;pt<a.length;pt++){switch(ft="",lt){case ct:st=(w?"<":"(")+a[pt][0]+(w?">":")"),rt=parseFloat(a[pt][1]),ot=parseFloat(a[pt][2]);break;case at:st=(w?"<":"(")+a[pt]+(w?">":")"),rt=bn(e),ot=_n(n)}void 0!==K&&void 0!==K[pt]&&(ft=K[pt]+" Tw\n"),0===pt?t.push(ft+dt(rt,ot,g)+st):lt===at?t.push(ft+st):lt===ct&&t.push(ft+dt(rt,ot,g)+st)}t=t.join(lt===at?" Tj\nT* ":" Tj\n"),t+=" Tj\n";var gt="BT\n/";return gt+=It+" "+ut+" Tf\n",gt+=x(ut*C)+" TL\n",gt+=In+"\n",gt+=y,gt+=t,it(gt+="ET"),d[It]=!0,m};var Je=p.__private__.clip=p.clip=function(t){return it("evenodd"===t?"W*":"W"),this};p.clipEvenOdd=function(){return Je("evenodd")},p.__private__.discardPath=p.discardPath=function(){return it("n"),this};var Ze=p.__private__.isValidStyle=function(t){var e=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(t)&&(e=!0),e};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(t){return Ze(t)&&(l=t),this};var tn=p.__private__.getStyle=p.getStyle=function(t){var e=l;switch(t){case"D":case"S":e="S";break;case"F":e="f";break;case"FD":case"DF":e="B";break;case"f":case"f*":case"B":case"B*":e=t}return e},en=p.close=function(){return it("h"),this};p.stroke=function(){return it("S"),this},p.fill=function(t){return nn("f",t),this},p.fillEvenOdd=function(t){return nn("f*",t),this},p.fillStroke=function(t){return nn("B",t),this},p.fillStrokeEvenOdd=function(t){return nn("B*",t),this};var nn=function(t,e){"object"===r(e)?sn(e,t):it(t)},rn=function(t){null===t||_===b.ADVANCED&&void 0===t||(t=tn(t),it(t))};function on(t,e,n,r,i){var o=new wt(e||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,i||this.matrix);o.stream=this.stream;var s=t+"$$"+this.cloneIndex+++"$$";return $t(s,o),o}var sn=function(t,e){var n=Dt[t.key],r=Lt[n];if(r instanceof _t)it("q"),it(an(e)),r.gState&&p.setGState(r.gState),it(t.matrix.toString()+" cm"),it("/"+n+" sh"),it("Q");else if(r instanceof wt){var i=new Wt(1,0,0,-1,0,qn());t.matrix&&(i=i.multiply(t.matrix||Kt),n=on.call(r,t.key,t.boundingBox,t.xStep,t.yStep,i).id),it("q"),it("/Pattern cs"),it("/"+n+" scn"),r.gState&&p.setGState(r.gState),it(e),it("Q")}},an=function(t){switch(t){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},un=p.moveTo=function(t,e){return it(x(T(t))+" "+x(N(e))+" m"),this},cn=p.lineTo=function(t,e){return it(x(T(t))+" "+x(N(e))+" l"),this},ln=p.curveTo=function(t,e,n,r,i,o){return it([x(T(t)),x(N(e)),x(T(n)),x(N(r)),x(T(i)),x(N(o)),"c"].join(" ")),this};p.__private__.line=p.line=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ze(i))throw new Error("Invalid arguments passed to jsPDF.line");return _===b.COMPAT?this.lines([[n-t,r-e]],t,e,[1,1],i||"S"):this.lines([[n-t,r-e]],t,e,[1,1]).stroke()},p.__private__.lines=p.lines=function(t,e,n,r,i,o){var s,a,u,c,l,h,f,d;if("number"==typeof t&&(d=n,n=e,e=t,t=d),r=r||[1,1],o=o||!1,isNaN(e)||isNaN(n)||!Array.isArray(t)||!Array.isArray(r)||!Ze(i)||"boolean"!=typeof o)throw new Error("Invalid arguments passed to jsPDF.lines");for(un(e,n),s=r[0],a=r[1],c=t.length,h=e,f=n,u=0;u<c;u++)2===(l=t[u]).length?cn(h=l[0]*s+h,f=l[1]*a+f):ln(l[0]*s+h,l[1]*a+f,l[2]*s+h,l[3]*a+f,h=l[4]*s+h,f=l[5]*a+f);return o&&en(),rn(i),this},p.path=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=n.c;switch(n.op){case"m":un(r[0],r[1]);break;case"l":cn(r[0],r[1]);break;case"c":ln.apply(this,r);break;case"h":en()}}return this},p.__private__.rect=p.rect=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ze(i))throw new Error("Invalid arguments passed to jsPDF.rect");return _===b.COMPAT&&(r=-r),it([x(T(t)),x(N(e)),x(T(n)),x(T(r)),"re"].join(" ")),rn(i),this},p.__private__.triangle=p.triangle=function(t,e,n,r,i,o,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Ze(s))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-t,r-e],[i-n,o-r],[t-i,e-o]],t,e,[1,1],s,!0),this},p.__private__.roundedRect=p.roundedRect=function(t,e,n,r,i,o,s){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o)||!Ze(s))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var a=4/3*(Math.SQRT2-1);return i=Math.min(i,.5*n),o=Math.min(o,.5*r),this.lines([[n-2*i,0],[i*a,0,i,o-o*a,i,o],[0,r-2*o],[0,o*a,-i*a,o,-i,o],[2*i-n,0],[-i*a,0,-i,-o*a,-i,-o],[0,2*o-r],[0,-o*a,i*a,-o,i,-o]],t+i,e,[1,1],s,!0),this},p.__private__.ellipse=p.ellipse=function(t,e,n,r,i){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||!Ze(i))throw new Error("Invalid arguments passed to jsPDF.ellipse");var o=4/3*(Math.SQRT2-1)*n,s=4/3*(Math.SQRT2-1)*r;return un(t+n,e),ln(t+n,e-s,t+o,e-r,t,e-r),ln(t-o,e-r,t-n,e-s,t-n,e),ln(t-n,e+s,t-o,e+r,t,e+r),ln(t+o,e+r,t+n,e+s,t+n,e),rn(i),this},p.__private__.circle=p.circle=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||!Ze(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t,e,n,n,r)},p.setFont=function(t,e,n){return n&&(e=S(e,n)),It=Fe(t,e,{disableWarning:!1}),this};var hn=p.__private__.getFont=p.getFont=function(){return Pt[Fe.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var t,e,n={};for(t in Nt)if(Nt.hasOwnProperty(t))for(e in n[t]=[],Nt[t])Nt[t].hasOwnProperty(e)&&n[t].push(e);return n},p.addFont=function(t,e,n,r,i){var o=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==o.indexOf(arguments[3])?i=arguments[3]:arguments[3]&&-1==o.indexOf(arguments[3])&&(n=S(n,r)),ke.call(this,t,e,n,i=i||"Identity-H")};var fn,dn=t.lineWidth||.200025,pn=p.__private__.getLineWidth=p.getLineWidth=function(){return dn},gn=p.__private__.setLineWidth=p.setLineWidth=function(t){return dn=t,it(x(T(t))+" w"),this};p.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(t,e){if(t=t||[],e=e||0,isNaN(e)||!Array.isArray(t))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t=t.map(function(t){return x(T(t))}).join(" "),e=x(T(e)),it("["+t+"] "+e+" d"),this};var mn=p.__private__.getLineHeight=p.getLineHeight=function(){return ut*fn};p.__private__.getLineHeight=p.getLineHeight=function(){return ut*fn};var vn=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(t){return"number"==typeof(t=t||1.15)&&(fn=t),this},yn=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return fn};vn(t.lineHeight);var bn=p.__private__.getHorizontalCoordinate=function(t){return T(t)},_n=p.__private__.getVerticalCoordinate=function(t){return _===b.ADVANCED?t:Ut[q].mediaBox.topRightY-Ut[q].mediaBox.bottomLeftY-T(t)},wn=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(t){return x(bn(t))},Cn=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(t){return x(_n(t))},Sn=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ee(Sn)},p.__private__.setStrokeColor=p.setDrawColor=function(t,e,n,r){return Sn=ne({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),it(Sn),this};var xn=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ee(xn)},p.__private__.setFillColor=p.setFillColor=function(t,e,n,r){return xn=ne({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),it(xn),this};var In=t.textColor||"0 g",An=p.__private__.getTextColor=p.getTextColor=function(){return ee(In)};p.__private__.setTextColor=p.setTextColor=function(t,e,n,r){return In=ne({ch1:t,ch2:e,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var kn=t.charSpace,En=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(kn||0)};p.__private__.setCharSpace=p.setCharSpace=function(t){if(isNaN(t))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return kn=t,this};var Tn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(t){var e=p.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Tn=e,it(e+" J"),this};var Pn=0;p.__private__.setLineJoin=p.setLineJoin=function(t){var e=p.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pn=e,it(e+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(t){if(t=t||0,isNaN(t))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return it(x(T(t))+" M"),this},p.GState=yt,p.setGState=function(t){(t="string"==typeof t?Mt[Rt[t]]:Nn(null,t)).equals(Ft)||(it("/"+t.id+" gs"),Ft=t)};var Nn=function(t,e){if(!t||!Rt[t]){var n=!1;for(var r in Mt)if(Mt.hasOwnProperty(r)&&Mt[r].equals(e)){n=!0;break}if(n)e=Mt[r];else{var i="GS"+(Object.keys(Mt).length+1).toString(10);Mt[i]=e,e.id=i}return t&&(Rt[t]=e.id),qt.publish("addGState",e),e}};p.addGState=function(t,e){return Nn(t,e),this},p.saveGraphicsState=function(){return it("q"),Ot.push({key:It,size:ut,color:In}),this},p.restoreGraphicsState=function(){it("Q");var t=Ot.pop();return It=t.key,ut=t.size,In=t.color,Ft=null,this},p.setCurrentTransformationMatrix=function(t){return it(t.toString()+" cm"),this},p.comment=function(t){return it("#"+t),this};var On=function(t,e){var n=t||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(t){isNaN(t)||(n=parseFloat(t))}});var r=e||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(t){isNaN(t)||(r=parseFloat(t))}});var i="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i},set:function(t){i=t.toString()}}),this},Ln=function(t,e,n,r){On.call(this,t,e),this.type="rect";var i=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i},set:function(t){isNaN(t)||(i=parseFloat(t))}});var o=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return o},set:function(t){isNaN(t)||(o=parseFloat(t))}}),this},Dn=function(){this.page=jt,this.currentPage=q,this.pages=Z.slice(0),this.pagesContext=Ut.slice(0),this.x=kt,this.y=Et,this.matrix=Tt,this.width=jn(q),this.height=qn(q),this.outputDestination=et,this.id="",this.objectNumber=-1};Dn.prototype.restore=function(){jt=this.page,Ut=this.pagesContext,Z=this.pages,kt=this.x,Et=this.y,Tt=this.matrix,Un(q=this.currentPage,this.width),Bn(q,this.height),et=this.outputDestination};var Mn=function(t,e,n,r,i){zt.push(new Dn),jt=q=0,Z=[],kt=t,Et=e,Tt=i,Oe([n,r])},Rn=function(t){if(Ht[t])zt.pop().restore();else{var e=new Dn,n="Xo"+(Object.keys(Vt).length+1).toString(10);e.id=n,Ht[t]=n,Vt[n]=e,qt.publish("addFormObject",e),zt.pop().restore()}};for(var Fn in p.beginFormObject=function(t,e,n,r,i){return Mn(t,e,n,r,i),this},p.endFormObject=function(t){return Rn(t),this},p.doFormObject=function(t,e){var n=Vt[Ht[t]];return it("q"),it(e.toString()+" cm"),it("/"+n.id+" Do"),it("Q"),this},p.getFormObject=function(t){var e=Vt[Ht[t]];return{x:e.x,y:e.y,width:e.width,height:e.height,matrix:e.matrix}},p.save=function(t,e){return t=t||"generated.pdf",(e=e||{}).returnPromise=e.returnPromise||!1,!1===e.returnPromise?(X(ze(He()),t),"function"==typeof X.unload&&H.setTimeout&&setTimeout(X.unload,911),this):new Promise(function(e,n){try{var r=X(ze(He()),t);"function"==typeof X.unload&&H.setTimeout&&setTimeout(X.unload,911),e(r)}catch(t){n(t.message)}})},Ct.API)Ct.API.hasOwnProperty(Fn)&&("events"===Fn&&Ct.API.events.length?function(t,e){var n,r;for(r=e.length-1;-1!==r;r--)t.subscribe.apply(t,[e[r][0]].concat("function"==typeof(n=e[r][1])?[n]:n))}(qt,Ct.API.events):p[Fn]=Ct.API[Fn]);var jn=p.getPageWidth=function(t){return(Ut[t=t||q].mediaBox.topRightX-Ut[t].mediaBox.bottomLeftX)/At},Un=p.setPageWidth=function(t,e){Ut[t].mediaBox.topRightX=e*At+Ut[t].mediaBox.bottomLeftX},qn=p.getPageHeight=function(t){return(Ut[t=t||q].mediaBox.topRightY-Ut[t].mediaBox.bottomLeftY)/At},Bn=p.setPageHeight=function(t,e){Ut[t].mediaBox.topRightY=e*At+Ut[t].mediaBox.bottomLeftY};return p.internal={pdfEscape:Ne,getStyle:tn,getFont:hn,getFontSize:lt,getCharSpace:En,getTextColor:An,getLineHeight:mn,getLineHeightFactor:yn,getLineWidth:pn,write:ot,getHorizontalCoordinate:bn,getVerticalCoordinate:_n,getCoordinateString:wn,getVerticalCoordinateString:Cn,collections:{},newObject:Yt,newAdditionalObject:Jt,newObjectDeferred:Qt,newObjectDeferredBegin:Xt,getFilters:re,putStream:ie,events:qt,scaleFactor:At,pageSize:{getWidth:function(){return jn(q)},setWidth:function(t){Un(q,t)},getHeight:function(){return qn(q)},setHeight:function(t){Bn(q,t)}},encryptionOptions:h,encryption:Ke,getEncryptor:$e,output:We,getNumberOfPages:Re,pages:Z,out:it,f2:k,f3:E,getPageInfo:Ye,getPageInfoByObjId:Qe,getCurrentPageInfo:Xe,getPDFVersion:m,Point:On,Rectangle:Ln,Matrix:Wt,hasHotfix:Ge},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return jn(q)},set:function(t){Un(q,t)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return qn(q)},set:function(t){Bn(q,t)},enumerable:!0,configurable:!0}),Ee.call(p,at),It="F1",Le(o,n),qt.publish("initialized"),p}gt.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},gt.prototype.toHexString=function(t){return t.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gt.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},gt.prototype.processOwnerPassword=function(t,e){return dt(lt(e).substr(0,5),t)},gt.prototype.encryptor=function(t,e){var n=lt(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(t){return dt(n,t)}},yt.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||r(t)!==r(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e))return!1;if(this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return 0===i},Ct.API={events:[]},Ct.version="2.5.1";var St=Ct.API,xt=1,It=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},At=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kt=function(t){return t.toFixed(2)},Et=function(t){return t.toFixed(5)};St.__acroform__={};var Tt=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Pt=function(t){return t*xt},Nt=function(t){var e=new Kt,n=ae.internal.getHeight(t)||0,r=ae.internal.getWidth(t)||0;return e.BBox=[0,0,Number(kt(r)),Number(kt(n))],e},Ot=St.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Lt=St.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Dt=St.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(t&1<<e)?0:1},Mt=St.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Dt(t,e-1)},Rt=St.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Ot(t,e-1)},Ft=St.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Lt(t,e-1)},jt=St.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],u={};return u.lowerLeft_X=n(i)||0,u.lowerLeft_Y=r(o+a)||0,u.upperRight_X=n(i+s)||0,u.upperRight_Y=r(o)||0,[Number(kt(u.lowerLeft_X)),Number(kt(u.lowerLeft_Y)),Number(kt(u.upperRight_X)),Number(kt(u.upperRight_Y))]},Ut=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=qt(t,t._V||t.DV),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+kt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Nt(t);return i.scope=t.scope,i.stream=e.join("\n"),i}},qt=function(t,e){var n=0===t.fontSize?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=")"==(e="("==e.substr(0,1)?e.substr(1):e).substr(e.length-1)?e.substr(0,e.length-1):e).split(" ");i=i.map(t.multiline?function(t){return t.split("\n")}:function(t){return[t]});var o=n,s=ae.internal.getHeight(t)||0;s=s<0?-s:s;var a=ae.internal.getWidth(t)||0;a=a<0?-a:a;var u=function(e,n,r){return e+1<i.length&&Bt(n+" "+i[e+1][0],t,r).width<=a-4};o++;t:for(;o>0;){e="",o--;var c,l,h=Bt("3",t,o).height,f=t.multiline?s-o:(s-h)/2,d=f+=2,p=0,g=0,m=0;if(o<=0){e="(...) Tj\n",e+="% Width of Text: "+Bt(e,t,o=12).width+", FieldWidth:"+a+"\n";break}for(var v="",y=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var _=!1;if(1!==i[b].length&&m!==i[b].length-1){if((h+2)*(y+2)+2>s)continue t;v+=i[b][m],_=!0,g=b,b--}else{v=" "==(v+=i[b][m]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var w=parseInt(b),C=u(w,v,o),S=b>=i.length-1;if(C&&!S){v+=" ",m=0;continue}if(C||S){if(S)g=w;else if(t.multiline&&(h+2)*(y+2)+2>s)continue t}else{if(!t.multiline)continue t;if((h+2)*(y+2)+2>s)continue t;g=w}}for(var x="",I=p;I<=g;I++){var A=i[I];if(t.multiline){if(I===g){x+=A[m]+" ",m=(m+1)%A.length;continue}if(I===p){x+=A[A.length-1]+" ";continue}}x+=A[0]+" "}switch(x=" "==x.substr(x.length-1)?x.substr(0,x.length-1):x,l=Bt(x,t,o).width,t.textAlign){case"right":c=a-l-2;break;case"center":c=(a-l)/2;break;case"left":default:c=2}e+=kt(c)+" "+kt(d)+" Td\n",e+="("+It(x)+") Tj\n",e+=-kt(c)+" 0 Td\n",d=-(o+2),l=0,p=_?g:g+1,y++,v=""}break}return r.text=e,r.fontSize=o,r},Bt=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Vt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ht=function(t,e){var n={type:"reference",object:t};void 0===e.internal.getPageInfo(t.page).pageContext.annotations.find(function(t){return t.type===n.type&&t.object===n.object})&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},zt=St.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(t){return t};if(Array.isArray(t)){for(var o="[",s=0;s<t.length;s++)switch(0!==s&&(o+=" "),r(t[s])){case"boolean":case"number":case"object":o+=t[s].toString();break;case"string":"/"!==t[s].substr(0,1)?(void 0!==e&&n&&(i=n.internal.getEncryptor(e)),o+="("+It(i(t[s].toString()))+")"):o+=t[s].toString()}return o+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Wt=function(t,e,n){var r=function(t){return t};return void 0!==e&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+It(r(t))+")"},Gt=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gt.prototype.toString=function(){return this.objId+" 0 R"},Gt.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Gt.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(t){return"content"!=t&&"appearanceStreamContent"!=t&&"scope"!=t&&"objId"!=t&&"_"!=t.substring(0,1)});for(var n in e)if(!1===Object.getOwnPropertyDescriptor(this,e[n]).configurable){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:zt(i,this.objId,this.scope)}):i instanceof Gt?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):"function"!=typeof i&&t.push({key:r,value:i}))}return t};var Kt=function(){Gt.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){t=e.trim()},get:function(){return t||null}})};Tt(Kt,Gt);var $t=function(){Gt.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+It(e(t))+")"}},set:function(e){t=e}})};Tt($t,Gt);var Yt=function t(){Gt.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute F supplied.');e=t}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(e,3))},set:function(t){this.F=!0===Boolean(t)?Rt(e,3):Ft(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){if(isNaN(t))throw new Error('Invalid value "'+t+'" for attribute Ff supplied.');n=t}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(t){r=void 0!==t?t:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(t){r[0]=t}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(t){r[1]=t}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(t){r[2]=t}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(t){r[3]=t}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(t){switch(t){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=t;break;default:throw new Error('Invalid value "'+t+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof re)return;o="FieldObject"+t.FieldNum++}var e=function(t){return t};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+It(e(o))+")"},set:function(t){o=t.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(t){o=t}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(t){s=t}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(t){a=t}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(t){u=t}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/xt:c},set:function(t){c=t}});var l="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return l},set:function(t){l=t}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof re||this instanceof oe))return Wt(h,this.objId,this.scope)},set:function(t){t=t.toString(),h=t}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof te==0?Wt(f,this.objId,this.scope):f},set:function(t){t=t.toString(),f=this instanceof te==0?"("===t.substr(0,1)?At(t.substr(1,t.length-2)):At(t):t}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof te==1?At(f.substr(1,f.length-1)):f},set:function(t){t=t.toString(),f=this instanceof te==1?"/"+t:t}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(t){this.V=t}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof te==0?Wt(d,this.objId,this.scope):d},set:function(t){t=t.toString(),d=this instanceof te==0?"("===t.substr(0,1)?At(t.substr(1,t.length-2)):At(t):t}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof te==1?At(d.substr(1,d.length-1)):d},set:function(t){t=t.toString(),d=this instanceof te==1?"/"+t:t}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(t){t=Boolean(t),g=t}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(t){p=t}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,1))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,1):Ft(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,2))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,2):Ft(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,3))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,3):Ft(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m)return m},set:function(t){if(-1===[0,1,2].indexOf(t))throw new Error('Invalid value "'+t+'" for attribute Q supplied.');m=t}}),Object.defineProperty(this,"textAlign",{get:function(){var t;switch(m){case 0:default:t="left";break;case 1:t="center";break;case 2:t="right"}return t},configurable:!0,enumerable:!0,set:function(t){switch(t){case"right":case 2:m=2;break;case"center":case 1:m=1;break;case"left":case 0:default:m=0}}})};Tt(Yt,Gt);var Qt=function(){Yt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){t=e}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zt(e,this.objId,this.scope)},set:function(t){var n,r;r=[],"string"==typeof(n=t)&&(r=function(t,e,n){n||(n=1);for(var r,i=[];r=e.exec(t);)i.push(r[n]);return i}(n,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();-1!==e.indexOf(t)&&(e.splice(e.indexOf(t),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,18))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,18):Ft(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,19))},set:function(t){!0===this.combo&&(this.Ff=!0===Boolean(t)?Rt(this.Ff,19):Ft(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,20))},set:function(t){!0===Boolean(t)?(this.Ff=Rt(this.Ff,20),e.sort()):this.Ff=Ft(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,22))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,22):Ft(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,23):Ft(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,27))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,27):Ft(this.Ff,27)}}),this.hasAppearanceStream=!1};Tt(Qt,Yt);var Xt=function(){Qt.call(this),this.fontName="helvetica",this.combo=!1};Tt(Xt,Qt);var Jt=function(){Xt.call(this),this.combo=!0};Tt(Jt,Xt);var Zt=function(){Jt.call(this),this.edit=!0};Tt(Zt,Jt);var te=function(){Yt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,15))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,15):Ft(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,16))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,16):Ft(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,17))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,17):Ft(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,26):Ft(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(e).length){var n,r=[];for(n in r.push("<<"),e)r.push("/"+n+" ("+It(t(e[n]))+")");return r.push(">>"),r.join("\n")}},set:function(t){"object"===r(t)&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){"string"==typeof t&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(e){t="/"+e}})};Tt(te,Yt);var ee=function(){te.call(this),this.pushButton=!0};Tt(ee,te);var ne=function(){te.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=void 0!==e?e:[]}})};Tt(ne,te);var re=function(){var t,e;Yt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(t){e=t}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(t){return t};this.scope&&(t=this.scope.internal.getEncryptor(this.objId));var e,n=[];for(e in n.push("<<"),i)n.push("/"+e+" ("+It(t(i[e]))+")");return n.push(">>"),n.join("\n")},set:function(t){"object"===r(t)&&(i=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(t){"string"==typeof t&&(i.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ae.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Tt(re,Yt),ne.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ne.prototype.createOption=function(t){var e=new re;return e.Parent=this,e.optionName=t,this.Kids.push(e),ue.call(this.scope,e),e};var ie=function(){te.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ae.CheckBox.createAppearanceStream()};Tt(ie,te);var oe=function(){Yt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,13))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,13):Ft(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,21))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,21):Ft(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,23))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,23):Ft(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,24))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,24):Ft(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,25))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,25):Ft(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,26))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,26):Ft(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Tt(oe,Yt);var se=function(){oe.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Mt(this.Ff,14))},set:function(t){this.Ff=!0===Boolean(t)?Rt(this.Ff,14):Ft(this.Ff,14)}}),this.password=!0};Tt(se,oe);var ae={CheckBox:{createAppearanceStream:function(){return{N:{On:ae.CheckBox.YesNormal},D:{On:ae.CheckBox.YesPushDown,Off:ae.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Nt(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=qt(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+kt(ae.internal.getWidth(t))+" "+kt(ae.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+kt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join("\n"),e},YesNormal:function(t){var e=Nt(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=ae.internal.getHeight(t),s=ae.internal.getWidth(t),a=qt(t,t.caption);return i.push("1 g"),i.push("0 0 "+kt(s)+" "+kt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kt(s-1)+" "+kt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+kt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(t){var e=Nt(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(ae.internal.getWidth(t))+" "+kt(ae.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ae.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ae.RadioButton.Circle.YesNormal,e.D[t]=ae.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Nt(t);e.scope=t.scope;var n=[],r=ae.internal.getWidth(t)<=ae.internal.getHeight(t)?ae.internal.getWidth(t)/4:ae.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((r*ae.internal.Bezier_C).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Et(ae.internal.getWidth(t)/2)+" "+Et(ae.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=Nt(t);e.scope=t.scope;var n=[],r=ae.internal.getWidth(t)<=ae.internal.getHeight(t)?ae.internal.getWidth(t)/4:ae.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ae.internal.Bezier_C).toFixed(5)),s=Number((r*ae.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Et(ae.internal.getWidth(t)/2)+" "+Et(ae.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Et(ae.internal.getWidth(t)/2)+" "+Et(ae.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(t){var e=Nt(t);e.scope=t.scope;var n=[],r=ae.internal.getWidth(t)<=ae.internal.getHeight(t)?ae.internal.getWidth(t)/4:ae.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ae.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Et(ae.internal.getWidth(t)/2)+" "+Et(ae.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join("\n"),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ae.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ae.RadioButton.Cross.YesNormal,e.D[t]=ae.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Nt(t);e.scope=t.scope;var n=[],r=ae.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+kt(ae.internal.getWidth(t)-2)+" "+kt(ae.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),n.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),n.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),n.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},YesPushDown:function(t){var e=Nt(t);e.scope=t.scope;var n=ae.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(ae.internal.getWidth(t))+" "+kt(ae.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+kt(ae.internal.getWidth(t)-2)+" "+kt(ae.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(n.x1.x)+" "+kt(n.x1.y)+" m"),r.push(kt(n.x2.x)+" "+kt(n.x2.y)+" l"),r.push(kt(n.x4.x)+" "+kt(n.x4.y)+" m"),r.push(kt(n.x3.x)+" "+kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join("\n"),e},OffPushDown:function(t){var e=Nt(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(ae.internal.getWidth(t))+" "+kt(ae.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join("\n"),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ae.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ae.internal.getWidth(t),n=ae.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},ae.internal.getWidth=function(t){var e=0;return"object"===r(t)&&(e=Pt(t.Rect[2])),e},ae.internal.getHeight=function(t){var e=0;return"object"===r(t)&&(e=Pt(t.Rect[3])),e};var ue=St.addField=function(t){if(function(t,e){if(e.scope=t,void 0!==t.internal&&(void 0===t.internal.acroformPlugin||!1===t.internal.acroformPlugin.isInitialized)){if(Yt.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Vt)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xt=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new $t,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){var e;(e=t).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),t.internal.events.subscribe("buildDocument",function(){!function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r.objId=void 0,r.hasAnnotation&&Ht(r,t)}}(t)}),t.internal.events.subscribe("putCatalog",function(){!function(t){if(void 0===t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(t)}),t.internal.events.subscribe("postPutPages",function(e){!function(t,e){var n=!t;for(var i in t||(e.internal.newObjectDeferredBegin(e.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),e.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),t=t||e.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(t.hasOwnProperty(i)){var o=t[i],s=[],a=o.Rect;if(o.Rect&&(o.Rect=jt(o.Rect,e)),e.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ae.createDefaultAppearanceStream(o),"object"===r(o)&&"function"==typeof o.getKeyValueListForStream&&(s=o.getKeyValueListForStream()),o.Rect=a,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=Ut(o);s.push({key:"AP",value:"<</N "+u+">>"}),e.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var c="";for(var l in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(l)){var h=o.appearanceStreamContent[l];if(c+="/"+l+" ",c+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var i in h)if(h.hasOwnProperty(i)){var f=h[i];"function"==typeof f&&(f=f.call(e,o)),c+="/"+i+" "+f+" ",e.internal.acroformPlugin.xForms.indexOf(f)>=0||e.internal.acroformPlugin.xForms.push(f)}}else"function"==typeof(f=h)&&(f=f.call(e,o)),c+="/"+i+" "+f,e.internal.acroformPlugin.xForms.indexOf(f)>=0||e.internal.acroformPlugin.xForms.push(f);c+=">>"}s.push({key:"AP",value:"<<\n"+c+">>"})}e.internal.putStream({additionalKeyValues:s,objectId:o.objId}),e.internal.out("endobj")}n&&function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var i=n,o=t[n];e.internal.newObjectDeferredBegin(o.objId,!0),"object"===r(o)&&"function"==typeof o.putStream&&o.putStream(),delete t[i]}}(e.internal.acroformPlugin.xForms,e)}(e,t)}),t.internal.acroformPlugin.isInitialized=!0}}(this,t),!(t instanceof Yt))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};St.AcroFormChoiceField=Qt,St.AcroFormListBox=Xt,St.AcroFormComboBox=Jt,St.AcroFormEditBox=Zt,St.AcroFormButton=te,St.AcroFormPushButton=ee,St.AcroFormRadioButton=ne,St.AcroFormCheckBox=ie,St.AcroFormTextField=oe,St.AcroFormPasswordField=se,St.AcroFormAppearance=ae,St.AcroForm={ChoiceField:Qt,ListBox:Xt,ComboBox:Jt,EditBox:Zt,Button:te,PushButton:ee,RadioButton:ne,CheckBox:ie,TextField:oe,PasswordField:se,Appearance:ae};var ce,le,he=Ct.AcroForm={ChoiceField:Qt,ListBox:Xt,ComboBox:Jt,EditBox:Zt,Button:te,PushButton:ee,RadioButton:ne,CheckBox:ie,TextField:oe,PasswordField:se,Appearance:ae};function fe(t){return t.reduce(function(t,e,n){return t[e]=n,t},{})}!function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(t,r){var i,o,s,a,u,c=e;if("RGBA"===(r=r||e)||void 0!==t.data&&t.data instanceof Uint8ClampedArray&&"height"in t&&"width"in t)return"RGBA";if(S(t))for(u in n)for(s=n[u],i=0;i<s.length;i+=1){for(a=!0,o=0;o<s[i].length;o+=1)if(void 0!==s[i][o]&&s[i][o]!==t[o]){a=!1;break}if(!0===a){c=u;break}}else for(u in n)for(s=n[u],i=0;i<s.length;i+=1){for(a=!0,o=0;o<s[i].length;o+=1)if(void 0!==s[i][o]&&s[i][o]!==t.charCodeAt(o)){a=!1;break}if(!0===a){c=u;break}}return c===e&&r!==e&&(c=r),c},o=function t(e){for(var n=this.internal.write,r=this.internal.putStream,i=(0,this.internal.getFilters)();-1!==i.indexOf("FlateEncode");)i.splice(i.indexOf("FlateEncode"),1);e.objectId=this.internal.newObject();var o=[];if(o.push({key:"Type",value:"/XObject"}),o.push({key:"Subtype",value:"/Image"}),o.push({key:"Width",value:e.width}),o.push({key:"Height",value:e.height}),e.colorSpace===v.INDEXED?o.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e.palette.length/3-1)+" "+("sMask"in e&&void 0!==e.sMask?e.objectId+2:e.objectId+1)+" 0 R]"}):(o.push({key:"ColorSpace",value:"/"+e.colorSpace}),e.colorSpace===v.DEVICE_CMYK&&o.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),o.push({key:"BitsPerComponent",value:e.bitsPerComponent}),"decodeParameters"in e&&void 0!==e.decodeParameters&&o.push({key:"DecodeParms",value:"<<"+e.decodeParameters+">>"}),"transparency"in e&&Array.isArray(e.transparency)){for(var s="",a=0,u=e.transparency.length;a<u;a++)s+=e.transparency[a]+" "+e.transparency[a]+" ";o.push({key:"Mask",value:"["+s+"]"})}if(void 0!==e.sMask&&o.push({key:"SMask",value:e.objectId+1+" 0 R"}),r({data:e.data,additionalKeyValues:o,alreadyAppliedFilters:void 0!==e.filter?["/"+e.filter]:void 0,objectId:e.objectId}),n("endobj"),"sMask"in e&&void 0!==e.sMask){var c={width:e.width,height:e.height,colorSpace:"DeviceGray",bitsPerComponent:e.bitsPerComponent,decodeParameters:"/Predictor "+e.predictor+" /Colors 1 /BitsPerComponent "+e.bitsPerComponent+" /Columns "+e.width,data:e.sMask};"filter"in e&&(c.filter=e.filter),t.call(this,c)}if(e.colorSpace===v.INDEXED){var l=this.internal.newObject();r({data:I(new Uint8Array(e.palette)),objectId:l}),n("endobj")}},s=function(){var t=this.internal.collections.addImage_images;for(var e in t)o.call(this,t[e])},a=function(){var t,e=this.internal.collections.addImage_images,n=this.internal.write;for(var r in e)n("/I"+(t=e[r]).index,t.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var t=this.internal.collections.addImage_images;return u.call(this),t},l=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(e){return"function"==typeof t["process"+e.toUpperCase()]},f=function(t){return"object"===r(t)&&1===t.nodeType},d=function(e,n){if("IMG"===e.nodeName&&e.hasAttribute("src")){var r=""+e.getAttribute("src");if(0===r.indexOf("data:image/"))return Y(unescape(r).split("base64,").pop());var i=t.loadFile(r,!0);if(void 0!==i)return i}if("CANVAS"===e.nodeName){if(0===e.width||0===e.height)throw new Error("Given canvas must have data. Canvas width: "+e.width+", height: "+e.height);var o;switch(n){case"PNG":o="image/png";break;case"WEBP":o="image/webp";break;case"JPEG":case"JPG":default:o="image/jpeg"}return Y(e.toDataURL(o,1).split("base64,").pop())}},p=function(t){var e=this.internal.collections.addImage_images;if(e)for(var n in e)if(t===e[n].alias)return e[n]},g=function(t,e,n){return t||e||(t=-96,e=-96),t<0&&(t=-1*n.width*72/t/this.internal.scaleFactor),e<0&&(e=-1*n.height*72/e/this.internal.scaleFactor),0===t&&(t=e*n.width/n.height),0===e&&(e=t*n.height/n.width),[t,e]},m=function(t,e,n,r,i,o){var s=g.call(this,n,r,i),a=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,l=c.call(this);if(n=s[0],r=s[1],l[i.index]=i,o){o*=Math.PI/180;var h=Math.cos(o),f=Math.sin(o),d=function(t){return t.toFixed(4)},p=[d(h),d(f),d(-1*f),d(h),0,0,"cm"]}this.internal.write("q"),o?(this.internal.write([1,"0","0",1,a(t),u(e+r),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([a(n),"0","0",a(r),"0","0","cm"].join(" "))):this.internal.write([a(n),"0","0",a(r),a(t),u(e+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(t){var e,n,r=0;if("string"==typeof t)for(n=t.length,e=0;e<n;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;else if(S(t))for(n=t.byteLength/2,e=0;e<n;e++)r=(r<<5)-r+t[e],r|=0;return r},_=t.__addimage__.validateStringAsBase64=function(t){(t=t||"").toString().trim();var e=!0;return 0===t.length&&(e=!1),t.length%4!=0&&(e=!1),!1===/^[A-Za-z0-9+/]+$/.test(t.substr(0,t.length-2))&&(e=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t.substr(-2))&&(e=!1),e},w=t.__addimage__.extractImageFromDataUrl=function(t){var e=(t=t||"").split("base64,"),n=null;if(2===e.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(e[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:e[1]})}return n},C=t.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};t.__addimage__.isArrayBuffer=function(t){return C()&&t instanceof ArrayBuffer};var S=t.__addimage__.isArrayBufferView=function(t){return C()&&"undefined"!=typeof Uint32Array&&(t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)},x=t.__addimage__.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n},I=t.__addimage__.arrayBufferToBinaryString=function(t){for(var e="",n=S(t)?t:new Uint8Array(t),r=0;r<n.length;r+=8192)e+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return e};t.addImage=function(){var t,n,i,o,s,a,c,l,h;if("number"==typeof arguments[1]?(n=e,i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],c=arguments[5],l=arguments[6],h=arguments[7]):(n=arguments[1],i=arguments[2],o=arguments[3],s=arguments[4],a=arguments[5],c=arguments[6],l=arguments[7],h=arguments[8]),"object"===r(t=arguments[0])&&!f(t)&&"imageData"in t){var d=t;t=d.imageData,n=d.format||n||e,i=d.x||i||0,o=d.y||o||0,s=d.w||d.width||s,a=d.h||d.height||a,c=d.alias||c,l=d.compression||l,h=d.rotation||d.angle||h}var p=this.internal.getFilters();if(void 0===l&&-1!==p.indexOf("FlateEncode")&&(l="SLOW"),isNaN(i)||isNaN(o))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var g=A.call(this,t,n,c,l);return m.call(this,i,o,s,a,g,h),this};var A=function(n,r,o,s){var a,u,c;if("string"==typeof n&&i(n)===e){n=unescape(n);var g=k(n,!1);(""!==g||void 0!==(g=t.loadFile(n,!0)))&&(n=g)}if(f(n)&&(n=d(n,r)),r=i(n,r),!h(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=o)||0===c.length)&&(o=function(t){return"string"==typeof t||S(t)?b(t):S(t.data)?b(t.data):null}(n)),(a=p.call(this,o))||(C()&&(n instanceof Uint8Array||"RGBA"===r||(u=n,n=x(n))),a=this["process"+r.toUpperCase()](n,l.call(this),o,function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:y.NONE}(s),u)),!a)throw new Error("An unknown error occurred whilst processing the image.");return a},k=t.__addimage__.convertBase64ToBinaryString=function(t,e){var n;e="boolean"!=typeof e||e;var r,i="";if("string"==typeof t){r=null!==(n=w(t))?n.data:t;try{i=Y(r)}catch(t){if(e)throw _(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+t.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};t.getImageProperties=function(n){var r,o,s="";if(f(n)&&(n=d(n)),"string"==typeof n&&i(n)===e&&(""===(s=k(n,!1))&&(s=t.loadFile(n)||""),n=s),o=i(n),!h(o))throw new Error("addImage does not support files of type '"+o+"', please ensure that a plugin for '"+o+"' support is added.");if(!C()||n instanceof Uint8Array||(n=x(n)),!(r=this["process"+o.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=o,r}}(Ct.API),ce=Ct.API,le=function(t){if(void 0!==t&&""!=t)return!0},Ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),ce.events.push(["putPage",function(t){for(var e,n,r,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,s=this.internal.getPageInfoByObjId(t.objId),a=t.pageContext.annotations,u=!1,c=0;c<a.length&&!u;c++)switch((e=a[c]).type){case"link":(le(e.options.url)||le(e.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var l=0;l<a.length;l++){e=a[l];var h=this.internal.pdfEscape,f=this.internal.getEncryptor(t.objId);switch(e.type){case"reference":this.internal.write(" "+e.object.objId+" 0 R ");break;case"text":var d=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(d.objId),m=e.title||"Note";r="<</Type /Annot /Subtype /Text "+(n="/Rect ["+i(e.bounds.x)+" "+o(e.bounds.y+e.bounds.h)+" "+i(e.bounds.x+e.bounds.w)+" "+o(e.bounds.y)+"] ")+"/Contents ("+h(g(e.contents))+")",r+=" /Popup "+p.objId+" 0 R",r+=" /P "+s.objId+" 0 R",r+=" /T ("+h(g(m))+") >>",d.content=r;var v=d.objId+" 0 R";r="<</Type /Annot /Subtype /Popup "+(n="/Rect ["+i(e.bounds.x+30)+" "+o(e.bounds.y+e.bounds.h)+" "+i(e.bounds.x+e.bounds.w+30)+" "+o(e.bounds.y)+"] ")+" /Parent "+v,e.open&&(r+=" /Open true"),p.content=r+=" >>",this.internal.write(d.objId,"0 R",p.objId,"0 R");break;case"freetext":n="/Rect ["+i(e.bounds.x)+" "+o(e.bounds.y)+" "+i(e.bounds.x+e.bounds.w)+" "+o(e.bounds.y+e.bounds.h)+"] ";var y=e.color||"#000000";r="<</Type /Annot /Subtype /FreeText "+n+"/Contents ("+h(f(e.contents))+")",r+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",r+=" /Border [0 0 0]",this.internal.write(r+=" >>");break;case"link":if(e.options.name){var b=this.annotations._nameMap[e.options.name];e.options.pageNumber=b.page,e.options.top=b.y}else e.options.top||(e.options.top=0);if(n="/Rect ["+e.finalBounds.x+" "+e.finalBounds.y+" "+e.finalBounds.w+" "+e.finalBounds.h+"] ",r="",e.options.url)r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /A <</S /URI /URI ("+h(f(e.options.url))+") >>";else if(e.options.pageNumber)switch(r="<</Type /Annot /Subtype /Link "+n+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(e.options.pageNumber).objId+" 0 R",e.options.magFactor=e.options.magFactor||"XYZ",e.options.magFactor){case"Fit":r+=" /Fit]";break;case"FitH":r+=" /FitH "+e.options.top+"]";break;case"FitV":e.options.left=e.options.left||0,r+=" /FitV "+e.options.left+"]";break;case"XYZ":default:var _=o(e.options.top);e.options.left=e.options.left||0,void 0===e.options.zoom&&(e.options.zoom=0),r+=" /XYZ "+e.options.left+" "+_+" "+e.options.zoom+"]"}""!=r&&this.internal.write(r+=" >>")}}this.internal.write("]")}}]),ce.createAnnotation=function(t){var e=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":e.pageContext.annotations.push(t)}},ce.link=function(t,e,n,r,i){var o=this.internal.getCurrentPageInfo(),s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:s(t),y:a(e),w:s(t+n),h:a(e+r)},options:i,type:"link"})},ce.textWithLink=function(t,e,n,r){var i,o,s=this.getTextWidth(t),a=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){var u=this.splitTextToSize(t,o=r.maxWidth).length;i=Math.ceil(a*u)}else o=s,i=a;return this.text(t,e,n,r),"center"===r.align&&(e-=s/2),"right"===r.align&&(e-=s),this.link(e,(n+=.2*a)-a,o,i,r),s},ce.getTextWidth=function(t){var e=this.internal.getFontSize();return this.getStringUnitWidth(t)*e/this.internal.scaleFactor},function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(t){return void 0!==e[t.charCodeAt(0)]},s=t.__arabicParser__.isArabicLetter=function(t){return"string"==typeof t&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t)},a=t.__arabicParser__.isArabicEndLetter=function(t){return s(t)&&o(t)&&e[t.charCodeAt(0)].length<=2},u=t.__arabicParser__.isArabicAlfLetter=function(t){return s(t)&&i.indexOf(t.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(t){return s(t)&&o(t)&&e[t.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(t){return s(t)&&o(t)&&e[t.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(t){return s(t)&&o(t)&&e[t.charCodeAt(0)].length>=3};var l=t.__arabicParser__.arabicLetterHasMedialForm=function(t){return s(t)&&o(t)&&4==e[t.charCodeAt(0)].length},h=t.__arabicParser__.resolveLigatures=function(t){var e=0,r=n,i="",o=0;for(e=0;e<t.length;e+=1)void 0!==r[t.charCodeAt(e)]?(o++,"number"==typeof(r=r[t.charCodeAt(e)])&&(i+=String.fromCharCode(r),r=n,o=0),e===t.length-1&&(r=n,i+=t.charAt(e-(o-1)),e-=o-1,o=0)):(r=n,i+=t.charAt(e-o),e-=o,o=0);return i};t.__arabicParser__.isArabicDiacritic=function(t){return void 0!==t&&void 0!==r[t.charCodeAt(0)]};var f=t.__arabicParser__.getCorrectForm=function(t,e,n){return s(t)?!1===o(t)?-1:!c(t)||!s(e)&&!s(n)||!s(n)&&a(e)||a(t)&&!s(e)||a(t)&&u(e)||a(t)&&a(e)?0:l(t)&&s(e)&&!a(e)&&s(n)&&c(n)?3:a(t)||!s(n)?1:2:-1},d=function(t){var n=0,r=0,i=0,o="",a="",u="",c=(t=t||"").split("\\s+"),l=[];for(n=0;n<c.length;n+=1){for(l.push(""),r=0;r<c[n].length;r+=1)a=c[n][r-1],u=c[n][r+1],s(o=c[n][r])?(i=f(o,a,u),l[n]+=-1!==i?String.fromCharCode(e[o.charCodeAt(0)][i]):o):l[n]+=o;l[n]=h(l[n])}return l.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var t,e="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(e)){var r=0;for(n=[],r=0;r<e.length;r+=1)Array.isArray(e[r])?n.push([d(e[r][0]),e[r][1],e[r][2]]):n.push([d(e[r])]);t=n}else t=d(e);return"string"==typeof arguments[0]?t:(arguments[0].text=t,arguments[0])};t.events.push(["preProcessText",p])}(Ct.API),Ct.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(e){t=e}});var e=150;Object.defineProperty(this,"width",{get:function(){return e},set:function(t){e=isNaN(t)||!1===Number.isInteger(t)||t<0?150:t,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(t){n=isNaN(t)||!1===Number.isInteger(t)||t<0?300:t,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(t){r=t}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(t){i=t}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,e){var n;if("2d"!==(t=t||"2d"))return null;for(n in e)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=e[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),o.call(this))},o=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var t=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var e=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(t){n=t}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(t){r=t}});var i=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i},set:function(t){i=t}});var o=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return o},set:function(t){o=t}});var s=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return s},set:function(t){s=t}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(t){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof t?t:void 0,this},t.getTextDimensions=function(t,e){i.call(this);var n=(e=e||{}).fontSize||this.getFontSize(),r=e.font||this.getFont(),o=e.scaleFactor||this.internal.scaleFactor,s=0,a=0,u=0,c=this;if(!Array.isArray(t)&&"string"!=typeof t){if("number"!=typeof t)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");t=String(t)}var l=e.maxWidth;l>0?"string"==typeof t?t=this.splitTextToSize(t,l):"[object Array]"===Object.prototype.toString.call(t)&&(t=t.reduce(function(t,e){return t.concat(c.splitTextToSize(e,l))},[])):t=Array.isArray(t)?t:[t];for(var h=0;h<t.length;h++)s<(u=this.getStringUnitWidth(t[h],{font:r})*n)&&(s=u);return 0!==s&&(a=t.length),{w:s/=o,h:Math.max((a*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/o,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var t=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(t.left,t.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var t;t=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var r=this.internal.__cell__.lastCell,o=this.internal.__cell__.padding,a=this.internal.__cell__.margins||e,u=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==r.lineNumber&&(r.lineNumber===t.lineNumber?(t.x=(r.x||0)+(r.width||0),t.y=r.y||0):r.y+r.height+t.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),t.y=a.top,c&&u&&(this.printHeaderRow(t.lineNumber,!0),t.y+=u[0].height)):t.y=r.y+r.height||t.y),void 0!==t.text[0]&&(this.rect(t.x,t.y,t.width,t.height,!0===n?"FD":void 0),"right"===t.align?this.text(t.text,t.x+t.width-o,t.y+o,{align:"right",baseline:"top"}):"center"===t.align?this.text(t.text,t.x+t.width/2,t.y+o,{align:"center",baseline:"top",maxWidth:t.width-o-o}):this.text(t.text,t.x+o,t.y+o,{align:"left",baseline:"top",maxWidth:t.width-o-o})),this.internal.__cell__.lastCell=t,this};t.table=function(t,n,c,l,h){if(i.call(this),!c)throw new Error("No data for PDF table.");var f,d,p,g,m=[],v=[],y=[],b={},_={},w=[],C=[],S=(h=h||{}).autoSize||!1,x=!1!==h.printHeaders,I=h.css&&void 0!==h.css["font-size"]?16*h.css["font-size"]:h.fontSize||12,A=h.margins||Object.assign({width:this.getPageWidth()},e),k="number"==typeof h.padding?h.padding:3,E=h.headerBackgroundColor||"#c8c8c8",T=h.headerTextColor||"#000";if(o.call(this),this.internal.__cell__.printHeaders=x,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=E,this.internal.__cell__.headerTextColor=T,this.setFontSize(I),null==l)v=m=Object.keys(c[0]),y=m.map(function(){return"left"});else if(Array.isArray(l)&&"object"===r(l[0]))for(m=l.map(function(t){return t.name}),v=l.map(function(t){return t.prompt||t.name||""}),y=l.map(function(t){return t.align||"left"}),f=0;f<l.length;f+=1)_[l[f].name]=l[f].width*(19.049976/25.4);else Array.isArray(l)&&"string"==typeof l[0]&&(v=m=l,y=m.map(function(){return"left"}));if(S||Array.isArray(l)&&"string"==typeof l[0])for(f=0;f<m.length;f+=1){for(b[g=m[f]]=c.map(function(t){return t[g]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(v[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d=b[g],this.setFont(void 0,"normal"),p=0;p<d.length;p+=1)w.push(this.getTextDimensions(d[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[g]=Math.max.apply(null,w)+k+k,w=[]}if(x){var P={};for(f=0;f<m.length;f+=1)P[m[f]]={},P[m[f]].text=v[f],P[m[f]].align=y[f];var N=u.call(this,P,_);C=m.map(function(e){return new s(t,n,_[e],N,P[e].text,void 0,P[e].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var O=l.reduce(function(t,e){return t[e.name]=e.align,t},{});for(f=0;f<c.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:c[f]},this);var L=u.call(this,c[f],_);for(p=0;p<m.length;p+=1){var D=c[f][m[p]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:p,data:D},this),a.call(this,new s(t,n,_[m[p]],L,D,f+2,O[m[p]]))}}return this.internal.__cell__.table_x=t,this.internal.__cell__.table_y=n,this};var u=function(t,e){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,i=this.internal.scaleFactor;return Object.keys(t).map(function(r){var i=t[r];return this.splitTextToSize(i.hasOwnProperty("text")?i.text:i,e[r]-n-n)},this).map(function(t){return this.getLineHeightFactor()*t.length*r/i+n+n},this).reduce(function(t,e){return Math.max(t,e)},0)};t.setTableHeaderRow=function(t){i.call(this),this.internal.__cell__.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var r;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var u=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){r=this.internal.__cell__.tableHeaderRow[c].clone(),e&&(r.y=this.internal.__cell__.margins.top||0,u.push(r)),r.lineNumber=t;var l=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,r),this.setTextColor(l)}u.length>0&&this.setTableHeaderRow(u),this.setFont(void 0,"normal"),n=!1}}(Ct.API);var de={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},pe=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ge=fe(pe),me=[100,200,300,400,500,600,700,800,900],ve=fe(me);function ye(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(t){return de[t=t||"normal"]?t:"normal"}(t.style),r=function(t){if(!t)return 400;if("number"==typeof t)return t>=100&&t<=900&&t%100==0?t:400;if(/^\d00$/.test(t))return parseInt(t);switch(t){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(t){return"number"==typeof ge[t=t||"normal"]?t:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function be(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var _e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},we={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ce(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Se(t){return t.trimLeft()}function xe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Ie(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e?null:[e[0],t.substring(e[0].length)]}var Ae,ke,Ee,Te=["times"];!function(t){var e,n,i,o,s,a,u,c,l,h=function(t){return this.isStrokeTransparent=(t=t||{}).isStrokeTransparent||!1,this.strokeOpacity=t.strokeOpacity||1,this.strokeStyle=t.strokeStyle||"#000000",this.fillStyle=t.fillStyle||"#000000",this.isFillTransparent=t.isFillTransparent||!1,this.fillOpacity=t.fillOpacity||1,this.font=t.font||"10px sans-serif",this.textBaseline=t.textBaseline||"alphabetic",this.textAlign=t.textAlign||"left",this.lineWidth=t.lineWidth||1,this.lineJoin=t.lineJoin||"miter",this.lineCap=t.lineCap||"butt",this.path=t.path||[],this.transform=void 0!==t.transform?t.transform.clone():new c,this.globalCompositeOperation=t.globalCompositeOperation||"normal",this.globalAlpha=t.globalAlpha||1,this.clip_path=t.clip_path||[],this.currentPoint=t.currentPoint||new a,this.miterLimit=t.miterLimit||10,this.lastPoint=t.lastPoint||new a,this.lineDashOffset=t.lineDashOffset||0,this.lineDash=t.lineDash||[],this.margin=t.margin||[0,0,0,0],this.prevPageLastElemOffset=t.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof t.ignoreClearRect||t.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,l=new h}]);var f=function(t){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var e=t;Object.defineProperty(this,"pdf",{get:function(){return e}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(t){n=Boolean(t)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(t){r=Boolean(t)}});var i=0;Object.defineProperty(this,"posX",{get:function(){return i},set:function(t){isNaN(t)||(i=t)}});var o=0;Object.defineProperty(this,"posY",{get:function(){return o},set:function(t){isNaN(t)||(o=t)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(t){var e;"number"==typeof t?e=[t,t,t,t]:((e=new Array(4))[0]=t[0],e[1]=t.length>=2?t[1]:e[0],e[2]=t.length>=3?t[2]:e[0],e[3]=t.length>=4?t[3]:e[1]),l.margin=e}});var s=!1;Object.defineProperty(this,"autoPaging",{get:function(){return s},set:function(t){s=t}});var a=0;Object.defineProperty(this,"lastBreak",{get:function(){return a},set:function(t){a=t}});var u=[];Object.defineProperty(this,"pageBreaks",{get:function(){return u},set:function(t){u=t}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(t){t instanceof h&&(l=t)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(t){l.path=t}});var c=[];Object.defineProperty(this,"ctxStack",{get:function(){return c},set:function(t){c=t}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t){var e;e=d(t),this.ctx.fillStyle=e.style,this.ctx.isFillTransparent=0===e.a,this.ctx.fillOpacity=e.a,this.pdf.setFillColor(e.r,e.g,e.b,{a:e.a}),this.pdf.setTextColor(e.r,e.g,e.b,{a:e.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t){var e=d(t);this.ctx.strokeStyle=e.style,this.ctx.isStrokeTransparent=0===e.a,this.ctx.strokeOpacity=e.a,0===e.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(e.r,e.g,e.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t){-1!==["butt","round","square"].indexOf(t)&&(this.ctx.lineCap=t,this.pdf.setLineCap(t))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t){isNaN(t)||(this.ctx.lineWidth=t,this.pdf.setLineWidth(t))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t){-1!==["bevel","round","miter"].indexOf(t)&&(this.ctx.lineJoin=t,this.pdf.setLineJoin(t))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t){isNaN(t)||(this.ctx.miterLimit=t,this.pdf.setMiterLimit(t))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t){this.ctx.textBaseline=t}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t){-1!==["right","end","center","left","start"].indexOf(t)&&(this.ctx.textAlign=t)}});var f=null;function p(t,e){if(null===f){var n=function(t){var e=[];return Object.keys(t).forEach(function(n){t[n].forEach(function(t){var r=null;switch(t){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:t},e.push(r))})}),e}(t.getFontList());f=function(t){for(var e={},n=0;n<t.length;++n){var r=ye(t[n]),i=r.family,o=r.stretch,s=r.style,a=r.weight;e[i]=e[i]||{},e[i][o]=e[i][o]||{},e[i][o][s]=e[i][o][s]||{},e[i][o][s][a]=r}return e}(n.concat(e))}return f}var g=null;Object.defineProperty(this,"fontFaces",{get:function(){return g},set:function(t){f=null,g=t}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t){var e;if(this.ctx.font=t,null!==(e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t))){var n=e[1],r=e[3],i=e[4],o=e[6],s=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i)[2];i="px"===s?Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor):"em"===s?Math.floor(parseFloat(i)*this.pdf.getFontSize()):Math.floor(parseFloat(i)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i);var a=function(t){var e,n,r=[],i=t.trim();if(""===i)return Te;if(i in we)return[we[i]];for(;""!==i;){switch(n=null,e=(i=Se(i)).charAt(0)){case'"':case"'":n=xe(i.substring(1),e);break;default:n=Ie(i)}if(null===n)return Te;if(r.push(n[0]),""!==(i=Se(n[1]))&&","!==i.charAt(0))return Te;i=i.replace(/^,/,"")}return r}(o);if(this.fontFaces){var u=function(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},_e,n.genericFontFamilies||{}),o=null,s=null,a=0;a<e.length;++a)if(i[(o=ye(e[a])).family]&&(o.family=i[o.family]),t.hasOwnProperty(o.family)){s=t[o.family];break}if(!(s=s||t[r]))throw new Error("Could not find a font-family for the rule '"+Ce(o)+"' and default family '"+r+"'.");if(s=function(t,e){if(e[t])return e[t];var n=ge[t],r=be(e,pe,n,n<=ge.normal?-1:1);if(!r)throw new Error("Could not find a matching font-stretch value for "+t);return r}(o.stretch,s),s=function(t,e){if(e[t])return e[t];for(var n=de[t],r=0;r<n.length;++r)if(e[n[r]])return e[n[r]];throw new Error("Could not find a matching font-style for "+t)}(o.style,s),!(s=function(t,e){if(e[t])return e[t];if(400===t&&e[500])return e[500];if(500===t&&e[400])return e[400];var n=be(e,me,ve[t],t<400?-1:1);if(!n)throw new Error("Could not find a matching font-weight for value "+t);return n}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Ce(o)+"'.");return s}(p(this.pdf,this.fontFaces),a.map(function(t){return{family:t,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(u.ref.name,u.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var l="",h={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},f=0;f<a.length;f++){if(void 0!==this.pdf.internal.getFont(a[f],c,{noFallback:!0,disableWarning:!0})){l=a[f];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(a[f],"bold",{noFallback:!0,disableWarning:!0}))l=a[f],c="bold";else if(void 0!==this.pdf.internal.getFont(a[f],"normal",{noFallback:!0,disableWarning:!0})){l=a[f],c="normal";break}}if(""===l)for(var d=0;d<a.length;d++)if(h[a[d]]){l=h[a[d]];break}this.pdf.setFont(l=""===l?"Times":l,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t){this.ctx.globalCompositeOperation=t}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t){this.ctx.globalAlpha=t}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(t){this.ctx.lineDashOffset=t,j.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(t){this.ctx.lineDash=t,j.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t){this.ctx.ignoreClearRect=Boolean(t)}})};f.prototype.setLineDash=function(t){this.lineDash=t},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){w.call(this,"fill",!1)},f.prototype.stroke=function(){w.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(t,e){if(isNaN(t)||isNaN(e))throw W.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(t,e)},f.prototype.closePath=function(){var t=new a(0,0),e=0;for(e=this.path.length-1;-1!==e;e--)if("begin"===this.path[e].type&&"object"===r(this.path[e+1])&&"number"==typeof this.path[e+1].x){t=new a(this.path[e+1].x,this.path[e+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(t.x,t.y)},f.prototype.lineTo=function(t,e){if(isNaN(t)||isNaN(e))throw W.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new a(n.x,n.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},f.prototype.quadraticCurveTo=function(t,e,n,r){if(isNaN(n)||isNaN(r)||isNaN(t)||isNaN(e))throw W.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i=this.ctx.transform.applyToPoint(new a(n,r)),o=this.ctx.transform.applyToPoint(new a(t,e));this.path.push({type:"qct",x1:o.x,y1:o.y,x:i.x,y:i.y}),this.ctx.lastPoint=new a(i.x,i.y)},f.prototype.bezierCurveTo=function(t,e,n,r,i,o){if(isNaN(i)||isNaN(o)||isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw W.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s=this.ctx.transform.applyToPoint(new a(i,o)),u=this.ctx.transform.applyToPoint(new a(t,e)),c=this.ctx.transform.applyToPoint(new a(n,r));this.path.push({type:"bct",x1:u.x,y1:u.y,x2:c.x,y2:c.y,x:s.x,y:s.y}),this.ctx.lastPoint=new a(s.x,s.y)},f.prototype.arc=function(t,e,n,r,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i))throw W.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o=Boolean(o),!this.ctx.transform.isIdentity){var s=this.ctx.transform.applyToPoint(new a(t,e));t=s.x,e=s.y;var u=this.ctx.transform.applyToPoint(new a(0,n)),c=this.ctx.transform.applyToPoint(new a(0,0));n=Math.sqrt(Math.pow(u.x-c.x,2)+Math.pow(u.y-c.y,2))}Math.abs(i-r)>=2*Math.PI&&(r=0,i=2*Math.PI),this.path.push({type:"arc",x:t,y:e,radius:n,startAngle:r,endAngle:i,counterclockwise:o})},f.prototype.arcTo=function(t,e,n,r,i){throw new Error("arcTo not implemented.")},f.prototype.rect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw W.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+r),this.lineTo(t,e+r),this.lineTo(t,e),this.lineTo(t+n,e),this.lineTo(t,e)},f.prototype.fillRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw W.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var i={};"butt"!==this.lineCap&&(i.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t,e,n,r),this.fill(),i.hasOwnProperty("lineCap")&&(this.lineCap=i.lineCap),i.hasOwnProperty("lineJoin")&&(this.lineJoin=i.lineJoin)}},f.prototype.strokeRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw W.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(t,e,n,r),this.stroke())},f.prototype.clearRect=function(t,e,n,r){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r))throw W.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t,e,n,r))},f.prototype.save=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(e),t){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},f.prototype.restore=function(t){t="boolean"!=typeof t||t;for(var e=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(e),t&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(t){var e,n,r,i;if(!0===t.isCanvasGradient&&(t=t.getColor()),!t)return{r:0,g:0,b:0,a:0,style:t};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t))e=0,n=0,r=0,i=0;else{var o=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t);if(null!==o)e=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=1;else if(null!==(o=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t)))e=parseInt(o[1]),n=parseInt(o[2]),r=parseInt(o[3]),i=parseFloat(o[4]);else{if(i=1,"string"==typeof t&&"#"!==t.charAt(0)){var s=new J(t);t=s.ok?s.toHex():"#000000"}4===t.length?(e=t.substring(1,2),e+=e,n=t.substring(2,3),n+=n,r=t.substring(3,4),r+=r):(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7)),e=parseInt(e,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:e,g:n,b:r,a:i,style:t}},p=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},g=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};f.prototype.fillText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw W.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!p.call(this)){var i=M(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;T.call(this,{text:t,x:e,y:n,scale:o,angle:i,align:this.textAlign,maxWidth:r})}},f.prototype.strokeText=function(t,e,n,r){if(isNaN(e)||isNaN(n)||"string"!=typeof t)throw W.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){r=isNaN(r)?void 0:r;var i=M(this.ctx.transform.rotation),o=this.ctx.transform.scaleX;T.call(this,{text:t,x:e,y:n,scale:o,renderingMode:"stroke",angle:i,align:this.textAlign,maxWidth:r})}},f.prototype.measureText=function(t){if("string"!=typeof t)throw W.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e=this.pdf,n=this.pdf.internal.scaleFactor,r=e.internal.getFontSize(),i=e.getStringUnitWidth(t)*r/e.internal.scaleFactor,o=function(t){var e=(t=t||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e}}),this};return new o({width:i*=Math.round(96*n/72*1e4)/1e4})},f.prototype.scale=function(t,e){if(isNaN(t)||isNaN(e))throw W.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new c(t,0,0,e,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},f.prototype.rotate=function(t){if(isNaN(t))throw W.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e=new c(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0);this.ctx.transform=this.ctx.transform.multiply(e)},f.prototype.translate=function(t,e){if(isNaN(t)||isNaN(e))throw W.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new c(1,0,0,1,t,e);this.ctx.transform=this.ctx.transform.multiply(n)},f.prototype.transform=function(t,e,n,r,i,o){if(isNaN(t)||isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)||isNaN(o))throw W.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s=new c(t,e,n,r,i,o);this.ctx.transform=this.ctx.transform.multiply(s)},f.prototype.setTransform=function(t,e,n,r,i,o){t=isNaN(t)?1:t,e=isNaN(e)?0:e,n=isNaN(n)?0:n,r=isNaN(r)?1:r,i=isNaN(i)?0:i,o=isNaN(o)?0:o,this.ctx.transform=new c(t,e,n,r,i,o)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(t,e,n,r,i,o,s,a,l){var h=this.pdf.getImageProperties(t),f=1,d=1,p=1,g=1;void 0!==r&&void 0!==a&&(p=a/r,g=l/i,f=h.width/r*a/r,d=h.height/i*l/i),void 0===o&&(o=e,s=n,e=0,n=0),void 0!==r&&void 0===a&&(a=r,l=i),void 0===r&&void 0===a&&(a=h.width,l=h.height);for(var y,w=this.ctx.transform.decompose(),S=M(w.rotate.shx),x=new c,I=(x=(x=(x=x.multiply(w.translate)).multiply(w.skew)).multiply(w.scale)).applyToRectangle(new u(o-e*p,s-n*g,r*f,i*d)),A=v.call(this,I),k=[],E=0;E<A.length;E+=1)-1===k.indexOf(A[E])&&k.push(A[E]);if(_(k),this.autoPaging)for(var T=k[0],P=k[k.length-1],N=T;N<P+1;N++){this.pdf.setPage(N);var O=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],L=1===N?this.posY+this.margin[0]:this.margin[0],D=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],R=1===N?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(N-2)*D;if(0!==this.ctx.clip_path.length){var F=this.path;y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(y,this.posX+this.margin[3],-R+L+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=F}var j=JSON.parse(JSON.stringify(I));j=b([j],this.posX+this.margin[3],-R+L+this.ctx.prevPageLastElemOffset)[0];var U=(N>T||N<P)&&m.call(this);U&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],O,D,null).clip().discardPath()),this.pdf.addImage(t,"JPEG",j.x,j.y,j.w,j.h,null,null,S),U&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(t,"JPEG",I.x,I.y,I.w,I.h,null,null,S)};var v=function(t,e,n){var r=[];e=e||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i=this.posY+this.ctx.prevPageLastElemOffset;switch(t.type){default:case"mt":case"lt":r.push(Math.floor((t.y+i)/n)+1);break;case"arc":r.push(Math.floor((t.y+i-t.radius)/n)+1),r.push(Math.floor((t.y+i+t.radius)/n)+1);break;case"qct":var o=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x,t.y);r.push(Math.floor((o.y+i)/n)+1),r.push(Math.floor((o.y+o.h+i)/n)+1);break;case"bct":var s=F(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t.x1,t.y1,t.x2,t.y2,t.x,t.y);r.push(Math.floor((s.y+i)/n)+1),r.push(Math.floor((s.y+s.h+i)/n)+1);break;case"rect":r.push(Math.floor((t.y+i)/n)+1),r.push(Math.floor((t.y+t.h+i)/n)+1)}for(var a=0;a<r.length;a+=1)for(;this.pdf.internal.getNumberOfPages()<r[a];)y.call(this);return r},y=function(){var t=this.fillStyle,e=this.strokeStyle,n=this.font,r=this.lineCap,i=this.lineWidth,o=this.lineJoin;this.pdf.addPage(),this.fillStyle=t,this.strokeStyle=e,this.font=n,this.lineCap=r,this.lineWidth=i,this.lineJoin=o},b=function(t,e,n){for(var r=0;r<t.length;r++)switch(t[r].type){case"bct":t[r].x2+=e,t[r].y2+=n;case"qct":t[r].x1+=e,t[r].y1+=n;case"mt":case"lt":case"arc":default:t[r].x+=e,t[r].y+=n}return t},_=function(t){return t.sort(function(t,e){return t-e})},w=function(t,e){for(var n,r,i=this.fillStyle,o=this.strokeStyle,s=this.lineCap,a=this.lineWidth,u=Math.abs(a*this.ctx.transform.scaleX),c=this.lineJoin,l=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),f=[],d=0;d<h.length;d++)if(void 0!==h[d].x)for(var p=v.call(this,h[d]),g=0;g<p.length;g+=1)-1===f.indexOf(p[g])&&f.push(p[g]);for(var w=0;w<f.length;w++)for(;this.pdf.internal.getNumberOfPages()<f[w];)y.call(this);if(_(f),this.autoPaging)for(var S=f[0],x=f[f.length-1],I=S;I<x+1;I++){this.pdf.setPage(I),this.fillStyle=i,this.strokeStyle=o,this.lineCap=s,this.lineWidth=u,this.lineJoin=c;var A=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],k=1===I?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],T=1===I?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(I-2)*E;if(0!==this.ctx.clip_path.length){var P=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(n,this.posX+this.margin[3],-T+k+this.ctx.prevPageLastElemOffset),C.call(this,t,!0),this.path=P}if(r=JSON.parse(JSON.stringify(l)),this.path=b(r,this.posX+this.margin[3],-T+k+this.ctx.prevPageLastElemOffset),!1===e||0===I){var N=(I>S||I<x)&&m.call(this);N&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],A,E,null).clip().discardPath()),C.call(this,t,e),N&&this.pdf.restoreGraphicsState()}this.lineWidth=a}else this.lineWidth=u,C.call(this,t,e),this.lineWidth=a;this.path=l},C=function(t,e){if(("stroke"!==t||e||!g.call(this))&&("stroke"===t||e||!p.call(this))){for(var n,r,i=[],o=this.path,s=0;s<o.length;s++){var a=o[s];switch(a.type){case"begin":i.push({begin:!0});break;case"close":i.push({close:!0});break;case"mt":i.push({start:a,deltas:[],abs:[]});break;case"lt":var u=i.length;if(o[s-1]&&!isNaN(o[s-1].x)&&(n=[a.x-o[s-1].x,a.y-o[s-1].y],u>0))for(;u>=0;u--)if(!0!==i[u-1].close&&!0!==i[u-1].begin){i[u-1].deltas.push(n),i[u-1].abs.push(a);break}break;case"bct":i[i.length-1].deltas.push(n=[a.x1-o[s-1].x,a.y1-o[s-1].y,a.x2-o[s-1].x,a.y2-o[s-1].y,a.x-o[s-1].x,a.y-o[s-1].y]);break;case"qct":i[i.length-1].deltas.push(n=[o[s-1].x+2/3*(a.x1-o[s-1].x)-o[s-1].x,o[s-1].y+2/3*(a.y1-o[s-1].y)-o[s-1].y,a.x+2/3*(a.x1-a.x)-o[s-1].x,a.y+2/3*(a.y1-a.y)-o[s-1].y,a.x-o[s-1].x,a.y-o[s-1].y]);break;case"arc":i.push({deltas:[],abs:[],arc:!0}),Array.isArray(i[i.length-1].abs)&&i[i.length-1].abs.push(a)}}r=e?null:"stroke"===t?"stroke":"fill";for(var c=!1,l=0;l<i.length;l++)if(i[l].arc)for(var h=i[l].abs,f=0;f<h.length;f++){var d=h[f];"arc"===d.type?I.call(this,d.x,d.y,d.radius,d.startAngle,d.endAngle,d.counterclockwise,void 0,e,!c):P.call(this,d.x,d.y),c=!0}else!0===i[l].close?(this.pdf.internal.out("h"),c=!1):!0!==i[l].begin&&(N.call(this,i[l].deltas,i[l].start.x,i[l].start.y),c=!0);r&&A.call(this,r),e&&k.call(this)}},S=function(t){var e=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=e*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t-n;case"top":return t+e-n;case"hanging":return t+e-2*n;case"middle":return t+e/2-n;case"ideographic":return t;case"alphabetic":default:return t}},x=function(t){return t+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var t=function(){};return t.colorStops=[],t.addColorStop=function(t,e){this.colorStops.push([t,e])},t.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t.isCanvasGradient=!0,t},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(t,e,n,r,i,o,s,a,u){for(var c=L.call(this,n,r,i,o),l=0;l<c.length;l++){var h=c[l];0===l&&(u?E.call(this,h.x1+t,h.y1+e):P.call(this,h.x1+t,h.y1+e)),O.call(this,t,e,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}a?k.call(this):A.call(this,s)},A=function(t){switch(t){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},k=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(t,e){this.pdf.internal.out(n(t)+" "+i(e)+" m")},T=function(t){var e;switch(t.align){case"right":case"end":e="right";break;case"center":e="center";break;case"left":case"start":default:e="left"}var n=this.pdf.getTextDimensions(t.text),r=S.call(this,t.y),i=x.call(this,r)-n.h,o=this.ctx.transform.applyToPoint(new a(t.x,r)),s=this.ctx.transform.decompose(),l=new c;l=(l=(l=l.multiply(s.translate)).multiply(s.skew)).multiply(s.scale);for(var h,f,d,p=this.ctx.transform.applyToRectangle(new u(t.x,r,n.w,n.h)),g=l.applyToRectangle(new u(t.x,i,n.w,n.h)),y=v.call(this,g),w=[],I=0;I<y.length;I+=1)-1===w.indexOf(y[I])&&w.push(y[I]);if(_(w),this.autoPaging)for(var A=w[0],k=w[w.length-1],E=A;E<k+1;E++){this.pdf.setPage(E);var T=1===E?this.posY+this.margin[0]:this.margin[0],P=this.pdf.internal.pageSize.height-this.margin[2],N=P-this.margin[0],O=this.pdf.internal.pageSize.width-this.margin[1],L=O-this.margin[3],D=1===E?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(E-2)*N;if(0!==this.ctx.clip_path.length){var M=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(h,this.posX+this.margin[3],-1*D+T),C.call(this,"fill",!0),this.path=M}var R=b([JSON.parse(JSON.stringify(g))],this.posX+this.margin[3],-D+T+this.ctx.prevPageLastElemOffset)[0];t.scale>=.01&&(f=this.pdf.internal.getFontSize(),this.pdf.setFontSize(f*t.scale),this.lineWidth=(d=this.lineWidth)*t.scale);var F="text"!==this.autoPaging;if(F||R.y+R.h<=P){if(F||R.y>=T&&R.x<=O){var j=F?t.text:this.pdf.splitTextToSize(t.text,t.maxWidth||O-R.x)[0],U=b([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-D+T+this.ctx.prevPageLastElemOffset)[0],q=F&&(E>A||E<k)&&m.call(this);q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,N,null).clip().discardPath()),this.pdf.text(j,U.x,U.y,{angle:t.angle,align:e,renderingMode:t.renderingMode}),q&&this.pdf.restoreGraphicsState()}}else R.y<P&&(this.ctx.prevPageLastElemOffset+=P-R.y);t.scale>=.01&&(this.pdf.setFontSize(f),this.lineWidth=d)}else t.scale>=.01&&(f=this.pdf.internal.getFontSize(),this.pdf.setFontSize(f*t.scale),this.lineWidth=(d=this.lineWidth)*t.scale),this.pdf.text(t.text,o.x+this.posX,o.y+this.posY,{angle:t.angle,align:e,renderingMode:t.renderingMode,maxWidth:t.maxWidth}),t.scale>=.01&&(this.pdf.setFontSize(f),this.lineWidth=d)},P=function(t,e,r,o){o=o||0,this.pdf.internal.out(n(t+(r=r||0))+" "+i(e+o)+" l")},N=function(t,e,n){return this.pdf.lines(t,e,n,null,null)},O=function(t,n,r,i,a,u,c,l){this.pdf.internal.out([e(o(r+t)),e(s(i+n)),e(o(a+t)),e(s(u+n)),e(o(c+t)),e(s(l+n)),"c"].join(" "))},L=function(t,e,n,r){for(var i=2*Math.PI,o=Math.PI/2;e>n;)e-=i;var s=Math.abs(n-e);s<i&&r&&(s=i-s);for(var a=[],u=r?-1:1,c=e;s>1e-5;){var l=c+u*Math.min(s,o);a.push(D.call(this,t,c,l)),s-=Math.abs(l-c),c=l}return a},D=function(t,e,n){var r=(n-e)/2,i=t*Math.cos(r),o=t*Math.sin(r),s=i,a=-o,u=s*s+a*a,c=u+s*i+a*o,l=4/3*(Math.sqrt(2*u*c)-c)/(s*o-a*i),h=s-l*a,f=a+l*s,d=h,p=-f,g=r+e,m=Math.cos(g),v=Math.sin(g);return{x1:t*Math.cos(e),y1:t*Math.sin(e),x2:h*m-f*v,y2:h*v+f*m,x3:d*m-p*v,y3:d*v+p*m,x4:t*Math.cos(n),y4:t*Math.sin(n)}},M=function(t){return 180*t/Math.PI},R=function(t,e,n,r,i,o){var s=t+.5*(n-t),a=e+.5*(r-e),c=i+.5*(n-i),l=o+.5*(r-o),h=Math.min(t,i,s,c),f=Math.max(t,i,s,c),d=Math.min(e,o,a,l),p=Math.max(e,o,a,l);return new u(h,d,f-h,p-d)},F=function(t,e,n,r,i,o,s,a){var c,l,h,f,d,p,g,m,v,y,b,_,w,C,S=n-t,x=r-e,I=i-n,A=o-r,k=s-i,E=a-o;for(l=0;l<41;l++)v=(g=(h=t+(c=l/40)*S)+c*((d=n+c*I)-h))+c*(d+c*(i+c*k-d)-g),y=(m=(f=e+c*x)+c*((p=r+c*A)-f))+c*(p+c*(o+c*E-p)-m),0==l?(b=v,_=y,w=v,C=y):(b=Math.min(b,v),_=Math.min(_,y),w=Math.max(w,v),C=Math.max(C,y));return new u(Math.round(b),Math.round(_),Math.round(w-b),Math.round(C-_))},j=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var t=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==t&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=t)}}}(Ct.API),function(t){var e=function(t){var e,n,r,i,o,s,a,u,c,l;for(/[^\x00-\xFF]/.test(t),n=[],r=0,i=(t+=e="\0\0\0\0".slice(t.length%4||4)).length;i>r;r+=4)0!==(o=(t.charCodeAt(r)<<24)+(t.charCodeAt(r+1)<<16)+(t.charCodeAt(r+2)<<8)+t.charCodeAt(r+3))?(s=(o=((o=((o=((o=(o-(l=o%85))/85)-(c=o%85))/85)-(u=o%85))/85)-(a=o%85))/85)%85,n.push(s+33,a+33,u+33,c+33,l+33)):n.push(122);return function(t,e){for(var n=e;n>0;n--)t.pop()}(n,e.length),String.fromCharCode.apply(String,n)+"~>"},n=function(t){var e,n,r,i,o,s=String,a="length",u=255,c="charCodeAt",l="slice",h="replace";for(t[l](-2),t=t[l](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),r=[],i=0,o=(t+=e="uuuuu"[l](t[a]%5||5))[a];o>i;i+=5)n=52200625*(t[c](i)-33)+614125*(t[c](i+1)-33)+7225*(t[c](i+2)-33)+85*(t[c](i+3)-33)+(t[c](i+4)-33),r.push(u&n>>24,u&n>>16,u&n>>8,u&n);return function(t,e){for(var n=e;n>0;n--)t.pop()}(r,e[a]),s.fromCharCode.apply(s,r)},r=function(t){var e=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t=t.replace(/\s/g,"")).indexOf(">")&&(t=t.substr(0,t.indexOf(">"))),t.length%2&&(t+="0"),!1===e.test(t))return"";for(var n="",r=0;r<t.length;r+=2)n+=String.fromCharCode("0x"+(t[r]+t[r+1]));return n},i=function(t){for(var e=new Uint8Array(t.length),n=t.length;n--;)e[n]=t.charCodeAt(n);return(e=V(e)).reduce(function(t,e){return t+String.fromCharCode(e)},"")};t.processDataByFilters=function(t,o){var s=0,a=t||"",u=[];for("string"==typeof(o=o||[])&&(o=[o]),s=0;s<o.length;s+=1)switch(o[s]){case"ASCII85Decode":case"/ASCII85Decode":a=n(a),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=e(a),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=r(a),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(t){return("0"+t.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=i(a),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[s]+'" is not implemented')}return{data:a,reverseChain:u.reverse().join(" ")}}}(Ct.API),function(t){t.loadFile=function(t,e,n){return function(t,e,n){e=!1!==e,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(t,e,n){var r=new XMLHttpRequest,i=0,o=function(t){var e=t.length,n=[],r=String.fromCharCode;for(i=0;i<e;i+=1)n.push(r(255&t.charCodeAt(i)));return n.join("")};if(r.open("GET",t,!e),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===e&&(r.onload=function(){n(200===r.status?o(this.responseText):void 0)}),r.send(null),e&&200===r.status)return o(r.responseText)}(t,e,n)}catch(t){}return r}(t,e,n)},t.loadImageFile=t.loadFile}(Ct.API),function(t){function e(){return(H.html2canvas?Promise.resolve(H.html2canvas):n.e(213).then(n.t.bind(n,4213,23))).catch(function(t){return Promise.reject(new Error("Could not load html2canvas: "+t))}).then(function(t){return t.default?t.default:t})}function i(){return(H.DOMPurify?Promise.resolve(H.DOMPurify):n.e(33).then(n.t.bind(n,5033,23))).catch(function(t){return Promise.reject(new Error("Could not load dompurify: "+t))}).then(function(t){return t.default?t.default:t})}var o=function(t){var e=r(t);return"undefined"===e?"undefined":"string"===e||t instanceof String?"string":"number"===e||t instanceof Number?"number":"function"===e||t instanceof Function?"function":t&&t.constructor===Array?"array":t&&1===t.nodeType?"element":"object"===e?"object":"unknown"},s=function(t,e){var n=document.createElement(t);for(var r in e.className&&(n.className=e.className),e.innerHTML&&e.dompurify&&(n.innerHTML=e.dompurify.sanitize(e.innerHTML)),e.style)n.style[r]=e.style[r];return n},a=function t(e){var n=Object.assign(t.convert(Promise.resolve()),JSON.parse(JSON.stringify(t.template))),r=t.convert(Promise.resolve(),n);return(r=r.setProgress(1,t,1,[t])).set(e)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(t,e){return t.__proto__=e||a.prototype,t},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(t,e){return this.then(function(){switch(e=e||function(t){switch(o(t)){case"string":return"string";case"element":return"canvas"===t.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(t)){case"string":return this.then(i).then(function(e){return this.set({src:s("div",{innerHTML:t,dompurify:e})})});case"element":return this.set({src:t});case"canvas":return this.set({canvas:t});case"img":return this.set({img:t});default:return this.error("Unknown source type.")}})},a.prototype.to=function(t){switch(t){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},e=function t(e,n){for(var r=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;i=i.nextSibling)!0!==n&&1===i.nodeType&&"SCRIPT"===i.nodeName||r.appendChild(t(i,n));return 1===e.nodeType&&("CANVAS"===e.nodeName?(r.width=e.width,r.height=e.height,r.getContext("2d").drawImage(e,0,0)):"TEXTAREA"!==e.nodeName&&"SELECT"!==e.nodeName||(r.value=e.value),r.addEventListener("load",function(){r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e.tagName&&(t.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:t}),this.prop.container.appendChild(e),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(t){var e=Object.assign({},this.opt.html2canvas);return delete e.onrendered,t(this.prop.container,e)}).then(function(t){(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(e).then(function(t){var e=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i.onrendered,e.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,e.context2d.posX=this.opt.x,e.context2d.posY=this.opt.y,e.context2d.margin=this.opt.margin,e.context2d.fontFaces=n,n)for(var o=0;o<n.length;++o){var s=n[o],a=s.src.find(function(t){return"truetype"===t.format});a&&e.addFont(a.url,s.ref.name,s.ref.style)}return i.windowHeight=i.windowHeight||0,i.windowHeight=0==i.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i.windowHeight,e.context2d.save(!0),t(this.prop.container,i)}).then(function(t){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(t),this.prop.canvas=t,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(t,e,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(t,e):this.outputPdf(t,e)},a.prototype.outputPdf=function(t,e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t,e)})},a.prototype.outputImg=function(t){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t+'" is not supported.'}})},a.prototype.save=function(t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t?{filename:t}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(t){if("object"!==o(t))return this;var e=Object.keys(t||{}).map(function(e){if(e in a.template.prop)return function(){this.prop[e]=t[e]};switch(e){case"margin":return this.setMargin.bind(this,t.margin);case"jsPDF":return function(){return this.opt.jsPDF=t.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t.pageSize);default:return function(){this.opt[e]=t[e]}}},this);return this.then(function(){return this.thenList(e)})},a.prototype.get=function(t,e){return this.then(function(){var n=t in a.template.prop?this.prop[t]:this.opt[t];return e?e(n):n})},a.prototype.setMargin=function(t){return this.then(function(){switch(o(t)){case"number":t=[t,t,t,t];case"array":if(2===t.length&&(t=[t[0],t[1],t[0],t[1]]),4===t.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t}).then(this.setPageSize)},a.prototype.setPageSize=function(t){function e(t,e){return Math.floor(t*e/72*96)}return this.then(function(){(t=t||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t.inner={width:t.width-this.opt.margin[1]-this.opt.margin[3],height:t.height-this.opt.margin[0]-this.opt.margin[2]},t.inner.px={width:e(t.inner.width,t.k),height:e(t.inner.height,t.k)},t.inner.ratio=t.inner.height/t.inner.width),this.prop.pageSize=t})},a.prototype.setProgress=function(t,e,n,r){return null!=t&&(this.progress.val=t),null!=e&&(this.progress.state=e),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(t,e,n,r){return this.setProgress(t?this.progress.val+t:null,e||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},a.prototype.then=function(t,e){var n=this;return this.thenCore(t,e,function(t,e){return n.updateProgress(null,null,1,[t]),Promise.prototype.then.call(this,function(e){return n.updateProgress(null,t),e}).then(t,e).then(function(t){return n.updateProgress(1),t})})},a.prototype.thenCore=function(t,e,n){n=n||Promise.prototype.then,t&&(t=t.bind(this)),e&&(e=e.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:a.convert(Object.assign({},this),Promise.prototype),i=n.call(r,t,e);return a.convert(i,this.__proto__)},a.prototype.thenExternal=function(t,e){return Promise.prototype.then.call(this,t,e)},a.prototype.thenList=function(t){var e=this;return t.forEach(function(t){e=e.thenCore(t)}),e},a.prototype.catch=function(t){t&&(t=t.bind(this));var e=Promise.prototype.catch.call(this,t);return a.convert(e,this)},a.prototype.catchExternal=function(t){return Promise.prototype.catch.call(this,t)},a.prototype.error=function(t){return this.then(function(){throw new Error(t)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Ct.getPageSize=function(t,e,n){if("object"===r(t)){var i=t;t=i.orientation,e=i.unit||e,n=i.format||n}e=e||"mm",n=n||"a4",t=(""+(t||"P")).toLowerCase();var o,s=(""+n).toLowerCase(),a={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(e){case"pt":o=1;break;case"mm":o=72/25.4;break;case"cm":o=72/2.54;break;case"in":o=72;break;case"px":o=.75;break;case"pc":case"em":o=12;break;case"ex":o=6;break;default:throw"Invalid unit: "+e}var u,c=0,l=0;if(a.hasOwnProperty(s))c=a[s][1]/o,l=a[s][0]/o;else try{c=n[1],l=n[0]}catch(ce){throw new Error("Invalid format: "+n)}if("p"===t||"portrait"===t)t="p",l>c&&(u=l,l=c,c=u);else{if("l"!==t&&"landscape"!==t)throw"Invalid orientation: "+t;t="l",c>l&&(u=l,l=c,c=u)}return{width:l,height:c,unit:e,k:o,orientation:t}},t.html=function(t,e){(e=e||{}).callback=e.callback||function(){},e.html2canvas=e.html2canvas||{},e.html2canvas.canvas=e.html2canvas.canvas||this.canvas,e.jsPDF=e.jsPDF||this,e.fontFaces=e.fontFaces?e.fontFaces.map(ye):null;var n=new a(e);return e.worker?n:n.from(t).doCallback()}}(Ct.API),Ct.API.addJS=function(t){return Ee=t,this.internal.events.subscribe("postPutResources",function(){Ae=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ae+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ke=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ee+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Ae&&void 0!==ke&&this.internal.out("/Names <</JavaScript "+Ae+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),i=0;i<r.length;i++){var o=r[i],s=n.exec(o);null!=s&&t.internal.newObjectDeferredBegin(s[1],!1),t.internal.write(o)}if(this.outline.createNamedDestinations){var a=this.internal.pages.length,u=[];for(i=0;i<a;i++){var c=t.internal.newObject();u.push(c);var l=t.internal.getPageInfo(i+1);t.internal.write("<< /D["+l.objId+" 0 R /XYZ null null null]>> endobj")}var h=t.internal.newObject();for(t.internal.write("<< /Names [ "),i=0;i<u.length;i++)t.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+h+" 0 R"),t.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(t,e,n){var r={title:e,options:n,children:[]};return null==t&&(t=this.root),t.children.push(r),r},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(e){e.id=t.internal.newObjectDeferred();for(var n=0;n<e.children.length;n++)this.genIds_r(e.children[n])},t.outline.renderRoot=function(t){this.objStart(t),this.line("/Type /Outlines"),t.children.length>0&&(this.line("/First "+this.makeRef(t.children[0])),this.line("/Last "+this.makeRef(t.children[t.children.length-1]))),this.line("/Count "+this.count_r({count:0},t)),this.objEnd()},t.outline.renderItems=function(e){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<e.children.length;r++){var i=e.children[r];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(e)),r>0&&this.line("/Prev "+this.makeRef(e.children[r-1])),r<e.children.length-1&&this.line("/Next "+this.makeRef(e.children[r+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var s=t.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+s.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var a=0;a<e.children.length;a++)this.renderItems(e.children[a])},t.outline.line=function(t){this.ctx.val+=t+"\r\n"},t.outline.makeRef=function(t){return t.id+" 0 R"},t.outline.makeString=function(e){return"("+t.internal.pdfEscape(e)+")"},t.outline.objStart=function(t){this.ctx.val+="\r\n"+t.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(t,e){for(var n=0;n<e.children.length;n++)t.count++,this.count_r(t,e.children[n]);return t.count}}])}(Ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(t,n,r,i,o,s){var a,u=this.decode.DCT_DECODE,c=null;if("string"==typeof t||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=this.__addimage__.isArrayBuffer(t=o||t)?new Uint8Array(t):t,(a=function(t){for(var n,r=256*t.charCodeAt(4)+t.charCodeAt(5),i=t.length,o={width:0,height:0,numcomponents:1},s=4;s<i;s+=2){if(-1!==e.indexOf(t.charCodeAt((s+=r)+1))){n=256*t.charCodeAt(s+5)+t.charCodeAt(s+6),o={width:256*t.charCodeAt(s+7)+t.charCodeAt(s+8),height:n,numcomponents:t.charCodeAt(s+9)};break}r=256*t.charCodeAt(s+2)+t.charCodeAt(s+3)}return o}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:s=this.color_spaces.DEVICE_GRAY;break;case 4:s=this.color_spaces.DEVICE_CMYK;break;case 3:s=this.color_spaces.DEVICE_RGB}c={data:t,width:a.width,height:a.height,colorSpace:s,bitsPerComponent:8,filter:u,index:n,alias:r}}return c}}(Ct.API);var Pe,Ne,Oe,Le,De,Me=function(){var t,e,n;function r(t){var e,n,r,i,o,s,a,u,c,l,h,f,d;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o=null;;){switch(e=this.readUInt32(),u=(function(){var t,e;for(e=[],t=0;t<4;++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":o&&this.animation.frames.push(o),this.pos+=4,o={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},i=this.readUInt16(),r=this.readUInt16()||100,o.delay=1e3*i/r,o.disposeOp=this.data[this.pos++],o.blendOp=this.data[this.pos++],o.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u&&(this.pos+=4,e-=4),t=(null!=o?o.data:void 0)||this.imgData,h=0;0<=e?h<e:h>e;0<=e?++h:--h)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>n)throw new Error("More transparent colors than palette size");if((c=n-this.transparency.indexed.length)>0)for(f=0;0<=c?f<c:f>c;0<=c?++f:--f)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":s=(l=this.read(e)).indexOf(0),a=String.fromCharCode.apply(String,l.slice(0,s)),this.text[a]=String.fromCharCode.apply(String,l.slice(s+1));break;case"IEND":return o&&this.animation.frames.push(o),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=4===(d=this.colorType)||6===d,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;0<=t?++e:--e)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(t){var e,n,r=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*r),s=0,l=this;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);function h(e,n,i,a){var u,c,h,f,d,p,g,m,v,y,b,_,w,C,S,x,I,A,k,E,T=Math.ceil((l.width-e)/i),P=Math.ceil((l.height-n)/a),N=l.width==T&&l.height==P;for(w=r*T,b=N?o:new Uint8Array(w*P),p=t.length,_=0,c=0;_<P&&s<p;){switch(t[s++]){case 0:for(f=x=0;x<w;f=x+=1)b[c++]=t[s++];break;case 1:for(f=I=0;I<w;f=I+=1)u=t[s++],d=f<r?0:b[c-r],b[c++]=(u+d)%256;break;case 2:for(f=A=0;A<w;f=A+=1)u=t[s++],h=(f-f%r)/r,b[c++]=((C=_&&b[(_-1)*w+h*r+f%r])+u)%256;break;case 3:for(f=k=0;k<w;f=k+=1)u=t[s++],h=(f-f%r)/r,d=f<r?0:b[c-r],C=_&&b[(_-1)*w+h*r+f%r],b[c++]=(u+Math.floor((d+C)/2))%256;break;case 4:for(f=E=0;E<w;f=E+=1)u=t[s++],h=(f-f%r)/r,0===_?C=S=0:(C=b[(_-1)*w+h*r+f%r],S=h&&b[(_-1)*w+(h-1)*r+f%r]),g=(d=f<r?0:b[c-r])+C-S,m=Math.abs(g-d),v=Math.abs(g-C),y=Math.abs(g-S),b[c++]=(u+(m<=v&&m<=y?d:v<=y?C:S))%256;break;default:throw new Error("Invalid filter algorithm: "+t[s-1])}if(!N){var O=((n+_*a)*l.width+e)*r,L=_*w;for(f=0;f<T;f+=1){for(var D=0;D<r;D+=1)o[O++]=b[L++];O+=(i-1)*r}}_++}}return t=function(t,e,n){var r=t.length,o=!e||n,s=!n||n.i;n||(n={}),e||(e=new i(3*r));var l=function(t){var n=e.length;if(t>n){var r=new i(Math.max(2*n,t));r.set(e),e=r}},h=n.f||0,d=n.p||0,p=n.b||0,m=n.l,v=n.d,y=n.m,b=n.n,w=8*r;do{if(!m){n.f=h=E(t,d,1);var C=E(t,d+1,3);if(d+=3,!C){var S=t[(B=P(d)+4)-4]|t[B-3]<<8,I=B+S;if(I>r){if(s)throw"unexpected EOF";break}o&&l(p+S),e.set(t.subarray(B,I),p),n.b=p+=S,n.p=d=8*I;continue}if(1==C)m=x,v=A,y=9,b=5;else{if(2!=C)throw"invalid block type";var O=E(t,d,31)+257,L=E(t,d+10,15)+4,D=O+E(t,d+5,31)+1;d+=14;for(var M=new i(D),R=new i(19),F=0;F<L;++F)R[c[F]]=E(t,d+3*F,7);d+=3*L;var j=k(R),U=(1<<j)-1;if(!s&&d+D*(j+7)>w)break;var q=_(R,j,1);for(F=0;F<D;){var B,V=q[E(t,d,U)];if(d+=15&V,(B=V>>>4)<16)M[F++]=B;else{var H=0,z=0;for(16==B?(z=3+E(t,d,3),d+=2,H=M[F-1]):17==B?(z=3+E(t,d,7),d+=3):18==B&&(z=11+E(t,d,127),d+=7);z--;)M[F++]=H}}var W=M.subarray(0,O),G=M.subarray(O);y=k(W),b=k(G),m=_(W,y,1),v=_(G,b,1)}if(d>w)throw"unexpected EOF"}o&&l(p+131072);for(var K=(1<<y)-1,$=(1<<b)-1,Y=y+b+18;s||d+Y<w;){var Q=(H=m[T(t,d)&K])>>>4;if((d+=15&H)>w)throw"unexpected EOF";if(!H)throw"invalid length/literal";if(Q<256)e[p++]=Q;else{if(256==Q){m=null;break}var X=Q-254;Q>264&&(X=E(t,d,(1<<(tt=a[F=Q-257]))-1)+f[F],d+=tt);var J=v[T(t,d)&$],Z=J>>>4;if(!J)throw"invalid distance";if(d+=15&J,G=g[Z],Z>3){var tt=u[Z];G+=T(t,d)&(1<<tt)-1,d+=tt}if(d>w)throw"unexpected EOF";o&&l(p+131072);for(var et=p+X;p<et;p+=4)e[p]=e[p-G],e[p+1]=e[p+1-G],e[p+2]=e[p+2-G],e[p+3]=e[p+3-G];p=et}}n.l=m,n.p=d,n.b=p,m&&(h=1,n.m=y,n.d=v,n.n=b)}while(!h);return p==e.length?e:N(e,0,p)}((function(t){if(8!=(15&t[0])||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(32&t[1])throw"invalid zlib data: preset dictionaries not supported"}(e=t),e.subarray(2,-4)),n),1==l.interlaceMethod?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),o},r.prototype.decodePalette=function(){var t,e,n,r,i,o,s,a,u;for(n=this.palette,o=this.transparency.indexed||[],i=new Uint8Array((o.length||0)+n.length),r=0,t=0,e=s=0,a=n.length;s<a;e=s+=3)i[r++]=n[e],i[r++]=n[e+1],i[r++]=n[e+2],i[r++]=null!=(u=o[t++])?u:255;return i},r.prototype.copyToImageData=function(t,e){var n,r,i,o,s,a,u,c,l,h,f;if(r=this.colors,l=null,n=this.hasAlphaChannel,this.palette.length&&(l=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(i=t.data||t).length,s=l||e,o=a=0,1===r)for(;o<c;)u=l?4*e[o/4]:a,h=s[u++],i[o++]=h,i[o++]=h,i[o++]=h,i[o++]=n?s[u++]:255,a=u;else for(;o<c;)u=l?4*e[o/4]:a,i[o++]=s[u++],i[o++]=s[u++],i[o++]=s[u++],i[o++]=n?s[u++]:255,a=u},r.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};var o=function(){if("[object Window]"===Object.prototype.toString.call(H)){try{e=H.document.createElement("canvas"),n=e.getContext("2d")}catch(t){return!1}return!0}return!1};return o(),t=function(t){var r;if(!0===o())return n.width=t.width,n.height=t.height,n.clearRect(0,0,t.width,t.height),n.putImageData(t,0,0),(r=new Image).src=e.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(e){var n,r,i,o,s,a,u,c;if(this.animation){for(c=[],r=s=0,a=(u=this.animation.frames).length;s<a;r=++s)i=e.createImageData((n=u[r]).width,n.height),o=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(i,o),n.imageData=i,c.push(n.image=t(i));return c}},r.prototype.renderFrame=function(t,e){var n,r,i;return n=(r=this.animation.frames)[e],i=r[e-1],0===e&&t.clearRect(0,0,this.width,this.height),1===(null!=i?i.disposeOp:void 0)?t.clearRect(i.xOffset,i.yOffset,i.width,i.height):2===(null!=i?i.disposeOp:void 0)&&t.putImageData(i.imageData,i.xOffset,i.yOffset),0===n.blendOp&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(t){var e,n,r,i,o,s,a=this;return n=0,i=(s=this.animation).numFrames,r=s.frames,o=s.numPlays,(e=function(){var s,u;if(s=n++%i,u=r[s],a.renderFrame(t,s),i>1&&n/i<o)return a.animation._timeout=setTimeout(e,u.delay)})()},r.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},r.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},r}();function Re(t){var e=0;if(71!==t[e++]||73!==t[e++]||70!==t[e++]||56!==t[e++]||56!=(t[e++]+1&253)||97!==t[e++])throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=1<<1+(7&i);e++,e++;var s=null,a=null;i>>7&&(s=e,a=o,e+=3*o);var u=!0,c=[],l=0,h=null,f=0,d=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(11!==t[e]||78==t[e+1]&&69==t[e+2]&&84==t[e+3]&&83==t[e+4]&&67==t[e+5]&&65==t[e+6]&&80==t[e+7]&&69==t[e+8]&&50==t[e+9]&&46==t[e+10]&&48==t[e+11]&&3==t[e+12]&&1==t[e+13]&&0==t[e+16])e+=14,d=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;case 249:if(4!==t[e++]||0!==t[e+4])throw new Error("Invalid graphics extension block.");var p=t[e++];l=t[e++]|t[e++]<<8,h=t[e++],0==(1&p)&&(h=null),f=p>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var g=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++],_=b>>6&1,w=1<<1+(7&b),C=s,S=a,x=!1;b>>7&&(x=!0,C=e,S=w,e+=3*w);var I=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(0===A)break;e+=A}c.push({x:g,y:m,width:v,height:y,has_local_palette:x,palette_offset:C,palette_size:S,data_offset:I,data_length:e-I,transparent_index:h,interlaced:!!_,delay:l,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return d},this.frameInfo=function(t){if(t<0||t>=c.length)throw new Error("Frame index out of range.");return c[t]},this.decodeAndBlitFrameBGRA=function(e,r){var i=this.frameInfo(e),o=i.width*i.height,s=new Uint8Array(o);Fe(t,i.data_offset,s,o);var a=i.palette_offset,u=i.transparent_index;null===u&&(u=256);var c=i.width,l=n-c,h=c,f=4*(i.y*n+i.x),d=4*((i.y+i.height)*n+i.x),p=f,g=4*l;!0===i.interlaced&&(g+=4*n*7);for(var m=8,v=0,y=s.length;v<y;++v){var b=s[v];if(0===h&&(h=c,(p+=g)>=d&&(g=4*l+4*n*(m-1),p=f+(c+l)*(m<<1),m>>=1)),b===u)p+=4;else{var _=t[a+3*b],w=t[a+3*b+1];r[p++]=t[a+3*b+2],r[p++]=w,r[p++]=_,r[p++]=255}--h}},this.decodeAndBlitFrameRGBA=function(e,r){var i=this.frameInfo(e),o=i.width*i.height,s=new Uint8Array(o);Fe(t,i.data_offset,s,o);var a=i.palette_offset,u=i.transparent_index;null===u&&(u=256);var c=i.width,l=n-c,h=c,f=4*(i.y*n+i.x),d=4*((i.y+i.height)*n+i.x),p=f,g=4*l;!0===i.interlaced&&(g+=4*n*7);for(var m=8,v=0,y=s.length;v<y;++v){var b=s[v];if(0===h&&(h=c,(p+=g)>=d&&(g=4*l+4*n*(m-1),p=f+(c+l)*(m<<1),m>>=1)),b===u)p+=4;else{var _=t[a+3*b+1],w=t[a+3*b+2];r[p++]=t[a+3*b],r[p++]=_,r[p++]=w,r[p++]=255}--h}}}function Fe(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,u=i+1,c=(1<<u)-1,l=0,h=0,f=0,d=t[e++],p=new Int32Array(4096),g=null;;){for(;l<16&&0!==d;)h|=t[e++]<<l,l+=8,1===d?d=t[e++]:--d;if(l<u)break;var m=h&c;if(h>>=u,l-=u,m!==o){if(m===s)break;for(var v=m<a?m:g,y=0,b=v;b>o;)b=p[b]>>8,++y;var _=b;if(f+y+(v!==m?1:0)>r)return void W.log("Warning, gif stream longer than expected.");n[f++]=_;var w=f+=y;for(v!==m&&(n[f++]=_),b=v;y--;)n[--w]=255&(b=p[b]),b>>=8;null!==g&&a<4096&&(p[a++]=g<<8|_,a>=c+1&&u<12&&(++u,c=c<<1|1)),g=m}else a=s+1,c=(1<<(u=i+1))-1,g=null}return f!==r&&W.log("Warning, gif stream shorter than expected."),n}function je(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),u=new Array(64),c=new Array(64),l=new Array(64),h=new Array(65535),f=new Array(65535),d=new Array(64),p=new Array(64),g=[],m=0,v=7,y=new Array(64),b=new Array(64),_=new Array(64),w=new Array(256),C=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],N=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(t,e){for(var n=0,r=0,i=new Array,o=1;o<=16;o++){for(var s=1;s<=t[o];s++)i[e[r]]=[],i[e[r]][0]=n,i[e[r]][1]=o,r++,n++;n*=2}return i}function L(t){for(var e=t[0],n=t[1]-1;n>=0;)e&1<<n&&(m|=1<<v),n--,--v<0&&(255==m?(D(255),D(0)):D(m),v=7,m=0)}function D(t){g.push(t)}function M(t){D(t>>8&255),D(255&t)}function R(t,e,n,r,i){for(var o,s=i[0],a=i[240],u=function(t,e){var n,r,i,o,s,a,u,c,l,h,f=0;for(l=0;l<8;++l){var p=(n=t[f])+(c=t[f+7]),g=n-c,m=(r=t[f+1])+(u=t[f+6]),v=r-u,y=(i=t[f+2])+(a=t[f+5]),b=i-a,_=(o=t[f+3])+(s=t[f+4]),w=o-s,C=p+_,S=p-_,x=m+y,I=m-y;t[f]=C+x,t[f+4]=C-x;var A=.707106781*(I+S);t[f+2]=S+A,t[f+6]=S-A;var k=.382683433*((C=w+b)-(I=v+g)),E=.5411961*C+k,T=1.306562965*I+k,P=.707106781*(x=b+v),N=g+P,O=g-P;t[f+5]=O+E,t[f+3]=O-E,t[f+1]=N+T,t[f+7]=N-T,f+=8}for(f=0,l=0;l<8;++l){var L=(n=t[f])+(c=t[f+56]),D=n-c,M=(r=t[f+8])+(u=t[f+48]),R=r-u,F=(i=t[f+16])+(a=t[f+40]),j=i-a,U=(o=t[f+24])+(s=t[f+32]),q=o-s,B=L+U,V=L-U,H=M+F,z=M-F;t[f]=B+H,t[f+32]=B-H;var W=.707106781*(z+V);t[f+16]=V+W,t[f+48]=V-W;var G=.382683433*((B=q+j)-(z=R+D)),K=.5411961*B+G,$=1.306562965*z+G,Y=.707106781*(H=j+R),Q=D+Y,X=D-Y;t[f+40]=X+K,t[f+24]=X-K,t[f+8]=Q+$,t[f+56]=Q-$,f++}for(l=0;l<64;++l)d[l]=(h=t[l]*e[l])>0?h+.5|0:h-.5|0;return d}(t,e),c=0;c<64;++c)p[S[c]]=u[c];var l=p[0]-n;n=p[0],0==l?L(r[0]):(L(r[f[o=32767+l]]),L(h[o]));for(var g=63;g>0&&0==p[g];)g--;if(0==g)return L(s),n;for(var m,v=1;v<=g;){for(var y=v;0==p[v]&&v<=g;)++v;var b=v-y;if(b>=16){m=b>>4;for(var _=1;_<=m;++_)L(a);b&=15}L(i[(b<<4)+f[o=32767+p[v]]]),L(h[o]),v++}return 63!=g&&L(s),n}function F(t){t=Math.min(Math.max(t,1),100),o!=t&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=s((e[n]*t+50)/100);r=Math.min(Math.max(r,1),255),a[S[n]]=r}for(var i=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var h=s((i[o]*t+50)/100);h=Math.min(Math.max(h,1),255),u[S[o]]=h}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d=0,p=0;p<8;p++)for(var g=0;g<8;g++)c[d]=1/(a[S[d]]*f[p]*f[g]*8),l[d]=1/(u[S[d]]*f[p]*f[g]*8),d++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),o=t)}this.encode=function(t,o){o&&F(o),g=new Array,m=0,v=7,M(65496),M(65504),M(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),M(1),M(1),D(0),D(0),function(){M(65499),M(132),D(0);for(var t=0;t<64;t++)D(a[t]);D(1);for(var e=0;e<64;e++)D(u[e])}(),function(t,e){M(65472),M(17),D(8),M(e),M(t),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1)}(t.width,t.height),function(){M(65476),M(418),D(0);for(var t=0;t<16;t++)D(x[t+1]);for(var e=0;e<=11;e++)D(I[e]);D(16);for(var n=0;n<16;n++)D(A[n+1]);for(var r=0;r<=161;r++)D(k[r]);D(1);for(var i=0;i<16;i++)D(E[i+1]);for(var o=0;o<=11;o++)D(T[o]);D(17);for(var s=0;s<16;s++)D(P[s+1]);for(var a=0;a<=161;a++)D(N[a])}(),M(65498),M(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var s=0,h=0,f=0;m=0,v=7,this.encode.displayName="_encode_";for(var d,p,w,S,O,j,U,q,B,V=t.data,H=t.height,z=4*t.width,W=0;W<H;){for(d=0;d<z;){for(O=z*W+d,U=-1,q=0,B=0;B<64;B++)j=O+(q=B>>3)*z+(U=4*(7&B)),W+q>=H&&(j-=z*(W+1+q-H)),d+U>=z&&(j-=d+U-z+4),p=V[j++],w=V[j++],S=V[j++],y[B]=(C[p]+C[w+256>>0]+C[S+512>>0]>>16)-128,b[B]=(C[p+768>>0]+C[w+1024>>0]+C[S+1280>>0]>>16)-128,_[B]=(C[p+1280>>0]+C[w+1536>>0]+C[S+1792>>0]>>16)-128;s=R(y,c,s,e,r),h=R(b,l,h,n,i),f=R(_,l,f,n,i),d+=32}W+=8}if(v>=0){var G=[];G[1]=v+1,G[0]=(1<<v+1)-1,L(G)}return M(65497),new Uint8Array(g)},t=t||50,function(){for(var t=String.fromCharCode,e=0;e<256;e++)w[e]=t(e)}(),e=O(x,I),n=O(E,T),r=O(A,k),i=O(P,N),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var r=t;r<e;r++)f[32767+r]=n,h[32767+r]=[],h[32767+r][1]=n,h[32767+r][0]=r;for(var i=-(e-1);i<=-t;i++)f[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=e-1+i;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)C[t]=19595*t,C[t+256>>0]=38470*t,C[t+512>>0]=7471*t+32768,C[t+768>>0]=-11059*t,C[t+1024>>0]=-21709*t,C[t+1280>>0]=32768*t+8421375,C[t+1536>>0]=-27439*t,C[t+1792>>0]=-5329*t}(),F(t)}function Ue(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function qe(t){function e(t){if(!t)throw Error("assert :P")}function n(t,e,n){for(var r=0;4>r;r++)if(t[e+r]!=n.charCodeAt(r))return!0;return!1}function r(t,e,n,r,i){for(var o=0;o<i;o++)t[e+o]=n[r+o]}function i(t,e,n,r){for(var i=0;i<r;i++)t[e+i]=n}function o(t){return new Int32Array(t)}function s(t,e){for(var n=[],r=0;r<t;r++)n.push(new e);return n}function a(t,e){var n=[];return function t(n,r,i){for(var o=i[r],s=0;s<o&&(n.push(i.length>r+1?[]:new e),!(i.length<r+1));s++)t(n[s],r+1,i)}(n,0,t),n}var u=function(){var t=this;function u(t,e){for(var n=1<<e-1>>>0;t&n;)n>>>=1;return n?(t&n-1)+n:t}function c(t,n,r,i,o){e(!(i%r));do{t[n+(i-=r)]=o}while(0<i)}function l(t,n,r,i,s){if(e(2328>=s),512>=s)var a=o(512);else if(null==(a=o(s)))return 0;return function(t,n,r,i,s,a){var l,f,d=n,p=1<<r,g=o(16),m=o(16);for(e(0!=s),e(null!=i),e(null!=t),e(0<r),f=0;f<s;++f){if(15<i[f])return 0;++g[i[f]]}if(g[0]==s)return 0;for(m[1]=0,l=1;15>l;++l){if(g[l]>1<<l)return 0;m[l+1]=m[l]+g[l]}for(f=0;f<s;++f)l=i[f],0<i[f]&&(a[m[l]++]=f);if(1==m[15])return(i=new h).g=0,i.value=a[0],c(t,d,1,p,i),p;var v,y=-1,b=p-1,_=0,w=1,C=1,S=1<<r;for(f=0,l=1,s=2;l<=r;++l,s<<=1){if(w+=C<<=1,0>(C-=g[l]))return 0;for(;0<g[l];--g[l])(i=new h).g=l,i.value=a[f++],c(t,d+_,s,S,i),_=u(_,l)}for(l=r+1,s=2;15>=l;++l,s<<=1){if(w+=C<<=1,0>(C-=g[l]))return 0;for(;0<g[l];--g[l]){if(i=new h,(_&b)!=y){for(d+=S,v=1<<(y=l)-r;15>y&&!(0>=(v-=g[y]));)++y,v<<=1;p+=S=1<<(v=y-r),t[n+(y=_&b)].g=v+r,t[n+y].value=d-n-y}i.g=l-r,i.value=a[f++],c(t,d+(_>>r),s,S,i),_=u(_,l)}}return w!=2*m[15]-1?0:p}(t,n,r,i,s,a)}function h(){this.value=this.g=0}function f(){this.value=this.g=0}function d(){this.G=s(5,h),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Un,f)}function p(t,n,r,i){e(null!=t),e(null!=n),e(2147483648>i),t.Ca=254,t.I=0,t.b=-8,t.Ka=0,t.oa=n,t.pa=r,t.Jd=n,t.Yc=r+i,t.Zc=4<=i?r+i-4+1:r,A(t)}function g(t,e){for(var n=0;0<e--;)n|=E(t,128)<<e;return n}function m(t,e){var n=g(t,e);return k(t)?-n:n}function v(t,n,r,i){var o,s=0;for(e(null!=t),e(null!=n),e(4294967288>i),t.Sb=i,t.Ra=0,t.u=0,t.h=0,4<i&&(i=4),o=0;o<i;++o)s+=n[r+o]<<8*o;t.Ra=s,t.bb=i,t.oa=n,t.pa=r}function y(t){for(;8<=t.u&&t.bb<t.Sb;)t.Ra>>>=8,t.Ra+=t.oa[t.pa+t.bb]<<Vn-8>>>0,++t.bb,t.u-=8;S(t)&&(t.h=1,t.u=0)}function b(t,n){if(e(0<=n),!t.h&&n<=Bn){var r=C(t)&qn[n];return t.u+=n,y(t),r}return t.h=1,t.u=0}function _(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function C(t){return t.Ra>>>(t.u&Vn-1)>>>0}function S(t){return e(t.bb<=t.Sb),t.h||t.bb==t.Sb&&t.u>Vn}function x(t,e){t.u=e,t.h=S(t)}function I(t){t.u>=Hn&&(e(t.u>=Hn),y(t))}function A(t){e(null!=t&&null!=t.oa),t.pa<t.Zc?(t.I=(t.oa[t.pa++]|t.I<<8)>>>0,t.b+=8):(e(null!=t&&null!=t.oa),t.pa<t.Yc?(t.b+=8,t.I=t.oa[t.pa++]|t.I<<8):t.Ka?t.b=0:(t.I<<=8,t.b+=8,t.Ka=1))}function k(t){return g(t,1)}function E(t,e){var n=t.Ca;0>t.b&&A(t);var r=t.b,i=n*e>>>8,o=(t.I>>>r>i)+0;for(o?(n-=i,t.I-=i+1<<r>>>0):n=i+1,r=n,i=0;256<=r;)i+=8,r>>=8;return t.b-=r=7^i+zn[r],t.Ca=(n<<r)-1,o}function T(t,e,n){t[e+0]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n>>0&255}function P(t,e){return t[e+0]<<0|t[e+1]<<8}function N(t,e){return P(t,e)|t[e+2]<<16}function O(t,e){return P(t,e)|P(t,e+2)<<16}function L(t,n){var r=1<<n;return e(null!=t),e(0<n),t.X=o(r),null==t.X?0:(t.Mb=32-n,t.Xa=n,1)}function D(t,n){e(null!=t),e(null!=n),e(t.Xa==n.Xa),r(n.X,0,t.X,0,1<<n.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function R(t,n,r,i){e(null!=r),e(null!=i);var o=r[0],s=i[0];return 0==o&&(o=(t*s+n/2)/n),0==s&&(s=(n*o+t/2)/t),0>=o||0>=s?0:(r[0]=o,i[0]=s,1)}function F(t,e){return t+(1<<e)-1>>>e}function j(t,e){return((4278255360&t)+(4278255360&e)>>>0&4278255360)+((16711935&t)+(16711935&e)>>>0&16711935)>>>0}function U(e,n){t[n]=function(n,r,i,o,s,a,u){var c;for(c=0;c<s;++c){var l=t[e](a[u+c-1],i,o+c);a[u+c]=j(n[r+c],l)}}}function q(){this.ud=this.hd=this.jd=0}function B(t,e){return((4278124286&(t^e))>>>1)+(t&e)>>>0}function V(t){return 0<=t&&256>t?t:0>t?0:255<t?255:void 0}function H(t,e){return V(t+(t-e+.5>>1))}function z(t,e,n){return Math.abs(e-n)-Math.abs(t-n)}function W(t,e,n,r,i,o,s){for(r=o[s-1],n=0;n<i;++n)o[s+n]=r=j(t[e+n],r)}function G(t,e,n,r,i){var o;for(o=0;o<n;++o){var s=t[e+o],a=s>>8&255,u=16711935&(u=(u=16711935&s)+((a<<16)+a));r[i+o]=(4278255360&s)+u>>>0}}function K(t,e){e.jd=t>>0&255,e.hd=t>>8&255,e.ud=t>>16&255}function $(t,e,n,r,i,o){var s;for(s=0;s<r;++s){var a=e[n+s],u=a>>>8,c=a,l=255&(l=(l=a>>>16)+((t.jd<<24>>24)*(u<<24>>24)>>>5));c=255&(c=(c+=(t.hd<<24>>24)*(u<<24>>24)>>>5)+((t.ud<<24>>24)*(l<<24>>24)>>>5)),i[o+s]=(4278255360&a)+(l<<16)+c}}function Y(e,n,r,i,o){t[n]=function(t,e,n,r,s,a,u,c,l){for(r=u;r<c;++r)for(u=0;u<l;++u)s[a++]=o(n[i(t[e++])])},t[e]=function(e,n,s,a,u,c,l){var h=8>>e.b,f=e.Ea,d=e.K[0],p=e.w;if(8>h)for(e=(1<<e.b)-1,p=(1<<h)-1;n<s;++n){var g,m=0;for(g=0;g<f;++g)g&e||(m=i(a[u++])),c[l++]=o(d[m&p]),m>>=h}else t["VP8LMapColor"+r](a,u,d,p,c,l,n,s,f)}}function Q(t,e,n,r,i){for(n=e+n;e<n;){var o=t[e++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=o>>0&255}}function X(t,e,n,r,i){for(n=e+n;e<n;){var o=t[e++];r[i++]=o>>16&255,r[i++]=o>>8&255,r[i++]=o>>0&255,r[i++]=o>>24&255}}function J(t,e,n,r,i){for(n=e+n;e<n;){var o=(s=t[e++])>>16&240|s>>12&15,s=s>>0&240|s>>28&15;r[i++]=o,r[i++]=s}}function Z(t,e,n,r,i){for(n=e+n;e<n;){var o=(s=t[e++])>>16&248|s>>13&7,s=s>>5&224|s>>3&31;r[i++]=o,r[i++]=s}}function tt(t,e,n,r,i){for(n=e+n;e<n;){var o=t[e++];r[i++]=o>>0&255,r[i++]=o>>8&255,r[i++]=o>>16&255}}function et(t,e,n,i,o,s){if(0==s)for(n=e+n;e<n;)T(i,((s=t[e++])[0]>>24|s[1]>>8&65280|s[2]<<8&16711680|s[3]<<24)>>>0),o+=32;else r(i,o,t,e,n)}function nt(e,n){t[n][0]=t[e+"0"],t[n][1]=t[e+"1"],t[n][2]=t[e+"2"],t[n][3]=t[e+"3"],t[n][4]=t[e+"4"],t[n][5]=t[e+"5"],t[n][6]=t[e+"6"],t[n][7]=t[e+"7"],t[n][8]=t[e+"8"],t[n][9]=t[e+"9"],t[n][10]=t[e+"10"],t[n][11]=t[e+"11"],t[n][12]=t[e+"12"],t[n][13]=t[e+"13"],t[n][14]=t[e+"0"],t[n][15]=t[e+"0"]}function rt(t){return t==Hr||t==zr||t==Wr||t==Gr}function it(){this.eb=[],this.size=this.A=this.fb=0}function ot(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function st(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new it,this.f.kb=new ot,this.sd=null}function at(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(t){return alert("todo:WebPSamplerProcessPlane"),t.T}function lt(t,e){var n=t.T,i=e.ba.f.RGBA,o=i.eb,s=i.fb+t.ka*i.A,a=vi[e.ba.S],u=t.y,c=t.O,l=t.f,h=t.N,f=t.ea,d=t.W,p=e.cc,g=e.dc,m=e.Mc,v=e.Nc,y=t.ka,b=t.ka+t.T,_=t.U,w=_+1>>1;for(0==y?a(u,c,null,null,l,h,f,d,l,h,f,d,o,s,null,null,_):(a(e.ec,e.fc,u,c,p,g,m,v,l,h,f,d,o,s-i.A,o,s,_),++n);y+2<b;y+=2)a(u,(c+=2*t.fa)-t.fa,u,c,p=l,g=h,m=f,v=d,l,h+=t.Rc,f,d+=t.Rc,o,(s+=2*i.A)-i.A,o,s,_);return c+=t.fa,t.j+b<t.o?(r(e.ec,e.fc,u,c,_),r(e.cc,e.dc,l,h,w),r(e.Mc,e.Nc,f,d,w),n--):1&b||a(u,c,null,null,l,h,f,d,l,h,f,d,o,s+i.A,null,null,_),n}function ht(t,n,r){var i=t.F,o=[t.J];if(null!=i){var s=t.U,a=n.ba.S,u=a==qr||a==Wr;n=n.ba.f.RGBA;var c=[0],l=t.ka;c[0]=t.T,t.Kb&&(0==l?--c[0]:(--l,o[0]-=t.width),t.j+t.ka+t.T==t.o&&(c[0]=t.o-t.j-l));var h=n.eb;t=Ir(i,o[0],t.width,s,c,h,(l=n.fb+l*n.A)+(u?0:3),n.A),e(r==c),t&&rt(a)&&Sr(h,l,u,s,c,n.A)}return 0}function ft(t){var e=t.ma,n=e.ba.S,r=11>n,i=n==Fr||n==Ur||n==qr||n==Br||12==n||rt(n);if(e.memory=null,e.Ib=null,e.Jb=null,e.Nd=null,!Rn(e.Oa,t,i?11:12))return 0;if(i&&rt(n)&&bn(),t.da)alert("todo:use_scaling");else{if(r){if(e.Ib=ct,t.Kb){if(e.memory=o(t.U+2*(n=t.U+1>>1)),null==e.memory)return 0;e.ec=e.memory,e.fc=0,e.cc=e.ec,e.dc=e.fc+t.U,e.Mc=e.cc,e.Nc=e.dc+n,e.Ib=lt,bn()}}else alert("todo:EmitYUV");i&&(e.Jb=ht,r&&vn())}if(r&&!Ni){for(t=0;256>t;++t)Oi[t]=89858*(t-128)+Ai>>Ii,Mi[t]=-22014*(t-128)+Ai,Di[t]=-45773*(t-128),Li[t]=113618*(t-128)+Ai>>Ii;for(t=ki;t<Ei;++t)Ri[t-ki]=Wt(e=76283*(t-16)+Ai>>Ii,255),Fi[t-ki]=Wt(e+8>>4,15);Ni=1}return 1}function dt(t){var n=t.ma,r=t.U,i=t.T;return e(!(1&t.ka)),0>=r||0>=i?0:(r=n.Ib(t,n),null!=n.Jb&&n.Jb(t,n,r),n.Dc+=r,1)}function pt(t){t.ma.memory=null}function gt(t,e,n,r){return 47!=b(t,8)?0:(e[0]=b(t,14)+1,n[0]=b(t,14)+1,r[0]=b(t,1),0!=b(t,3)?0:!t.h)}function mt(t,e){if(4>t)return t+1;var n=t-2>>1;return(2+(1&t)<<n)+b(e,n)+1}function vt(t,e){return 120<e?e-120:1<=(n=((n=Jr[e-1])>>4)*t+(8-(15&n)))?n:1;var n}function yt(t,e,n){var r=C(n),i=t[e+=255&r].g-8;return 0<i&&(x(n,n.u+8),r=C(n),e+=t[e].value,e+=r&(1<<i)-1),x(n,n.u+t[e].g),t[e].value}function bt(t,n,r){return r.g+=t.g,r.value+=t.value<<n>>>0,e(8>=r.g),t.g}function _t(t,n,r){var i=t.xc;return e((n=0==i?0:t.vc[t.md*(r>>i)+(n>>i)])<t.Wb),t.Ya[n]}function wt(t,n,i,o){var s=t.ab,a=t.c*n,u=t.C;n=u+n;var c=i,l=o;for(o=t.Ta,i=t.Ua;0<s--;){var h=t.gc[s],f=u,d=n,p=c,g=l,m=(l=o,c=i,h.Ea);switch(e(f<d),e(d<=h.nc),h.hc){case 2:Kn(p,g,(d-f)*m,l,c);break;case 0:var v=f,y=d,b=l,_=c,w=(A=h).Ea;0==v&&(Wn(p,g,null,null,1,b,_),W(p,g+1,0,0,w-1,b,_+1),g+=w,_+=w,++v);for(var C=1<<A.b,S=C-1,x=F(w,A.b),I=A.K,A=A.w+(v>>A.b)*x;v<y;){var k=I,E=A,T=1;for(Gn(p,g,b,_-w,1,b,_);T<w;){var P=(T&~S)+C;P>w&&(P=w),(0,Jn[k[E++]>>8&15])(p,g+ +T,b,_+T-w,P-T,b,_+T),T=P}g+=w,_+=w,++v&S||(A+=x)}d!=h.nc&&r(l,c-m,l,c+(d-f-1)*m,m);break;case 1:for(m=p,y=g,w=(p=h.Ea)-(_=p&~(b=(g=1<<h.b)-1)),v=F(p,h.b),C=h.K,h=h.w+(f>>h.b)*v;f<d;){for(S=C,x=h,I=new q,A=y+_,k=y+p;y<A;)K(S[x++],I),Zn(I,m,y,g,l,c),y+=g,c+=g;y<k&&(K(S[x++],I),Zn(I,m,y,w,l,c),y+=w,c+=w),++f&b||(h+=v)}break;case 3:if(p==l&&g==c&&0<h.b){for(y=l,p=m=c+(d-f)*m-(_=(d-f)*F(h.Ea,h.b)),g=l,b=c,v=[],_=(w=_)-1;0<=_;--_)v[_]=g[b+_];for(_=w-1;0<=_;--_)y[p+_]=v[_];$n(h,f,d,l,m,l,c)}else $n(h,f,d,p,g,l,c)}c=o,l=i}l!=i&&r(o,i,c,l,a)}function Ct(t,n){var r=t.V,i=t.Ba+t.c*t.C,o=n-t.C;if(e(n<=t.l.o),e(16>=o),0<o){var s=t.l,a=t.Ta,u=t.Ua,c=s.width;if(wt(t,o,r,i),o=u=[u],e((r=t.C)<(i=n)),e(s.v<s.va),i>s.o&&(i=s.o),r<s.j){var l=s.j-r;r=s.j,o[0]+=l*c}if(r>=i?r=0:(o[0]+=4*s.v,s.ka=r-s.j,s.U=s.va-s.v,s.T=i-r,r=1),r){if(u=u[0],11>(r=t.ca).S){var h=r.f.RGBA,f=(i=r.S,o=s.U,s=s.T,l=h.eb,h.A),d=s;for(h=h.fb+t.Ma*h.A;0<d--;){var p=a,g=u,m=o,v=l,y=h;switch(i){case Rr:tr(p,g,m,v,y);break;case Fr:er(p,g,m,v,y);break;case Hr:er(p,g,m,v,y),Sr(v,y,0,m,1,0);break;case jr:ir(p,g,m,v,y);break;case Ur:et(p,g,m,v,y,1);break;case zr:et(p,g,m,v,y,1),Sr(v,y,0,m,1,0);break;case qr:et(p,g,m,v,y,0);break;case Wr:et(p,g,m,v,y,0),Sr(v,y,1,m,1,0);break;case Br:nr(p,g,m,v,y);break;case Gr:nr(p,g,m,v,y),xr(v,y,m,1,0);break;case Vr:rr(p,g,m,v,y);break;default:e(0)}u+=c,h+=f}t.Ma+=s}else alert("todo:EmitRescaledRowsYUVA");e(t.Ma<=r.height)}}t.C=n,e(t.C<=t.i)}function St(t){var e;if(0<t.ua)return 0;for(e=0;e<t.Wb;++e){var n=t.Ya[e].G,r=t.Ya[e].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function xt(t,n,r,i,o,s){if(0!=t.Z){var a=t.qd,u=t.rd;for(e(null!=mi[t.Z]);n<r;++n)mi[t.Z](a,u,i,o,i,o,s),a=i,u=o,o+=s;t.qd=a,t.rd=u}}function It(t,n){var r=t.l.ma,i=0==r.Z||1==r.Z?t.l.j:t.C;if(i=t.C<i?i:t.C,e(n<=t.l.o),n>i){var o=t.l.width,s=r.ca,a=r.tb+o*i,u=t.V,c=t.Ba+t.c*i,l=t.gc;e(1==t.ab),e(3==l[0].hc),Qn(l[0],i,n,u,c,s,a),xt(r,i,n,s,a,o)}t.C=t.Ma=n}function At(t,n,r,i,o,s,a){var u=t.$/i,c=t.$%i,l=t.m,h=t.s,f=r+t.$,d=f;o=r+i*o;var p=r+i*s,g=280+h.ua,m=t.Pb?u:16777216,v=0<h.ua?h.Wa:null,y=h.wc,b=f<p?_t(h,c,u):null;e(t.C<s),e(p<=o);var _=!1;t:for(;;){for(;_||f<p;){var w=0;if(u>=m){var A=f-r;e((m=t).Pb),m.wd=m.m,m.xd=A,0<m.s.ua&&D(m.s.Wa,m.s.vb),m=u+ti}if(c&y||(b=_t(h,c,u)),e(null!=b),b.Qb&&(n[f]=b.qb,_=!0),!_)if(I(l),b.jc){A=n;var k=f,E=b.pd[C(w=l)&Un-1];e(b.jc),256>E.g?(x(w,w.u+E.g),A[k]=E.value,w=0):(x(w,w.u+E.g-256),e(256<=E.value),w=E.value),0==w&&(_=!0)}else w=yt(b.G[0],b.H[0],l);if(l.h)break;if(_||256>w){if(!_)if(b.nd)n[f]=(b.qb|w<<8)>>>0;else{if(I(l),_=yt(b.G[1],b.H[1],l),I(l),A=yt(b.G[2],b.H[2],l),k=yt(b.G[3],b.H[3],l),l.h)break;n[f]=(k<<24|_<<16|w<<8|A)>>>0}if(_=!1,++f,++c>=i&&(c=0,++u,null!=a&&u<=s&&!(u%16)&&a(t,u),null!=v))for(;d<f;)w=n[d++],v.X[(506832829*w&4294967295)>>>v.Mb]=w}else if(280>w){if(w=mt(w-256,l),A=yt(b.G[4],b.H[4],l),I(l),A=vt(i,A=mt(A,l)),l.h)break;if(f-r<A||o-f<w)break t;for(k=0;k<w;++k)n[f+k]=n[f+k-A];for(f+=w,c+=w;c>=i;)c-=i,++u,null!=a&&u<=s&&!(u%16)&&a(t,u);if(e(f<=o),c&y&&(b=_t(h,c,u)),null!=v)for(;d<f;)w=n[d++],v.X[(506832829*w&4294967295)>>>v.Mb]=w}else{if(!(w<g))break t;for(_=w-280,e(null!=v);d<f;)w=n[d++],v.X[(506832829*w&4294967295)>>>v.Mb]=w;w=f,e(!(_>>>(A=v).Xa)),n[w]=A.X[_],_=!0}_||e(l.h==S(l))}if(t.Pb&&l.h&&f<o)e(t.m.h),t.a=5,t.m=t.wd,t.$=t.xd,0<t.s.ua&&D(t.s.vb,t.s.Wa);else{if(l.h)break t;null!=a&&a(t,u>s?s:u),t.a=0,t.$=f-r}return 1}return t.a=3,0}function kt(t){e(null!=t),t.vc=null,t.yc=null,t.Ya=null;var n=t.Wa;null!=n&&(n.X=null),t.vb=null,e(null!=t)}function Et(){var e=new an;return null==e?null:(e.a=0,e.xb=gi,nt("Predictor","VP8LPredictors"),nt("Predictor","VP8LPredictors_C"),nt("PredictorAdd","VP8LPredictorsAdd"),nt("PredictorAdd","VP8LPredictorsAdd_C"),Kn=G,Zn=$,tr=Q,er=X,nr=J,rr=Z,ir=tt,t.VP8LMapColor32b=Yn,t.VP8LMapColor8b=Xn,e)}function Tt(t,n,r,a,u){var c=1,f=[t],p=[n],g=a.m,m=a.s,v=null,y=0;t:for(;;){if(r)for(;c&&b(g,1);){var _=f,w=p,S=a,A=1,k=S.m,E=S.gc[S.ab],T=b(k,2);if(S.Oc&1<<T)c=0;else{switch(S.Oc|=1<<T,E.hc=T,E.Ea=_[0],E.nc=w[0],E.K=[null],++S.ab,e(4>=S.ab),T){case 0:case 1:E.b=b(k,3)+2,A=Tt(F(E.Ea,E.b),F(E.nc,E.b),0,S,E.K),E.K=E.K[0];break;case 3:var P,N=b(k,8)+1,O=16<N?0:4<N?1:2<N?2:3;if(_[0]=F(E.Ea,O),E.b=O,P=A=Tt(N,1,0,S,E.K)){var D,M=N,R=E,U=1<<(8>>R.b),q=o(U);if(null==q)P=0;else{var B=R.K[0],V=R.w;for(q[0]=R.K[0][0],D=1;D<1*M;++D)q[D]=j(B[V+D],q[D-1]);for(;D<4*U;++D)q[D]=0;R.K[0]=null,R.K[0]=q,P=1}}A=P;break;case 2:break;default:e(0)}c=A}}if(f=f[0],p=p[0],c&&b(g,1)&&!(c=1<=(y=b(g,4))&&11>=y)){a.a=3;break t}var H;if(H=c)e:{var z,W,G,K=a,$=f,Y=p,Q=y,X=r,J=K.m,Z=K.s,tt=[null],et=1,nt=0,rt=Zr[Q];n:for(;;){if(X&&b(J,1)){var it=b(J,3)+2,ot=F($,it),st=F(Y,it),at=ot*st;if(!Tt(ot,st,0,K,tt))break n;for(tt=tt[0],Z.xc=it,z=0;z<at;++z){var ut=tt[z]>>8&65535;tt[z]=ut,ut>=et&&(et=ut+1)}}if(J.h)break n;for(W=0;5>W;++W){var ct=Yr[W];!W&&0<Q&&(ct+=1<<Q),nt<ct&&(nt=ct)}var lt=s(et*rt,h),ht=et,ft=s(ht,d);if(null==ft)var dt=null;else e(65536>=ht),dt=ft;var pt=o(nt);if(null==dt||null==pt||null==lt){K.a=1;break n}var gt=lt;for(z=G=0;z<et;++z){var mt=dt[z],vt=mt.G,yt=mt.H,_t=0,wt=1,Ct=0;for(W=0;5>W;++W){ct=Yr[W],vt[W]=gt,yt[W]=G,!W&&0<Q&&(ct+=1<<Q);r:{var St,xt=ct,It=K,Et=pt,Pt=gt,Nt=G,Ot=0,Lt=It.m,Dt=b(Lt,1);if(i(Et,0,0,xt),Dt){var Mt=b(Lt,1)+1,Rt=b(Lt,1),Ft=b(Lt,0==Rt?1:8);Et[Ft]=1,2==Mt&&(Et[Ft=b(Lt,8)]=1);var jt=1}else{var Ut=o(19),qt=b(Lt,4)+4;if(19<qt){It.a=3;var Bt=0;break r}for(St=0;St<qt;++St)Ut[Xr[St]]=b(Lt,3);var Vt=void 0,Ht=void 0,zt=It,Wt=Ut,Gt=xt,Kt=Et,$t=0,Yt=zt.m,Qt=8,Xt=s(128,h);i:for(;l(Xt,0,7,Wt,19);){if(b(Yt,1)){var Jt=2+2*b(Yt,3);if((Vt=2+b(Yt,Jt))>Gt)break i}else Vt=Gt;for(Ht=0;Ht<Gt&&Vt--;){I(Yt);var Zt=Xt[0+(127&C(Yt))];x(Yt,Yt.u+Zt.g);var te=Zt.value;if(16>te)Kt[Ht++]=te,0!=te&&(Qt=te);else{var ee=16==te,ne=te-16,re=$r[ne],ie=b(Yt,Kr[ne])+re;if(Ht+ie>Gt)break i;for(var oe=ee?Qt:0;0<ie--;)Kt[Ht++]=oe}}$t=1;break i}$t||(zt.a=3),jt=$t}(jt=jt&&!Lt.h)&&(Ot=l(Pt,Nt,8,Et,xt)),jt&&0!=Ot?Bt=Ot:(It.a=3,Bt=0)}if(0==Bt)break n;if(wt&&1==Qr[W]&&(wt=0==gt[G].g),_t+=gt[G].g,G+=Bt,3>=W){var se,ae=pt[0];for(se=1;se<ct;++se)pt[se]>ae&&(ae=pt[se]);Ct+=ae}}if(mt.nd=wt,mt.Qb=0,wt&&(mt.qb=(vt[3][yt[3]+0].value<<24|vt[1][yt[1]+0].value<<16|vt[2][yt[2]+0].value)>>>0,0==_t&&256>vt[0][yt[0]+0].value&&(mt.Qb=1,mt.qb+=vt[0][yt[0]+0].value<<8)),mt.jc=!mt.Qb&&6>Ct,mt.jc){var ue,ce=mt;for(ue=0;ue<Un;++ue){var le=ue,he=ce.pd[le],fe=ce.G[0][ce.H[0]+le];256<=fe.value?(he.g=fe.g+256,he.value=fe.value):(he.g=0,he.value=0,le>>=bt(fe,8,he),le>>=bt(ce.G[1][ce.H[1]+le],16,he),le>>=bt(ce.G[2][ce.H[2]+le],0,he),bt(ce.G[3][ce.H[3]+le],24,he))}}}Z.vc=tt,Z.Wb=et,Z.Ya=dt,Z.yc=lt,H=1;break e}H=0}if(!(c=H)){a.a=3;break t}if(0<y){if(m.ua=1<<y,!L(m.Wa,y)){a.a=1,c=0;break t}}else m.ua=0;var de=a,pe=f,ge=p,me=de.s,ve=me.xc;if(de.c=pe,de.i=ge,me.md=F(pe,ve),me.wc=0==ve?-1:(1<<ve)-1,r){a.xb=pi;break t}if(null==(v=o(f*p))){a.a=1,c=0;break t}c=(c=At(a,v,0,f,p,p,null))&&!g.h;break t}return c?(null!=u?u[0]=v:(e(null==v),e(r)),a.$=0,r||kt(m)):kt(m),c}function Pt(t,n){var r=t.c*t.i,i=r+n+16*n;return e(t.c<=n),t.V=o(i),null==t.V?(t.Ta=null,t.Ua=0,t.a=1,0):(t.Ta=t.V,t.Ua=t.Ba+r+n,1)}function Nt(t,n){var r=t.C,i=n-r,o=t.V,s=t.Ba+t.c*r;for(e(n<=t.l.o);0<i;){var a=16<i?16:i,u=t.l.ma,c=t.l.width,l=c*a,h=u.ca,f=u.tb+c*r,d=t.Ta,p=t.Ua;wt(t,a,o,s),Ar(d,p,h,f,l),xt(u,r,r+a,h,f,c),i-=a,o+=a*t.c,r+=a}e(r==n),t.C=t.Ma=n}function Ot(){this.ub=this.yd=this.td=this.Rb=0}function Lt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Dt(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Mt(){this.Yb=function(){var t=[];return function t(e,n,r){for(var i=r[n],o=0;o<i&&(e.push(r.length>n+1?[]:0),!(r.length<n+1));o++)t(e[o],n+1,r)}(t,0,[3,11]),t}()}function Rt(){this.jb=o(3),this.Wc=a([4,8],Mt),this.Xc=a([4,17],Mt)}function Ft(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function jt(){this.ld=this.La=this.dd=this.tc=0}function Ut(){this.Na=this.la=0}function qt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bt(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vt(){this.uc=this.M=this.Nb=0,this.wa=Array(new jt),this.Y=0,this.ya=Array(new Bt),this.aa=0,this.l=new Gt}function Ht(){this.y=o(16),this.f=o(8),this.ea=o(8)}function zt(){this.cb=this.a=0,this.sc="",this.m=new _,this.Od=new Ot,this.Kc=new Lt,this.ed=new Ft,this.Qa=new Dt,this.Ic=this.$c=this.Aa=0,this.D=new Vt,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,_),this.ia=0,this.pb=s(4,qt),this.Pa=new Rt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ht),this.Hd=0,this.rb=Array(new Ut),this.sb=0,this.wa=Array(new jt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bt),this.L=this.aa=0,this.gd=a([4,2],jt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Wt(t,e){return 0>t?0:t>e?e:t}function Gt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Kt(){var t=new zt;return null!=t&&(t.a=0,t.sc="OK",t.cb=0,t.Xb=0,ri||(ri=Xt)),t}function $t(t,e,n){return 0==t.a&&(t.a=e,t.sc=n,t.cb=0),0}function Yt(t,e,n){return 3<=n&&157==t[e+0]&&1==t[e+1]&&42==t[e+2]}function Qt(t,n){if(null==t)return 0;if(t.a=0,t.sc="OK",null==n)return $t(t,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,o=n.w,s=n.ha;if(4>s)return $t(t,7,"Truncated header.");var a=r[o+0]|r[o+1]<<8|r[o+2]<<16,u=t.Od;if(u.Rb=!(1&a),u.td=a>>1&7,u.yd=a>>4&1,u.ub=a>>5,3<u.td)return $t(t,3,"Incorrect keyframe parameters.");if(!u.yd)return $t(t,4,"Frame not displayable.");o+=3,s-=3;var c=t.Kc;if(u.Rb){if(7>s)return $t(t,7,"cannot parse picture header");if(!Yt(r,o,s))return $t(t,3,"Bad code word");c.c=16383&(r[o+4]<<8|r[o+3]),c.Td=r[o+4]>>6,c.i=16383&(r[o+6]<<8|r[o+5]),c.Ud=r[o+6]>>6,o+=7,s-=7,t.za=c.c+15>>4,t.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,i((a=t.Pa).jb,0,255,a.jb.length),e(null!=(a=t.Qa)),a.Cb=0,a.Bb=0,a.Fb=1,i(a.Zb,0,0,a.Zb.length),i(a.Lb,0,0,a.Lb)}if(u.ub>s)return $t(t,7,"bad partition length");p(a=t.m,r,o,u.ub),o+=u.ub,s-=u.ub,u.Rb&&(c.Ld=k(a),c.Kd=k(a)),c=t.Qa;var l,h=t.Pa;if(e(null!=a),e(null!=c),c.Cb=k(a),c.Cb){if(c.Bb=k(a),k(a)){for(c.Fb=k(a),l=0;4>l;++l)c.Zb[l]=k(a)?m(a,7):0;for(l=0;4>l;++l)c.Lb[l]=k(a)?m(a,6):0}if(c.Bb)for(l=0;3>l;++l)h.jb[l]=k(a)?g(a,8):255}else c.Bb=0;if(a.Ka)return $t(t,3,"cannot parse segment header");if((c=t.ed).zd=k(a),c.Tb=g(a,6),c.wb=g(a,3),c.Pc=k(a),c.Pc&&k(a)){for(h=0;4>h;++h)k(a)&&(c.vd[h]=m(a,6));for(h=0;4>h;++h)k(a)&&(c.od[h]=m(a,6))}if(t.L=0==c.Tb?0:c.zd?1:2,a.Ka)return $t(t,3,"cannot parse filter header");var f=s;if(s=l=o,o=l+f,c=f,t.Xb=(1<<g(t.m,2))-1,f<3*(h=t.Xb))r=7;else{for(l+=3*h,c-=3*h,f=0;f<h;++f){var d=r[s+0]|r[s+1]<<8|r[s+2]<<16;d>c&&(d=c),p(t.Jc[+f],r,l,d),l+=d,c-=d,s+=3}p(t.Jc[+h],r,l,c),r=l<o?0:5}if(0!=r)return $t(t,r,"cannot parse partitions");for(r=g(l=t.m,7),s=k(l)?m(l,4):0,o=k(l)?m(l,4):0,c=k(l)?m(l,4):0,h=k(l)?m(l,4):0,l=k(l)?m(l,4):0,f=t.Qa,d=0;4>d;++d){if(f.Cb){var v=f.Zb[d];f.Fb||(v+=r)}else{if(0<d){t.pb[d]=t.pb[0];continue}v=r}var y=t.pb[d];y.Sc[0]=ei[Wt(v+s,127)],y.Sc[1]=ni[Wt(v+0,127)],y.Eb[0]=2*ei[Wt(v+o,127)],y.Eb[1]=101581*ni[Wt(v+c,127)]>>16,8>y.Eb[1]&&(y.Eb[1]=8),y.Qc[0]=ei[Wt(v+h,117)],y.Qc[1]=ni[Wt(v+l,127)],y.lc=v+l}if(!u.Rb)return $t(t,4,"Not a key frame.");for(k(a),u=t.Pa,r=0;4>r;++r){for(s=0;8>s;++s)for(o=0;3>o;++o)for(c=0;11>c;++c)h=E(a,ci[r][s][o][c])?g(a,8):ai[r][s][o][c],u.Wc[r][s].Yb[o][c]=h;for(s=0;17>s;++s)u.Xc[r][s]=u.Wc[r][li[s]]}return t.kc=k(a),t.kc&&(t.Bd=g(a,8)),t.cb=1}function Xt(t,e,n,r,i,o,s){var a=e[i].Yb[n];for(n=0;16>i;++i){if(!E(t,a[n+0]))return i;for(;!E(t,a[n+1]);)if(a=e[++i].Yb[0],n=0,16==i)return 16;var u=e[i+1].Yb;if(E(t,a[n+2])){var c=t,l=0;if(E(c,(f=a)[(h=n)+3]))if(E(c,f[h+6])){for(a=0,h=2*(l=E(c,f[h+8]))+(f=E(c,f[h+9+l])),l=0,f=ii[h];f[a];++a)l+=l+E(c,f[a]);l+=3+(8<<h)}else E(c,f[h+7])?(l=7+2*E(c,165),l+=E(c,145)):l=5+E(c,159);else l=E(c,f[h+4])?3+E(c,f[h+5]):2;a=u[2]}else l=1,a=u[1];u=s+oi[i],0>(c=t).b&&A(c);var h,f=c.b,d=(h=c.Ca>>1)-(c.I>>f)>>31;--c.b,c.Ca+=d,c.Ca|=1,c.I-=(h+1&d)<<f,o[u]=((l^d)-d)*r[(0<i)+0]}return 16}function Jt(t){var e=t.rb[t.sb-1];e.la=0,e.Na=0,i(t.zc,0,0,t.zc.length),t.ja=0}function Zt(t,n){if(null==t)return 0;if(null==n)return $t(t,2,"NULL VP8Io parameter in VP8Decode().");if(!t.cb&&!Qt(t,n))return 0;if(e(t.cb),null==n.ac||n.ac(n)){n.ob&&(t.L=0);var a=Ui[t.L];if(2==t.L?(t.yb=0,t.zb=0):(t.yb=n.v-a>>4,t.zb=n.j-a>>4,0>t.yb&&(t.yb=0),0>t.zb&&(t.zb=0)),t.Va=n.o+15+a>>4,t.Hb=n.va+15+a>>4,t.Hb>t.za&&(t.Hb=t.za),t.Va>t.Ub&&(t.Va=t.Ub),0<t.L){var u=t.ed;for(a=0;4>a;++a){var c;if(t.Qa.Cb){var l=t.Qa.Lb[a];t.Qa.Fb||(l+=u.Tb)}else l=u.Tb;for(c=0;1>=c;++c){var h=t.gd[a][c],f=l;if(u.Pc&&(f+=u.vd[0],c&&(f+=u.od[0])),0<(f=0>f?0:63<f?63:f)){var d=f;0<u.wb&&(d=4<u.wb?d>>2:d>>1)>9-u.wb&&(d=9-u.wb),1>d&&(d=1),h.dd=d,h.tc=2*f+d,h.ld=40<=f?2:15<=f?1:0}else h.tc=0;h.La=c}}}a=0}else $t(t,6,"Frame setup failed"),a=t.a;if(a=0==a){if(a){t.$c=0,0<t.Aa||(t.Ic=Bi);t:{u=4*(d=t.za);var p=32*d,g=d+1,m=0<t.L?d*(0<t.Aa?2:1):0,v=(2==t.Aa?2:1)*d;if((h=u+832+(c=3*(16*(a=t.Ic)+Ui[t.L])/2*p)+(l=null!=t.Fa&&0<t.Fa.length?t.Kc.c*t.Kc.i:0))!=h)a=0;else{if(h>t.Vb){if(t.Vb=0,t.Ec=o(h),t.Fc=0,null==t.Ec){a=$t(t,1,"no memory during frame initialization.");break t}t.Vb=h}f=t.Fc,t.Ac=h=t.Ec,t.Bc=f,f+=u,t.Gd=s(p,Ht),t.Hd=0,t.rb=s(g+1,Ut),t.sb=1,t.wa=m?s(m,jt):null,t.Y=0,t.D.Nb=0,t.D.wa=t.wa,t.D.Y=t.Y,0<t.Aa&&(t.D.Y+=d),e(!0),t.oc=h,t.pc=f,f+=832,t.ya=s(v,Bt),t.aa=0,t.D.ya=t.ya,t.D.aa=t.aa,2==t.Aa&&(t.D.aa+=d),t.R=16*d,t.B=8*d,d=(p=Ui[t.L])*t.R,p=p/2*t.B,t.sa=h,t.ta=f+d,t.qa=t.sa,t.ra=t.ta+16*a*t.R+p,t.Ha=t.qa,t.Ia=t.ra+8*a*t.B+p,t.$c=0,f+=c,t.mb=l?h:null,t.nb=l?f:null,e(f+l<=t.Fc+t.Vb),Jt(t),i(t.Ac,t.Bc,0,u),a=1}}if(a){if(n.ka=0,n.y=t.sa,n.O=t.ta,n.f=t.qa,n.N=t.ra,n.ea=t.Ha,n.Vd=t.Ia,n.fa=t.R,n.Rc=t.B,n.F=null,n.J=0,!Nr){for(a=-255;255>=a;++a)kr[255+a]=0>a?-a:a;for(a=-1020;1020>=a;++a)Er[1020+a]=-128>a?-128:127<a?127:a;for(a=-112;112>=a;++a)Tr[112+a]=-16>a?-16:15<a?15:a;for(a=-255;510>=a;++a)Pr[255+a]=0>a?0:255<a?255:a;Nr=1}or=ce,sr=oe,ur=se,cr=ae,lr=ue,ar=ie,hr=$e,fr=Ye,dr=Je,pr=Ze,gr=Qe,mr=Xe,vr=tn,yr=en,br=Ve,_r=He,wr=ze,Cr=We,fi[0]=xe,fi[1]=he,fi[2]=Ce,fi[3]=Se,fi[4]=Ie,fi[5]=ke,fi[6]=Ae,fi[7]=Ee,fi[8]=Pe,fi[9]=Te,hi[0]=ve,hi[1]=de,hi[2]=pe,hi[3]=ge,hi[4]=ye,hi[5]=be,hi[6]=_e,di[0]=De,di[1]=fe,di[2]=Ne,di[3]=Oe,di[4]=Re,di[5]=Me,di[6]=Fe,a=1}else a=0}a&&(a=function(t,n){for(t.M=0;t.M<t.Va;++t.M){var s,a=t.Jc[t.M&t.Xb],u=t.m,c=t;for(s=0;s<c.za;++s){var l=u,h=c,f=h.Ac,d=h.Bc+4*s,p=h.zc,g=h.ya[h.aa+s];if(g.$b=h.Qa.Bb?E(l,h.Pa.jb[0])?2+E(l,h.Pa.jb[2]):E(l,h.Pa.jb[1]):0,h.kc&&(g.Ad=E(l,h.Bd)),g.Za=!E(l,145)+0,g.Za){var m=g.Ob,v=0;for(h=0;4>h;++h){var y,b=p[0+h];for(y=0;4>y;++y){for(var _=si[E(l,(b=ui[f[d+y]][b])[0])];0<_;)_=si[2*_+E(l,b[_])];f[d+y]=b=-_}r(m,v,f,d,4),v+=4,p[0+h]=b}}else b=E(l,156)?E(l,128)?1:3:E(l,163)?2:0,g.Ob[0]=b,i(f,d,b,4),i(p,0,b,4);g.Dd=E(l,142)?E(l,114)?E(l,183)?1:3:2:0}if(c.m.Ka)return $t(t,7,"Premature end-of-partition0 encountered.");for(;t.ja<t.za;++t.ja){if(c=a,l=(u=t).rb[u.sb-1],f=u.rb[u.sb+u.ja],s=u.ya[u.aa+u.ja],d=u.kc?s.Ad:0)l.la=f.la=0,s.Za||(l.Na=f.Na=0),s.Hc=0,s.Gc=0,s.ia=0;else{var w,C;if(l=f,f=c,d=u.Pa.Xc,g=u.pb[(p=u.ya[u.aa+u.ja]).$b],v=u.rb[u.sb-1],b=y=0,i(h=p.ad,m=0,0,384),p.Za)var S=0,x=d[3];else{_=o(16);var I=l.Na+v.Na;if(I=ri(f,d[1],I,g.Eb,0,_,0),l.Na=v.Na=(0<I)+0,1<I)or(_,0,h,m);else{var A=_[0]+3>>3;for(_=0;256>_;_+=16)h[m+_]=A}S=1,x=d[0]}var k=15&l.la,T=15&v.la;for(_=0;4>_;++_){var P=1&T;for(A=C=0;4>A;++A)k=k>>1|(P=(I=ri(f,x,I=P+(1&k),g.Sc,S,h,m))>S)<<7,C=C<<2|(3<I?3:1<I?2:0!=h[m+0]),m+=16;k>>=4,T=T>>1|P<<7,y=(y<<8|C)>>>0}for(x=k,S=T>>4,w=0;4>w;w+=2){for(C=0,k=l.la>>4+w,T=v.la>>4+w,_=0;2>_;++_){for(P=1&T,A=0;2>A;++A)k=k>>1|(P=0<(I=ri(f,d[2],I=P+(1&k),g.Qc,0,h,m)))<<3,C=C<<2|(3<I?3:1<I?2:0!=h[m+0]),m+=16;k>>=2,T=T>>1|P<<5}b|=C<<4*w,x|=k<<4<<w,S|=(240&T)<<w}l.la=x,v.la=S,p.Hc=y,p.Gc=b,p.ia=43690&b?0:g.ia,d=!(y|b)}if(0<u.L&&(u.wa[u.Y+u.ja]=u.gd[s.$b][s.Za],u.wa[u.Y+u.ja].La|=!d),c.Ka)return $t(t,7,"Premature end-of-file encountered.")}if(Jt(t),u=n,c=1,s=(a=t).D,l=0<a.L&&a.M>=a.zb&&a.M<=a.Va,0==a.Aa)t:{if(s.M=a.M,s.uc=l,Dn(a,s),c=1,s=(C=a.D).Nb,l=(b=Ui[a.L])*a.R,d=a.sa,p=a.ta-l+(_=16*s*a.R),g=a.qa,h=a.ra-(f=b/2*a.B)+(A=8*s*a.B),m=a.Ha,v=a.Ia-f+A,T=0==(k=C.M),y=k>=a.Va-1,2==a.Aa&&Dn(a,C),C.uc)for(P=(I=a).D.M,e(I.D.uc),C=I.yb;C<I.Hb;++C){x=P;var N=(O=(B=I).D).Nb,O=O.wa[O.Y+(S=C)],L=B.sa,D=B.ta+16*N*(w=B.R)+16*S,M=O.dd,R=O.tc;if(0!=R)if(e(3<=R),1==B.L)0<S&&_r(L,D,w,R+4),O.La&&Cr(L,D,w,R),0<x&&br(L,D,w,R+4),O.La&&wr(L,D,w,R);else{var F=B.B,j=B.qa,U=B.ra+8*N*F+8*S,q=B.Ha,B=B.Ia+8*N*F+8*S;N=O.ld,0<S&&(fr(L,D,w,R+4,M,N),pr(j,U,q,B,F,R+4,M,N)),O.La&&(mr(L,D,w,R,M,N),yr(j,U,q,B,F,R,M,N)),0<x&&(hr(L,D,w,R+4,M,N),dr(j,U,q,B,F,R+4,M,N)),O.La&&(gr(L,D,w,R,M,N),vr(j,U,q,B,F,R,M,N))}}if(a.ia&&alert("todo:DitherRow"),null!=u.put){if(C=16*k,k=16*(k+1),T?(u.y=a.sa,u.O=a.ta+_,u.f=a.qa,u.N=a.ra+A,u.ea=a.Ha,u.W=a.Ia+A):(C-=b,u.y=d,u.O=p,u.f=g,u.N=h,u.ea=m,u.W=v),y||(k-=b),k>u.o&&(k=u.o),u.F=null,u.J=null,null!=a.Fa&&0<a.Fa.length&&C<k&&(u.J=fn(a,u,C,k-C),u.F=a.mb,null==u.F&&0==u.F.length)){c=$t(a,3,"Could not decode alpha data.");break t}C<u.j&&(b=u.j-C,C=u.j,e(!(1&b)),u.O+=a.R*b,u.N+=a.B*(b>>1),u.W+=a.B*(b>>1),null!=u.F&&(u.J+=u.width*b)),C<k&&(u.O+=u.v,u.N+=u.v>>1,u.W+=u.v>>1,null!=u.F&&(u.J+=u.v),u.ka=C-u.j,u.U=u.va-u.v,u.T=k-C,c=u.put(u))}s+1!=a.Ic||y||(r(a.sa,a.ta-l,d,p+16*a.R,l),r(a.qa,a.ra-f,g,h+8*a.B,f),r(a.Ha,a.Ia-f,m,v+8*a.B,f))}if(!c)return $t(t,6,"Output aborted.")}return 1}(t,n)),null!=n.bc&&n.bc(n),a&=1}return a?(t.cb=0,a):0}function te(t,e,n,r,i){t[e+n+32*r]=-256&(i=t[e+n+32*r]+(i>>3))?0>i?0:255:i}function ee(t,e,n,r,i,o){te(t,e,0,n,r+i),te(t,e,1,n,r+o),te(t,e,2,n,r-o),te(t,e,3,n,r-i)}function ne(t){return(20091*t>>16)+t}function re(t,e,n,r){var i,s=0,a=o(16);for(i=0;4>i;++i){var u=t[e+0]+t[e+8],c=t[e+0]-t[e+8],l=(35468*t[e+4]>>16)-ne(t[e+12]),h=ne(t[e+4])+(35468*t[e+12]>>16);a[s+0]=u+h,a[s+1]=c+l,a[s+2]=c-l,a[s+3]=u-h,s+=4,e++}for(i=s=0;4>i;++i)u=(t=a[s+0]+4)+a[s+8],c=t-a[s+8],l=(35468*a[s+4]>>16)-ne(a[s+12]),te(n,r,0,0,u+(h=ne(a[s+4])+(35468*a[s+12]>>16))),te(n,r,1,0,c+l),te(n,r,2,0,c-l),te(n,r,3,0,u-h),s++,r+=32}function ie(t,e,n,r){var i=t[e+0]+4,o=35468*t[e+4]>>16,s=ne(t[e+4]),a=35468*t[e+1]>>16;ee(n,r,0,i+s,t=ne(t[e+1]),a),ee(n,r,1,i+o,t,a),ee(n,r,2,i-o,t,a),ee(n,r,3,i-s,t,a)}function oe(t,e,n,r,i){re(t,e,n,r),i&&re(t,e+16,n,r+4)}function se(t,e,n,r){sr(t,e+0,n,r,1),sr(t,e+32,n,r+128,1)}function ae(t,e,n,r){var i;for(t=t[e+0]+4,i=0;4>i;++i)for(e=0;4>e;++e)te(n,r,e,i,t)}function ue(t,e,n,r){t[e+0]&&cr(t,e+0,n,r),t[e+16]&&cr(t,e+16,n,r+4),t[e+32]&&cr(t,e+32,n,r+128),t[e+48]&&cr(t,e+48,n,r+128+4)}function ce(t,e,n,r){var i,s=o(16);for(i=0;4>i;++i){var a=t[e+0+i]+t[e+12+i],u=t[e+4+i]+t[e+8+i],c=t[e+4+i]-t[e+8+i],l=t[e+0+i]-t[e+12+i];s[0+i]=a+u,s[8+i]=a-u,s[4+i]=l+c,s[12+i]=l-c}for(i=0;4>i;++i)a=(t=s[0+4*i]+3)+s[3+4*i],c=s[1+4*i]-s[2+4*i],l=t-s[3+4*i],n[r+0]=a+(u=s[1+4*i]+s[2+4*i])>>3,n[r+16]=l+c>>3,n[r+32]=a-u>>3,n[r+48]=l-c>>3,r+=64}function le(t,e,n){var r,i=e-32,o=Dr,s=255-t[i-1];for(r=0;r<n;++r){var a,u=o,c=s+t[e-1];for(a=0;a<n;++a)t[e+a]=u[c+t[i+a]];e+=32}}function he(t,e){le(t,e,4)}function fe(t,e){le(t,e,8)}function de(t,e){le(t,e,16)}function pe(t,e){var n;for(n=0;16>n;++n)r(t,e+32*n,t,e-32,16)}function ge(t,e){var n;for(n=16;0<n;--n)i(t,e,t[e-1],16),e+=32}function me(t,e,n){var r;for(r=0;16>r;++r)i(e,n+32*r,t,16)}function ve(t,e){var n,r=16;for(n=0;16>n;++n)r+=t[e-1+32*n]+t[e+n-32];me(r>>5,t,e)}function ye(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e-1+32*n];me(r>>4,t,e)}function be(t,e){var n,r=8;for(n=0;16>n;++n)r+=t[e+n-32];me(r>>4,t,e)}function _e(t,e){me(128,t,e)}function we(t,e,n){return t+2*e+n+2>>2}function Ce(t,e){var n,i=e-32;for(i=new Uint8Array([we(t[i-1],t[i+0],t[i+1]),we(t[i+0],t[i+1],t[i+2]),we(t[i+1],t[i+2],t[i+3]),we(t[i+2],t[i+3],t[i+4])]),n=0;4>n;++n)r(t,e+32*n,i,0,i.length)}function Se(t,e){var n=t[e-1],r=t[e-1+32],i=t[e-1+64],o=t[e-1+96];T(t,e+0,16843009*we(t[e-1-32],n,r)),T(t,e+32,16843009*we(n,r,i)),T(t,e+64,16843009*we(r,i,o)),T(t,e+96,16843009*we(i,o,o))}function xe(t,e){var n,r=4;for(n=0;4>n;++n)r+=t[e+n-32]+t[e-1+32*n];for(r>>=3,n=0;4>n;++n)i(t,e+32*n,r,4)}function Ie(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],o=t[e-1-32],s=t[e+0-32],a=t[e+1-32],u=t[e+2-32],c=t[e+3-32];t[e+0+96]=we(r,i,t[e-1+96]),t[e+1+96]=t[e+0+64]=we(n,r,i),t[e+2+96]=t[e+1+64]=t[e+0+32]=we(o,n,r),t[e+3+96]=t[e+2+64]=t[e+1+32]=t[e+0+0]=we(s,o,n),t[e+3+64]=t[e+2+32]=t[e+1+0]=we(a,s,o),t[e+3+32]=t[e+2+0]=we(u,a,s),t[e+3+0]=we(c,u,a)}function Ae(t,e){var n=t[e+1-32],r=t[e+2-32],i=t[e+3-32],o=t[e+4-32],s=t[e+5-32],a=t[e+6-32],u=t[e+7-32];t[e+0+0]=we(t[e+0-32],n,r),t[e+1+0]=t[e+0+32]=we(n,r,i),t[e+2+0]=t[e+1+32]=t[e+0+64]=we(r,i,o),t[e+3+0]=t[e+2+32]=t[e+1+64]=t[e+0+96]=we(i,o,s),t[e+3+32]=t[e+2+64]=t[e+1+96]=we(o,s,a),t[e+3+64]=t[e+2+96]=we(s,a,u),t[e+3+96]=we(a,u,u)}function ke(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],o=t[e-1-32],s=t[e+0-32],a=t[e+1-32],u=t[e+2-32],c=t[e+3-32];t[e+0+0]=t[e+1+64]=o+s+1>>1,t[e+1+0]=t[e+2+64]=s+a+1>>1,t[e+2+0]=t[e+3+64]=a+u+1>>1,t[e+3+0]=u+c+1>>1,t[e+0+96]=we(i,r,n),t[e+0+64]=we(r,n,o),t[e+0+32]=t[e+1+96]=we(n,o,s),t[e+1+32]=t[e+2+96]=we(o,s,a),t[e+2+32]=t[e+3+96]=we(s,a,u),t[e+3+32]=we(a,u,c)}function Ee(t,e){var n=t[e+0-32],r=t[e+1-32],i=t[e+2-32],o=t[e+3-32],s=t[e+4-32],a=t[e+5-32],u=t[e+6-32],c=t[e+7-32];t[e+0+0]=n+r+1>>1,t[e+1+0]=t[e+0+64]=r+i+1>>1,t[e+2+0]=t[e+1+64]=i+o+1>>1,t[e+3+0]=t[e+2+64]=o+s+1>>1,t[e+0+32]=we(n,r,i),t[e+1+32]=t[e+0+96]=we(r,i,o),t[e+2+32]=t[e+1+96]=we(i,o,s),t[e+3+32]=t[e+2+96]=we(o,s,a),t[e+3+64]=we(s,a,u),t[e+3+96]=we(a,u,c)}function Te(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],o=t[e-1+96];t[e+0+0]=n+r+1>>1,t[e+2+0]=t[e+0+32]=r+i+1>>1,t[e+2+32]=t[e+0+64]=i+o+1>>1,t[e+1+0]=we(n,r,i),t[e+3+0]=t[e+1+32]=we(r,i,o),t[e+3+32]=t[e+1+64]=we(i,o,o),t[e+3+64]=t[e+2+64]=t[e+0+96]=t[e+1+96]=t[e+2+96]=t[e+3+96]=o}function Pe(t,e){var n=t[e-1+0],r=t[e-1+32],i=t[e-1+64],o=t[e-1+96],s=t[e-1-32],a=t[e+0-32],u=t[e+1-32],c=t[e+2-32];t[e+0+0]=t[e+2+32]=n+s+1>>1,t[e+0+32]=t[e+2+64]=r+n+1>>1,t[e+0+64]=t[e+2+96]=i+r+1>>1,t[e+0+96]=o+i+1>>1,t[e+3+0]=we(a,u,c),t[e+2+0]=we(s,a,u),t[e+1+0]=t[e+3+32]=we(n,s,a),t[e+1+32]=t[e+3+64]=we(r,n,s),t[e+1+64]=t[e+3+96]=we(i,r,n),t[e+1+96]=we(o,i,r)}function Ne(t,e){var n;for(n=0;8>n;++n)r(t,e+32*n,t,e-32,8)}function Oe(t,e){var n;for(n=0;8>n;++n)i(t,e,t[e-1],8),e+=32}function Le(t,e,n){var r;for(r=0;8>r;++r)i(e,n+32*r,t,8)}function De(t,e){var n,r=8;for(n=0;8>n;++n)r+=t[e+n-32]+t[e-1+32*n];Le(r>>4,t,e)}function Me(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e+n-32];Le(r>>3,t,e)}function Re(t,e){var n,r=4;for(n=0;8>n;++n)r+=t[e-1+32*n];Le(r>>3,t,e)}function Fe(t,e){Le(128,t,e)}function je(t,e,n){var r=t[e-n],i=t[e+0],o=3*(i-r)+Or[1020+t[e-2*n]-t[e+n]],s=Lr[112+(o+4>>3)];t[e-n]=Dr[255+r+Lr[112+(o+3>>3)]],t[e+0]=Dr[255+i-s]}function Ue(t,e,n,r){return Mr[255+t[e-2*n]-t[e-n]]>r||Mr[255+t[e+n]-t[e+0]]>r}function qe(t,e,n,r){return 4*Mr[255+t[e-n]-t[e+0]]+Mr[255+t[e-2*n]-t[e+n]]<=r}function Be(t,e,n,r,i){var o=t[e-3*n],s=t[e-2*n],a=t[e-n],u=t[e+0],c=t[e+n],l=t[e+2*n];return 4*Mr[255+a-u]+Mr[255+s-c]>r?0:Mr[255+t[e-4*n]-o]<=i&&Mr[255+o-s]<=i&&Mr[255+s-a]<=i&&Mr[255+t[e+3*n]-l]<=i&&Mr[255+l-c]<=i&&Mr[255+c-u]<=i}function Ve(t,e,n,r){var i=2*r+1;for(r=0;16>r;++r)qe(t,e+r,n,i)&&je(t,e+r,n)}function He(t,e,n,r){var i=2*r+1;for(r=0;16>r;++r)qe(t,e+r*n,1,i)&&je(t,e+r*n,1)}function ze(t,e,n,r){var i;for(i=3;0<i;--i)Ve(t,e+=4*n,n,r)}function We(t,e,n,r){var i;for(i=3;0<i;--i)He(t,e+=4,n,r)}function Ge(t,e,n,r,i,o,s,a){for(o=2*o+1;0<i--;){if(Be(t,e,n,o,s))if(Ue(t,e,n,a))je(t,e,n);else{var u=t,c=e,l=n,h=u[c-2*l],f=u[c-l],d=u[c+0],p=u[c+l],g=u[c+2*l],m=27*(y=Or[1020+3*(d-f)+Or[1020+h-p]])+63>>7,v=18*y+63>>7,y=9*y+63>>7;u[c-3*l]=Dr[255+u[c-3*l]+y],u[c-2*l]=Dr[255+h+v],u[c-l]=Dr[255+f+m],u[c+0]=Dr[255+d-m],u[c+l]=Dr[255+p-v],u[c+2*l]=Dr[255+g-y]}e+=r}}function Ke(t,e,n,r,i,o,s,a){for(o=2*o+1;0<i--;){if(Be(t,e,n,o,s))if(Ue(t,e,n,a))je(t,e,n);else{var u=t,c=e,l=n,h=u[c-l],f=u[c+0],d=u[c+l],p=Lr[112+(4+(g=3*(f-h))>>3)],g=Lr[112+(g+3>>3)],m=p+1>>1;u[c-2*l]=Dr[255+u[c-2*l]+m],u[c-l]=Dr[255+h+g],u[c+0]=Dr[255+f-p],u[c+l]=Dr[255+d-m]}e+=r}}function $e(t,e,n,r,i,o){Ge(t,e,n,1,16,r,i,o)}function Ye(t,e,n,r,i,o){Ge(t,e,1,n,16,r,i,o)}function Qe(t,e,n,r,i,o){var s;for(s=3;0<s;--s)Ke(t,e+=4*n,n,1,16,r,i,o)}function Xe(t,e,n,r,i,o){var s;for(s=3;0<s;--s)Ke(t,e+=4,1,n,16,r,i,o)}function Je(t,e,n,r,i,o,s,a){Ge(t,e,i,1,8,o,s,a),Ge(n,r,i,1,8,o,s,a)}function Ze(t,e,n,r,i,o,s,a){Ge(t,e,1,i,8,o,s,a),Ge(n,r,1,i,8,o,s,a)}function tn(t,e,n,r,i,o,s,a){Ke(t,e+4*i,i,1,8,o,s,a),Ke(n,r+4*i,i,1,8,o,s,a)}function en(t,e,n,r,i,o,s,a){Ke(t,e+4,1,i,8,o,s,a),Ke(n,r+4,1,i,8,o,s,a)}function nn(){this.ba=new st,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function on(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new d,this.yc=new h}function an(){this.xb=this.a=0,this.l=new Gt,this.ca=new st,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=s(4,on),this.Oc=0}function un(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(t,e,n,r,i,o,s){for(t=null==t?0:t[e+0],e=0;e<s;++e)i[o+e]=t+n[r+e]&255,t=i[o+e]}function ln(t,e,n,r,i,o,s){var a;if(null==t)cn(null,null,n,r,i,o,s);else for(a=0;a<s;++a)i[o+a]=t[e+a]+n[r+a]&255}function hn(t,e,n,r,i,o,s){if(null==t)cn(null,null,n,r,i,o,s);else{var a,u=t[e+0],c=u,l=u;for(a=0;a<s;++a)c=l+(u=t[e+a])-c,l=n[r+a]+(-256&c?0>c?0:255:c)&255,c=u,i[o+a]=l}}function fn(t,n,i,s){var a=n.width,u=n.o;if(e(null!=t&&null!=n),0>i||0>=s||i+s>u)return null;if(!t.Cc){if(null==t.ga){var c;if(t.ga=new un,(c=null==t.ga)||(c=n.width*n.o,e(0==t.Gb.length),t.Gb=o(c),t.Uc=0,null==t.Gb?c=0:(t.mb=t.Gb,t.nb=t.Uc,t.rc=null,c=1),c=!c),!c){var l=t.Fa,h=t.P,f=t.qc,d=t.mb,p=t.nb,g=h+1,m=f-1,y=(c=t.ga).l;if(e(null!=l&&null!=d&&null!=n),mi[0]=null,mi[1]=cn,mi[2]=ln,mi[3]=hn,c.ca=d,c.tb=p,c.c=n.width,c.i=n.height,e(0<c.c&&0<c.i),1>=f)n=0;else if(c.$a=l[h+0]>>0&3,c.Z=l[h+0]>>2&3,c.Lc=l[h+0]>>4&3,h=l[h+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||h)n=0;else if(y.put=dt,y.ac=ft,y.bc=pt,y.ma=c,y.width=n.width,y.height=n.height,y.Da=n.Da,y.v=n.v,y.va=n.va,y.j=n.j,y.o=n.o,c.$a)t:{e(1==c.$a),n=Et();e:for(;;){if(null==n){n=0;break t}if(e(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,v(n.m,l,g,m),!Tt(c.c,c.i,1,n,null))break e;if(1==n.ab&&3==n.gc[0].hc&&St(n.s)?(c.ic=1,l=n.c*n.i,n.Ta=null,n.Ua=0,n.V=o(l),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Pt(n,c.c)),!n)break e;n=1;break t}c.mc=null,n=0}else n=m>=c.c*c.i;c=!n}if(c)return null;1!=t.ga.Lc?t.Ga=0:s=u-i}e(null!=t.ga),e(i+s<=u);t:{if(n=(l=t.ga).c,u=l.l.o,0==l.$a){if(g=t.rc,m=t.Vc,y=t.Fa,f=t.mb,d=t.nb+i*n,e((h=t.P+1+i*n)<=t.P+t.qc),0!=l.Z)for(e(null!=mi[l.Z]),c=0;c<s;++c)mi[l.Z](g,m,y,h,f,d,n),g=f,m=d,d+=n,h+=n;else for(c=0;c<s;++c)r(f,d,y,h,n),g=f,m=d,d+=n,h+=n;t.rc=g,t.Vc=m}else{if(e(null!=l.mc),n=i+s,e(null!=(c=l.mc)),e(n<=c.i),c.C>=n)n=1;else if(l.ic||vn(),l.ic){l=c.V,g=c.Ba;var b=c.i,_=(y=1,h=c.$/(m=c.c),f=c.$%m,d=c.m,p=c.s,c.$),w=m*b,C=m*n,x=p.wc,A=_<C?_t(p,f,h):null;e(_<=w),e(n<=b),e(St(p));e:for(;;){for(;!d.h&&_<C;){if(f&x||(A=_t(p,f,h)),e(null!=A),I(d),256>(b=yt(A.G[0],A.H[0],d)))l[g+_]=b,++_,++f>=m&&(f=0,++h<=n&&!(h%16)&&It(c,h));else{if(!(280>b)){y=0;break e}b=mt(b-256,d);var k,E=yt(A.G[4],A.H[4],d);if(I(d),!(_>=(E=vt(m,E=mt(E,d)))&&w-_>=b)){y=0;break e}for(k=0;k<b;++k)l[g+_+k]=l[g+_+k-E];for(_+=b,f+=b;f>=m;)f-=m,++h<=n&&!(h%16)&&It(c,h);_<C&&f&x&&(A=_t(p,f,h))}e(d.h==S(d))}It(c,h>n?n:h);break e}!y||d.h&&_<w?(y=0,c.a=d.h?5:3):c.$=_,n=y}else n=At(c,c.V,c.Ba,c.c,c.i,n,Nt);if(!n){s=0;break t}}i+s>=u&&(t.Cc=1),s=1}if(!s)return null;if(t.Cc&&(null!=(s=t.ga)&&(s.mc=null),t.ga=null,0<t.Ga))return alert("todo:WebPDequantizeLevels"),null}return t.nb+i*a}function dn(t,e,n,r,i,o){for(;0<i--;){var s,a=t,u=e+(n?1:0),c=t,l=e+(n?0:3);for(s=0;s<r;++s){var h=c[l+4*s];255!=h&&(a[u+4*s+0]=a[u+4*s+0]*(h*=32897)>>23,a[u+4*s+1]=a[u+4*s+1]*h>>23,a[u+4*s+2]=a[u+4*s+2]*h>>23)}e+=o}}function pn(t,e,n,r,i){for(;0<r--;){var o;for(o=0;o<n;++o){var s=t[e+2*o+0],a=15&(c=t[e+2*o+1]),u=4369*a,c=(240&c|c>>4)*u>>16;t[e+2*o+0]=(240&s|s>>4)*u>>16&240|(15&s|s<<4)*u>>16>>4&15,t[e+2*o+1]=240&c|a}e+=i}}function gn(t,e,n,r,i,o,s,a){var u,c,l=255;for(c=0;c<i;++c){for(u=0;u<r;++u){var h=t[e+u];o[s+4*u]=h,l&=h}e+=n,s+=a}return 255!=l}function mn(t,e,n,r,i){var o;for(o=0;o<i;++o)n[r+o]=t[e+o]>>8}function vn(){Sr=dn,xr=pn,Ir=gn,Ar=mn}function yn(n,r,i){t[n]=function(t,n,o,s,a,u,c,l,h,f,d,p,g,m,v,y,b){var _,w=b-1>>1,C=a[u+0]|c[l+0]<<16,S=h[f+0]|d[p+0]<<16;e(null!=t);var x=3*C+S+131074>>2;for(r(t[n+0],255&x,x>>16,g,m),null!=o&&r(o[s+0],255&(x=3*S+C+131074>>2),x>>16,v,y),_=1;_<=w;++_){var I=a[u+_]|c[l+_]<<16,A=h[f+_]|d[p+_]<<16,k=C+I+S+A+524296,E=k+2*(I+S)>>3;x=E+C>>1,C=(k=k+2*(C+A)>>3)+I>>1,r(t[n+2*_-1],255&x,x>>16,g,m+(2*_-1)*i),r(t[n+2*_-0],255&C,C>>16,g,m+(2*_-0)*i),null!=o&&(C=E+A>>1,r(o[s+2*_-1],255&(x=k+S>>1),x>>16,v,y+(2*_-1)*i),r(o[s+2*_+0],255&C,C>>16,v,y+(2*_+0)*i)),C=I,S=A}1&b||(r(t[n+b-1],255&(x=3*C+S+131074>>2),x>>16,g,m+(b-1)*i),null!=o&&r(o[s+b-1],255&(x=3*S+C+131074>>2),x>>16,v,y+(b-1)*i))}}function bn(){vi[Rr]=yi,vi[Fr]=_i,vi[jr]=bi,vi[Ur]=wi,vi[qr]=Ci,vi[Br]=Si,vi[Vr]=xi,vi[Hr]=_i,vi[zr]=wi,vi[Wr]=Ci,vi[Gr]=Si}function _n(t){return t&~Pi?0>t?0:255:t>>Ti}function wn(t,e){return _n((19077*t>>8)+(26149*e>>8)-14234)}function Cn(t,e,n){return _n((19077*t>>8)-(6419*e>>8)-(13320*n>>8)+8708)}function Sn(t,e){return _n((19077*t>>8)+(33050*e>>8)-17685)}function xn(t,e,n,r,i){r[i+0]=wn(t,n),r[i+1]=Cn(t,e,n),r[i+2]=Sn(t,e)}function In(t,e,n,r,i){r[i+0]=Sn(t,e),r[i+1]=Cn(t,e,n),r[i+2]=wn(t,n)}function An(t,e,n,r,i){var o=Cn(t,e,n);e=o<<3&224|Sn(t,e)>>3,r[i+0]=248&wn(t,n)|o>>5,r[i+1]=e}function kn(t,e,n,r,i){var o=240&Sn(t,e)|15;r[i+0]=240&wn(t,n)|Cn(t,e,n)>>4,r[i+1]=o}function En(t,e,n,r,i){r[i+0]=255,xn(t,e,n,r,i+1)}function Tn(t,e,n,r,i){In(t,e,n,r,i),r[i+3]=255}function Pn(t,e,n,r,i){xn(t,e,n,r,i),r[i+3]=255}function Wt(t,e){return 0>t?0:t>e?e:t}function Nn(e,n,r){t[e]=function(t,e,i,o,s,a,u,c,l){for(var h=c+(-2&l)*r;c!=h;)n(t[e+0],i[o+0],s[a+0],u,c),n(t[e+1],i[o+0],s[a+0],u,c+r),e+=2,++o,++a,c+=2*r;1&l&&n(t[e+0],i[o+0],s[a+0],u,c)}}function On(t,e,n){return 0==n?0==t?0==e?6:5:0==e?4:0:n}function Ln(t,e,n,r,i){switch(t>>>30){case 3:sr(e,n,r,i,0);break;case 2:ar(e,n,r,i);break;case 1:cr(e,n,r,i)}}function Dn(t,e){var n,o,s=e.M,a=e.Nb,u=t.oc,c=t.pc+40,l=t.oc,h=t.pc+584,f=t.oc,d=t.pc+600;for(n=0;16>n;++n)u[c+32*n-1]=129;for(n=0;8>n;++n)l[h+32*n-1]=129,f[d+32*n-1]=129;for(0<s?u[c-1-32]=l[h-1-32]=f[d-1-32]=129:(i(u,c-32-1,127,21),i(l,h-32-1,127,9),i(f,d-32-1,127,9)),o=0;o<t.za;++o){var p=e.ya[e.aa+o];if(0<o){for(n=-1;16>n;++n)r(u,c+32*n-4,u,c+32*n+12,4);for(n=-1;8>n;++n)r(l,h+32*n-4,l,h+32*n+4,4),r(f,d+32*n-4,f,d+32*n+4,4)}var g=t.Gd,m=t.Hd+o,v=p.ad,y=p.Hc;if(0<s&&(r(u,c-32,g[m].y,0,16),r(l,h-32,g[m].f,0,8),r(f,d-32,g[m].ea,0,8)),p.Za){var b=u,_=c-32+16;for(0<s&&(o>=t.za-1?i(b,_,g[m].y[15],4):r(b,_,g[m+1].y,0,4)),n=0;4>n;n++)b[_+128+n]=b[_+256+n]=b[_+384+n]=b[_+0+n];for(n=0;16>n;++n,y<<=2)fi[p.Ob[n]](b=u,_=c+ji[n]),Ln(y,v,16*+n,b,_)}else if(b=On(o,s,p.Ob[0]),hi[b](u,c),0!=y)for(n=0;16>n;++n,y<<=2)Ln(y,v,16*+n,u,c+ji[n]);for(n=p.Gc,b=On(o,s,p.Dd),di[b](l,h),di[b](f,d),y=v,b=l,_=h,255&(p=n>>0)&&(170&p?ur(y,256,b,_):lr(y,256,b,_)),p=f,y=d,255&(n>>=8)&&(170&n?ur(v,320,p,y):lr(v,320,p,y)),s<t.Ub-1&&(r(g[m].y,0,u,c+480,16),r(g[m].f,0,l,h+224,8),r(g[m].ea,0,f,d+224,8)),g=t.sa,m=t.ta+16*o+16*a*t.R,v=t.qa,p=t.ra+8*o+(n=8*a*t.B),y=t.Ha,b=t.Ia+8*o+n,n=0;16>n;++n)r(g,m+n*t.R,u,c+32*n,16);for(n=0;8>n;++n)r(v,p+n*t.B,l,h+32*n,8),r(y,b+n*t.B,f,d+32*n,8)}}function Mn(t,r,i,o,s,a,u,c,l){var h=[0],f=[0],d=0,p=null!=l?l.kd:0,g=null!=l?l:new rn;if(null==t||12>i)return 7;g.data=t,g.w=r,g.ha=i,r=[r],i=[i],g.gb=[g.gb];t:{var m=r,y=i,b=g.gb;if(e(null!=t),e(null!=y),e(null!=b),b[0]=0,12<=y[0]&&!n(t,m[0],"RIFF")){if(n(t,m[0]+8,"WEBP")){b=3;break t}var _=O(t,m[0]+4);if(12>_||4294967286<_){b=3;break t}if(p&&_>y[0]-8){b=7;break t}b[0]=_,m[0]+=12,y[0]-=12}b=0}if(0!=b)return b;for(_=0<g.gb[0],i=i[0];;){t:{var C=t;y=r,b=i;var S=h,x=f,I=m=[0];if((E=d=[d])[0]=0,8>b[0])b=7;else{if(!n(C,y[0],"VP8X")){if(10!=O(C,y[0]+4)){b=3;break t}if(18>b[0]){b=7;break t}var A=O(C,y[0]+8),k=1+N(C,y[0]+12);if(2147483648<=k*(C=1+N(C,y[0]+15))){b=3;break t}null!=I&&(I[0]=A),null!=S&&(S[0]=k),null!=x&&(x[0]=C),y[0]+=18,b[0]-=18,E[0]=1}b=0}}if(d=d[0],0!=b)return b;if(y=!!(2&(m=m[0])),!_&&d)return 3;if(null!=a&&(a[0]=!!(16&m)),null!=u&&(u[0]=y),null!=c&&(c[0]=0),u=h[0],m=f[0],d&&y&&null==l){b=0;break}if(4>i){b=7;break}if(_&&d||!_&&!d&&!n(t,r[0],"ALPH")){i=[i],g.na=[g.na],g.P=[g.P],g.Sa=[g.Sa];t:{b=r,_=i;var E=g.gb;S=g.na,x=g.P,I=g.Sa,k=22,e(null!=(A=t)),e(null!=_),C=b[0];var T=_[0];for(e(null!=S),e(null!=I),S[0]=null,x[0]=null,I[0]=0;;){if(b[0]=C,_[0]=T,8>T){b=7;break t}var P=O(A,C+4);if(4294967286<P){b=3;break t}var L=8+P+1&-2;if(k+=L,0<E&&k>E){b=3;break t}if(!n(A,C,"VP8 ")||!n(A,C,"VP8L")){b=0;break t}if(T[0]<L){b=7;break t}n(A,C,"ALPH")||(S[0]=A,x[0]=C+8,I[0]=P),C+=L,T-=L}}if(i=i[0],g.na=g.na[0],g.P=g.P[0],g.Sa=g.Sa[0],0!=b)break}i=[i],g.Ja=[g.Ja],g.xa=[g.xa];t:if(E=t,b=r,_=i,S=g.gb[0],x=g.Ja,I=g.xa,A=b[0],C=!n(E,A,"VP8 "),k=!n(E,A,"VP8L"),e(null!=E),e(null!=_),e(null!=x),e(null!=I),8>_[0])b=7;else{if(C||k){if(E=O(E,A+4),12<=S&&E>S-12){b=3;break t}if(p&&E>_[0]-8){b=7;break t}x[0]=E,b[0]+=8,_[0]-=8,I[0]=k}else I[0]=5<=_[0]&&47==E[A+0]&&!(E[A+4]>>5),x[0]=_[0];b=0}if(i=i[0],g.Ja=g.Ja[0],g.xa=g.xa[0],r=r[0],0!=b)break;if(4294967286<g.Ja)return 3;if(null==c||y||(c[0]=g.xa?2:1),u=[u],m=[m],g.xa){if(5>i){b=7;break}c=u,p=m,y=a,null==t||5>i?t=0:5<=i&&47==t[r+0]&&!(t[r+4]>>5)?(_=[0],E=[0],S=[0],v(x=new w,t,r,i),gt(x,_,E,S)?(null!=c&&(c[0]=_[0]),null!=p&&(p[0]=E[0]),null!=y&&(y[0]=S[0]),t=1):t=0):t=0}else{if(10>i){b=7;break}c=m,null==t||10>i||!Yt(t,r+3,i-3)?t=0:(p=t[r+0]|t[r+1]<<8|t[r+2]<<16,y=16383&(t[r+7]<<8|t[r+6]),t=16383&(t[r+9]<<8|t[r+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=g.Ja||!y||!t?t=0:(u&&(u[0]=y),c&&(c[0]=t),t=1))}if(!t)return 3;if(u=u[0],m=m[0],d&&(h[0]!=u||f[0]!=m))return 3;null!=l&&(l[0]=g,l.offset=r-l.w,e(4294967286>r-l.w),e(l.offset==l.ha-i));break}return 0==b||7==b&&d&&null==l?(null!=a&&(a[0]|=null!=g.na&&0<g.na.length),null!=o&&(o[0]=u),null!=s&&(s[0]=m),0):b}function Rn(t,e,n){var r=e.width,i=e.height,o=0,s=0,a=r,u=i;if(e.Da=null!=t&&0<t.Da,e.Da&&(a=t.cd,u=t.bd,o=t.v,s=t.j,11>n||(o&=-2,s&=-2),0>o||0>s||0>=a||0>=u||o+a>r||s+u>i))return 0;if(e.v=o,e.j=s,e.va=o+a,e.o=s+u,e.U=a,e.T=u,e.da=null!=t&&0<t.da,e.da){if(!R(a,u,n=[t.ib],o=[t.hb]))return 0;e.ib=n[0],e.hb=o[0]}return e.ob=null!=t&&t.ob,e.Kb=null==t||!t.Sd,e.da&&(e.ob=e.ib<3*r/4&&e.hb<3*i/4,e.Kb=0),1}function Fn(t){if(null==t)return 2;if(11>t.S){var e=t.f.RGBA;e.fb+=(t.height-1)*e.A,e.A=-e.A}else(e=t.f.kb).O+=((t=t.height)-1)*e.fa,e.fa=-e.fa,e.N+=(t-1>>1)*e.Ab,e.Ab=-e.Ab,e.W+=(t-1>>1)*e.Db,e.Db=-e.Db,null!=e.F&&(e.J+=(t-1)*e.lb,e.lb=-e.lb);return 0}function jn(t,e,n,r){if(null==r||0>=t||0>=e)return 2;if(null!=n){if(n.Da){var i=n.cd,s=n.bd,a=-2&n.v,u=-2&n.j;if(0>a||0>u||0>=i||0>=s||a+i>t||u+s>e)return 2;t=i,e=s}if(n.da){if(!R(t,e,i=[n.ib],s=[n.hb]))return 2;t=i[0],e=s[0]}}r.width=t,r.height=e;t:{var c=r.width,l=r.height;if(t=r.S,0>=c||0>=l||!(t>=Rr&&13>t))t=2;else{if(0>=r.Rd&&null==r.sd){a=s=i=e=0;var h=(u=c*Vi[t])*l;if(11>t||(s=(l+1)/2*(e=(c+1)/2),12==t&&(a=(i=c)*l)),null==(l=o(h+2*s+a))){t=1;break t}r.sd=l,11>t?((c=r.f.RGBA).eb=l,c.fb=0,c.A=u,c.size=h):((c=r.f.kb).y=l,c.O=0,c.fa=u,c.Fd=h,c.f=l,c.N=0+h,c.Ab=e,c.Cd=s,c.ea=l,c.W=0+h+s,c.Db=e,c.Ed=s,12==t&&(c.F=l,c.J=0+h+2*s),c.Tc=a,c.lb=i)}if(e=1,s=r.width,a=r.height,(i=r.S)>=Rr&&13>i)if(11>i)t=r.f.RGBA,e&=(u=Math.abs(t.A))*(a-1)+s<=t.size,e&=u>=s*Vi[i],e&=null!=t.eb;else{t=r.f.kb,u=(s+1)/2,h=(a+1)/2,c=Math.abs(t.fa),l=Math.abs(t.Ab);var f=Math.abs(t.Db),d=Math.abs(t.lb);e&=c*(a-1)+s<=t.Fd,e&=l*(h-1)+u<=t.Cd,e=(e&=f*(h-1)+u<=t.Ed)&c>=s&l>=u&f>=u,e&=null!=t.y,e&=null!=t.f,e&=null!=t.ea,12==i&&(e&=d>=s,e&=d*(a-1)+s<=t.Tc,e&=null!=t.F)}else e=0;t=e?0:2}}return 0!=t||null!=n&&n.fd&&(t=Fn(r)),t}var Un=64,qn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Bn=24,Vn=32,Hn=8,zn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];U("Predictor0","PredictorAdd0"),t.Predictor0=function(){return 4278190080},t.Predictor1=function(t){return t},t.Predictor2=function(t,e,n){return e[n+0]},t.Predictor3=function(t,e,n){return e[n+1]},t.Predictor4=function(t,e,n){return e[n-1]},t.Predictor5=function(t,e,n){return B(B(t,e[n+1]),e[n+0])},t.Predictor6=function(t,e,n){return B(t,e[n-1])},t.Predictor7=function(t,e,n){return B(t,e[n+0])},t.Predictor8=function(t,e,n){return B(e[n-1],e[n+0])},t.Predictor9=function(t,e,n){return B(e[n+0],e[n+1])},t.Predictor10=function(t,e,n){return B(B(t,e[n-1]),B(e[n+0],e[n+1]))},t.Predictor11=function(t,e,n){var r=e[n+0];return 0>=z(r>>24&255,t>>24&255,(e=e[n-1])>>24&255)+z(r>>16&255,t>>16&255,e>>16&255)+z(r>>8&255,t>>8&255,e>>8&255)+z(255&r,255&t,255&e)?r:t},t.Predictor12=function(t,e,n){var r=e[n+0];return(V((t>>24&255)+(r>>24&255)-((e=e[n-1])>>24&255))<<24|V((t>>16&255)+(r>>16&255)-(e>>16&255))<<16|V((t>>8&255)+(r>>8&255)-(e>>8&255))<<8|V((255&t)+(255&r)-(255&e)))>>>0},t.Predictor13=function(t,e,n){var r=e[n-1];return(H((t=B(t,e[n+0]))>>24&255,r>>24&255)<<24|H(t>>16&255,r>>16&255)<<16|H(t>>8&255,r>>8&255)<<8|H(t>>0&255,r>>0&255))>>>0};var Wn=t.PredictorAdd0;t.PredictorAdd1=W,U("Predictor2","PredictorAdd2"),U("Predictor3","PredictorAdd3"),U("Predictor4","PredictorAdd4"),U("Predictor5","PredictorAdd5"),U("Predictor6","PredictorAdd6"),U("Predictor7","PredictorAdd7"),U("Predictor8","PredictorAdd8"),U("Predictor9","PredictorAdd9"),U("Predictor10","PredictorAdd10"),U("Predictor11","PredictorAdd11"),U("Predictor12","PredictorAdd12"),U("Predictor13","PredictorAdd13");var Gn=t.PredictorAdd2;Y("ColorIndexInverseTransform","MapARGB","32b",function(t){return t>>8&255},function(t){return t}),Y("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(t){return t},function(t){return t>>8&255});var Kn,$n=t.ColorIndexInverseTransform,Yn=t.MapARGB,Qn=t.VP8LColorIndexInverseTransformAlpha,Xn=t.MapAlpha,Jn=t.VP8LPredictorsAdd=[];Jn.length=16,(t.VP8LPredictors=[]).length=16,(t.VP8LPredictorsAdd_C=[]).length=16,(t.VP8LPredictors_C=[]).length=16;var Zn,tr,er,nr,rr,ir,or,sr,ar,ur,cr,lr,hr,fr,dr,pr,gr,mr,vr,yr,br,_r,wr,Cr,Sr,xr,Ir,Ar,kr=o(511),Er=o(2041),Tr=o(225),Pr=o(767),Nr=0,Or=Er,Lr=Tr,Dr=Pr,Mr=kr,Rr=0,Fr=1,jr=2,Ur=3,qr=4,Br=5,Vr=6,Hr=7,zr=8,Wr=9,Gr=10,Kr=[2,3,7],$r=[3,3,11],Yr=[280,256,256,256,40],Qr=[0,1,1,1,0],Xr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ti=8,ei=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ni=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ri=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],oi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],si=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ai=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ui=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ci=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],li=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],hi=[],fi=[],di=[],pi=1,gi=2,mi=[],vi=[];yn("UpsampleRgbLinePair",xn,3),yn("UpsampleBgrLinePair",In,3),yn("UpsampleRgbaLinePair",Pn,4),yn("UpsampleBgraLinePair",Tn,4),yn("UpsampleArgbLinePair",En,4),yn("UpsampleRgba4444LinePair",kn,2),yn("UpsampleRgb565LinePair",An,2);var yi=t.UpsampleRgbLinePair,bi=t.UpsampleBgrLinePair,_i=t.UpsampleRgbaLinePair,wi=t.UpsampleBgraLinePair,Ci=t.UpsampleArgbLinePair,Si=t.UpsampleRgba4444LinePair,xi=t.UpsampleRgb565LinePair,Ii=16,Ai=1<<Ii-1,ki=-227,Ei=482,Ti=6,Pi=(256<<Ti)-1,Ni=0,Oi=o(256),Li=o(256),Di=o(256),Mi=o(256),Ri=o(Ei-ki),Fi=o(Ei-ki);Nn("YuvToRgbRow",xn,3),Nn("YuvToBgrRow",In,3),Nn("YuvToRgbaRow",Pn,4),Nn("YuvToBgraRow",Tn,4),Nn("YuvToArgbRow",En,4),Nn("YuvToRgba4444Row",kn,2),Nn("YuvToRgb565Row",An,2);var ji=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ui=[0,2,8],qi=[8,7,6,4,4,2,2,2,1,1,1,1],Bi=1;this.WebPDecodeRGBA=function(t,n,r,i,o){var s=Fr,a=new nn,u=new st;a.ba=u,u.S=s,u.width=[u.width],u.height=[u.height];var c=u.width,l=u.height,h=new at;if(null==h||null==t)var f=2;else e(null!=h),f=Mn(t,n,r,h.width,h.height,h.Pd,h.Qd,h.format,null);if(0!=f?c=0:(null!=c&&(c[0]=h.width[0]),null!=l&&(l[0]=h.height[0]),c=1),c){u.width=u.width[0],u.height=u.height[0],null!=i&&(i[0]=u.width),null!=o&&(o[0]=u.height);t:{if(i=new Gt,(o=new rn).data=t,o.w=n,o.ha=r,o.kd=1,n=[0],e(null!=o),(0==(t=Mn(o.data,o.w,o.ha,null,null,null,n,null,o))||7==t)&&n[0]&&(t=4),0==(n=t)){if(e(null!=a),i.data=o.data,i.w=o.w+o.offset,i.ha=o.ha-o.offset,i.put=dt,i.ac=ft,i.bc=pt,i.ma=a,o.xa){if(null==(t=Et())){a=1;break t}if(function(t,n){var r=[0],i=[0],o=[0];e:for(;;){if(null==t)return 0;if(null==n)return t.a=2,0;if(t.l=n,t.a=0,v(t.m,n.data,n.w,n.ha),!gt(t.m,r,i,o)){t.a=3;break e}if(t.xb=gi,n.width=r[0],n.height=i[0],!Tt(r[0],i[0],1,t,null))break e;return 1}return e(0!=t.a),0}(t,i)){if(i=0==(n=jn(i.width,i.height,a.Oa,a.ba))){e:{i=t;n:for(;;){if(null==i){i=0;break e}if(e(null!=i.s.yc),e(null!=i.s.Ya),e(0<i.s.Wb),e(null!=(r=i.l)),e(null!=(o=r.ma)),0!=i.xb){if(i.ca=o.ba,i.tb=o.tb,e(null!=i.ca),!Rn(o.Oa,r,Ur)){i.a=2;break n}if(!Pt(i,r.width))break n;if(r.da)break n;if((r.da||rt(i.ca.S))&&vn(),11>i.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i.ca.f.kb.F&&vn()),i.Pb&&0<i.s.ua&&null==i.s.vb.X&&!L(i.s.vb,i.s.Wa.Xa)){i.a=1;break n}i.xb=0}if(!At(i,i.V,i.Ba,i.c,i.i,r.o,Ct))break n;o.Dc=i.Ma,i=1;break e}e(0!=i.a),i=0}i=!i}i&&(n=t.a)}else n=t.a}else{if(null==(t=new Kt)){a=1;break t}if(t.Fa=o.na,t.P=o.P,t.qc=o.Sa,Qt(t,i)){if(0==(n=jn(i.width,i.height,a.Oa,a.ba))){if(t.Aa=0,r=a.Oa,e(null!=(o=t)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(l=h=0;4>l;++l)12>(f=o.pb[l]).lc&&(f.ia=c*qi[0>f.lc?0:f.lc]>>3),h|=f.ia;h&&(alert("todo:VP8InitRandom"),o.ia=1)}o.Ga=r.Id,100<o.Ga?o.Ga=100:0>o.Ga&&(o.Ga=0)}Zt(t,i)||(n=t.a)}}else n=t.a}0==n&&null!=a.Oa&&a.Oa.fd&&(n=Fn(a.ba))}a=n}s=0!=a?null:11>s?u.f.RGBA.eb:u.f.kb.y}else s=null;return s};var Vi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(t,e){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(t[e++]);return n}function l(t,e){return(t[e+0]<<0|t[e+1]<<8|t[e+2]<<16)>>>0}function h(t,e){return(t[e+0]<<0|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}new u;var f=[0],d=[0],p=[],g=new u,m=t,v=function(t,e){var n={},r=0,i=!1,o=0,s=0;if(n.frames=[],!function(t,e,n,r){for(var i=0;i<4;i++)if(t[e+i]!="RIFF".charCodeAt(i))return!0;return!1}(t,e)){var a,u;for(h(t,e+=4),e+=8;e<t.length;){var f=c(t,e),d=h(t,e+=4);e+=4;var p=d+(1&d);switch(f){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(v=n.frames[r]).src_off=i?s:e-8,v.src_size=o+d+8,r++,i&&(i=!1,o=0,s=0);break;case"VP8X":(v=n.header={}).feature_flags=t[e];var g=e+4;v.canvas_width=1+l(t,g),v.canvas_height=1+l(t,g+=3),g+=3;break;case"ALPH":i=!0,o=p+8,s=e-8;break;case"ANIM":(v=n.header).bgcolor=h(t,e),v.loop_count=(a=t)[(u=g=e+4)+0]<<0|a[u+1]<<8,g+=2;break;case"ANMF":var m,v;(v=n.frames[r]={}).offset_x=2*l(t,e),v.offset_y=2*l(t,e+=3),v.width=1+l(t,e+=3),v.height=1+l(t,e+=3),v.duration=l(t,e+=3),e+=3,m=t[e++],v.dispose=1&m,v.blend=m>>1&1}"ANMF"!=f&&(e+=p)}return n}}(m,0);v.response=m,v.rgbaoutput=!0,v.dataurl=!1;var y=v.header?v.header:null,b=v.frames?v.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],d=[y.canvas_width];for(var _=0;_<b.length&&0!=b[_].blend;_++);}var w=b[0],C=g.WebPDecodeRGBA(m,w.src_off,w.src_size,d,f);w.rgba=C,w.imgwidth=d[0],w.imgheight=f[0];for(var S=0;S<d[0]*f[0]*4;S++)p[S]=C[S];return this.width=d,this.height=f,this.data=p,this}!function(t){var e=function(e,r,u,c){var l=4,h=o;switch(c){case t.image_compression.FAST:l=1,h=i;break;case t.image_compression.MEDIUM:l=6,h=s;break;case t.image_compression.SLOW:l=9,h=a}var f=V(e=n(e,r,u,h),{level:l});return t.__addimage__.arrayBufferToBinaryString(f)},n=function(t,e,n,r){for(var i,o,s,a=t.length/e,u=new Uint8Array(t.length+a),h=c(),f=0;f<a;f+=1){if(i=t.subarray(s=f*e,s+e),r)u.set(r(i,n,o),s+f);else{for(var d,p=h.length,g=[];d<p;d+=1)g[d]=h[d](i,n,o);var m=l(g.concat());u.set(g[m],s+f)}o=i}return u},r=function(t){var e=Array.apply([],t);return e.unshift(0),e},i=function(t,e){var n=[],r=t.length;n[0]=1;for(var i=0;i<r;i+=1)n[i+1]=t[i]-(t[i-e]||0)+256&255;return n},o=function(t,e,n){var r=[],i=t.length;r[0]=2;for(var o=0;o<i;o+=1)r[o+1]=t[o]-(n&&n[o]||0)+256&255;return r},s=function(t,e,n){var r=[],i=t.length;r[0]=3;for(var o=0;o<i;o+=1)r[o+1]=t[o]+256-((t[o-e]||0)+(n&&n[o]||0)>>>1)&255;return r},a=function(t,e,n){var r,i=[],o=t.length;i[0]=4;for(var s=0;s<o;s+=1)r=u(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0),i[s+1]=t[s]-r+256&255;return i},u=function(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),o=Math.abs(t+e-n-n);return r<=i&&r<=o?t:i<=o?e:n},c=function(){return[r,i,o,s,a]},l=function(t){var e=t.map(function(t){return t.reduce(function(t,e){return t+Math.abs(e)},0)});return e.indexOf(Math.min.apply(null,e))};t.processPNG=function(n,r,i,o){var s,a,u,c,l,h,f,d,p,g,m,v,y,b,_,w=this.decode.FLATE_DECODE,C="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(u=new Me(n)).imgData,a=u.bits,s=u.colorSpace,l=u.colors,-1!==[4,6].indexOf(u.colorType)){if(8===u.bits){p=(d=32==u.pixelBitlength?new Uint32Array(u.decodePixels().buffer):16==u.pixelBitlength?new Uint16Array(u.decodePixels().buffer):new Uint8Array(u.decodePixels().buffer)).length,m=new Uint8Array(p*u.colors),g=new Uint8Array(p);var S,x=u.pixelBitlength-u.bits;for(b=0,_=0;b<p;b++){for(y=d[b],S=0;S<x;)m[_++]=y>>>S&255,S+=u.bits;g[b]=y>>>S&255}}if(16===u.bits){p=(d=new Uint32Array(u.decodePixels().buffer)).length,m=new Uint8Array(p*(32/u.pixelBitlength)*u.colors),g=new Uint8Array(p*(32/u.pixelBitlength)),v=u.colors>1,b=0,_=0;for(var I=0;b<p;)y=d[b++],m[_++]=y>>>0&255,v&&(m[_++]=y>>>16&255,y=d[b++],m[_++]=y>>>0&255),g[I++]=y>>>16&255;a=8}o!==t.image_compression.NONE?(n=e(m,u.width*u.colors,u.colors,o),f=e(g,u.width,1,o)):(n=m,f=g,w=void 0)}if(3===u.colorType&&(s=this.color_spaces.INDEXED,h=u.palette,u.transparency.indexed)){var A=u.transparency.indexed,k=0;for(b=0,p=A.length;b<p;++b)k+=A[b];if((k/=255)==p-1&&-1!==A.indexOf(0))c=[A.indexOf(0)];else if(k!==p){for(d=u.decodePixels(),g=new Uint8Array(d.length),b=0,p=d.length;b<p;b++)g[b]=A[d[b]];f=e(g,u.width,1)}}var E=function(e){var n;switch(e){case t.image_compression.FAST:n=11;break;case t.image_compression.MEDIUM:n=13;break;case t.image_compression.SLOW:n=14;break;default:n=12}return n}(o);return w===this.decode.FLATE_DECODE&&(C="/Predictor "+E+" "),C+="/Colors "+l+" /BitsPerComponent "+a+" /Columns "+u.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:i,data:n,index:r,filter:w,decodeParameters:C,transparency:c,palette:h,sMask:f,predictor:E,width:u.width,height:u.height,bitsPerComponent:a,colorSpace:s}}}}(Ct.API),function(t){t.processGIF89A=function(e,n,r,i){var o=new Re(e),s=o.width,a=o.height,u=[];o.decodeAndBlitFrameRGBA(0,u);var c={data:u,width:s,height:a},l=new je(100).encode(c,100);return t.processJPEG.call(this,l,n,r,i)},t.processGIF87A=t.processGIF89A}(Ct.API),Ue.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ue.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[t]()}catch(t){W.log("bit decode error:"+t)}},Ue.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var u=this.palette[o>>7-a&1];this.data[s+4*a]=u.blue,this.data[s+4*a+1]=u.green,this.data[s+4*a+2]=u.red,this.data[s+4*a+3]=255}0!==n&&(this.pos+=4-n)}},Ue.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=15&o,u=this.palette[o>>4];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*i+1>=this.width)break;this.data[s+4]=(u=this.palette[a]).blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}0!==e&&(this.pos+=4-e)}},Ue.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}0!==t&&(this.pos+=4-t)}},Ue.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,u=o>>15?255:0,c=r*this.width*4+4*i;this.data[c]=(o>>10&e)/e*255|0,this.data[c+1]=a,this.data[c+2]=s,this.data[c+3]=u}this.pos+=t}},Ue.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,u=(s>>5&n)/n*255|0,c=i*this.width*4+4*o;this.data[c]=(s>>11)/e*255|0,this.data[c+1]=u,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Ue.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},Ue.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},Ue.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var o=new Ue(e,!1),s=o.width,a=o.height,u={data:o.getData(),width:s,height:a},c=new je(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)}}(Ct.API),qe.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var o=new qe(e,!1),s=o.width,a=o.height,u={data:o.getData(),width:s,height:a},c=new je(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)}}(Ct.API),Ct.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,u=0,c=0;c<i;c+=4){var l=r[c+1],h=r[c+2],f=r[c+3];o[a++]=r[c],o[a++]=l,o[a++]=h,s[u++]=f}var d=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:d,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ct.API.setLanguage=function(t){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]&&(this.internal.languageSettings.languageCode=t,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ne=(Pe=Ct.API).getCharWidthsArray=function(t,e){var n,i,o=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:o.metadata.Unicode.widths,c=u.fof?u.fof:1,l=e.kerning?e.kerning:o.metadata.Unicode.kerning,h=l.fof?l.fof:1,f=!1!==e.doKerning,d=0,p=t.length,g=0,m=u[0]||c,v=[];for(n=0;n<p;n++)i=t.charCodeAt(n),"function"==typeof o.metadata.widthOfString?v.push((o.metadata.widthOfGlyph(o.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(d=f&&"object"===r(l[i])&&!isNaN(parseInt(l[i][g],10))?l[i][g]/h:0,v.push((u[i]||m)/c+d)),g=i;return v},Oe=Pe.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Pe.processArabic&&(t=Pe.processArabic(t)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(t,n,i)/n:Ne.apply(this,arguments).reduce(function(t,e){return t+e},0)},Le=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var u=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(u,o)),a=0,u=o),a+=e[o],o++;return u!==o&&i.push(t.slice(u,o)),i},De=function(t,e,n){n||(n={});var r,i,o,s,a,u,c=[],l=[c],h=n.textIndent||0,f=0,d=0,p=t.split(" "),g=Ne.apply(this,[" ",n])[0];if(u=-1===n.lineIndent?p[0].length+2:n.lineIndent||0){var m=Array(u).join(" "),v=[];p.map(function(t){(t=t.split(/\s*\n/)).length>1?v=v.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):v.push(t[0])}),p=v,u=Oe.apply(this,[m,n])}for(o=0,s=p.length;o<s;o++){var y=0;if(r=p[o],u&&"\n"==r[0]&&(r=r.substr(1),y=1),h+f+(d=(i=Ne.apply(this,[r,n])).reduce(function(t,e){return t+e},0))>e||y){if(d>e){for(a=Le.apply(this,[r,i,e-(h+f),e]),c.push(a.shift()),c=[a.pop()];a.length;)l.push([a.shift()]);d=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(t,e){return t+e},0)}else c=[r];l.push(c),h=d+u,f=g}else c.push(r),h+=f+d,f=g}return l.map(u?function(t,e){return(e?m:"")+t.join(" ")}:function(t){return t.join(" ")})},Pe.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(t){if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var e=this.internal.getFont(t.fontName,t.fontStyle);return e.metadata.Unicode?{widths:e.metadata.Unicode.widths||{0:1},kerning:e.metadata.Unicode.kerning||{}}:{font:e.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,u,c=[];for(a=0,u=r.length;a<u;a++)c=c.concat(De.apply(this,[r[a],s,o]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},i={},o=0;o<e.length;o++)n[e[o]]="0123456789abcdef"[o],i["0123456789abcdef"[o]]=e[o];var s=function(t){return"0x"+parseInt(t,10).toString(16)},a=t.__fontmetrics__.compress=function(t){var e,n,o,u,c=["{"];for(var l in t){if(e=t[l],isNaN(parseInt(l,10))?n="'"+l+"'":(l=parseInt(l,10),n=(n=s(l).slice(2)).slice(0,-1)+i[n.slice(-1)]),"number"==typeof e)e<0?(o=s(e).slice(3),u="-"):(o=s(e).slice(2),u=""),o=u+o.slice(0,-1)+i[o.slice(-1)];else{if("object"!==r(e))throw new Error("Don't know what to do with value type "+r(e)+".");o=a(e)}c.push(n+o)}return c.push("}"),c.join("")},u=t.__fontmetrics__.uncompress=function(t){if("string"!=typeof t)throw new Error("Invalid argument passed to uncompress.");for(var e,r,i,o,s={},a=1,u=s,c=[],l="",h="",f=t.length-1,d=1;d<f;d+=1)"'"==(o=t[d])?e?(i=e.join(""),e=void 0):e=[]:e?e.push(o):"{"==o?(c.push([u,i]),u={},i=void 0):"}"==o?((r=c.pop())[0][r[1]]=u,i=void 0,u=r[0]):"-"==o?a=-1:void 0===i?n.hasOwnProperty(o)?(l+=n[o],i=parseInt(l,16)*a,a=1,l=""):l+=o:n.hasOwnProperty(o)?(h+=n[o],u[i]=parseInt(h,16)*a,a=1,i=void 0,h=""):h+=o;return s},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},h={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(t){var e=t.font,n=h.Unicode[e.postScriptName];n&&(e.metadata.Unicode={},e.metadata.Unicode.widths=n.widths,e.metadata.Unicode.kerning=n.kerning);var r=l.Unicode[e.postScriptName];r&&(e.metadata.Unicode.encoding=r,e.encoding=r.codePages[0])}])}(Ct.API),function(t){var e=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;r<e;r++)n[r]=t.charCodeAt(r);return n};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(r=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?e(r):e(Y(r)),n.metadata=t.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(i,r)}}])}(Ct),function(t){function e(){return(H.canvg?Promise.resolve(H.canvg):n.e(75).then(n.bind(n,5075))).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Ct.API.addSvgAsImage=function(t,n,r,i,o,s,a,u){if(isNaN(n)||isNaN(r))throw W.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(o))throw W.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=o;var l=c.getContext("2d");l.fillStyle="#fff",l.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(e){return e.fromString(l,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(t){return t.render(h)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),n,r,i,o,a,u)})}}(),Ct.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Ct.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,o,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(a),c=[],l=0,h=0,f=0;function d(t,e){var n,r=!1;for(n=0;n<t.length;n+=1)t[n]===e&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===t||!0===e){var p=u.length;for(f=0;f<p;f+=1)n[u[f]].value=n[u[f]].defaultValue,n[u[f]].explicitSet=!1}if("object"===r(t))for(o in t)if(s=t[o],d(u,o)&&void 0!==s){if("boolean"===n[o].type&&"boolean"==typeof s)n[o].value=s;else if("name"===n[o].type&&d(n[o].valueSet,s))n[o].value=s;else if("integer"===n[o].type&&Number.isInteger(s))n[o].value=s;else if("array"===n[o].type){for(l=0;l<s.length;l+=1)if(i=!0,1===s[l].length&&"number"==typeof s[l][0])c.push(String(s[l]-1));else if(s[l].length>1){for(h=0;h<s[l].length;h+=1)"number"!=typeof s[l][h]&&(i=!1);!0===i&&c.push([s[l][0]-1,s[l][1]-1].join(" "))}n[o].value="["+c.join(" ")+"]"}else n[o].value=n[o].defaultValue;n[o].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t,e=[];for(t in n)!0===n[t].explicitSet&&e.push("name"===n[t].type?"/"+t+" /"+n[t].value:"/"+t+" "+n[t].value);0!==e.length&&this.internal.write("/ViewerPreferences\n<<\n"+e.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var t='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',e=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(t)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),o=unescape(encodeURIComponent("</x:xmpmeta>")),s=n.length+r.length+i.length+e.length+o.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+s+" >>"),this.internal.write("stream"),this.internal.write(e+n+r+i+o),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(t,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Ct.API),function(t){var e=t.API,n=e.pdfEscape16=function(t,e){for(var n,r=e.metadata.Unicode.widths,i=["","0","00","000","0000"],o=[""],s=0,a=t.length;s<a;++s){if(n=e.metadata.characterToGlyph(t.charCodeAt(s)),e.metadata.glyIdsUsed.push(n),e.metadata.toUnicode[n]=t.charCodeAt(s),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(e.metadata.widthOfGlyph(n),10)])),"0"==n)return o.join("");n=n.toString(16),o.push(i[4-n.length],n)}return o.join("")},r=function(t){var e,n,r,i,o,s,a;for(o="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],s=0,a=(n=Object.keys(t).sort(function(t,e){return t-e})).length;s<a;s++)e=n[s],r.length>=100&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),null!=t[e]&&"function"==typeof t[e].toString&&(i=("0000"+t[e].toString(16)).slice(-4),e=("0000"+(+e).toString(16)).slice(-4),r.push("<"+e+"><"+i+">"));return r.length&&(o+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),o+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(e){!function(e){var n=e.font,i=e.out,o=e.newObject,s=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"Identity-H"===n.encoding){for(var a=n.metadata.Unicode.widths,u=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",l=0;l<u.length;l++)c+=String.fromCharCode(u[l]);var h=o();s({data:c,addLength1:!0,objectId:h}),i("endobj");var f=o();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:f}),i("endobj");var d=o();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+mt(n.fontName)),i("/FontFile2 "+h+" 0 R"),i("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),i("/Flags "+n.metadata.flags),i("/StemV "+n.metadata.stemV),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i(">>"),i("endobj");var p=o();i("<<"),i("/Type /Font"),i("/BaseFont /"+mt(n.fontName)),i("/FontDescriptor "+d+" 0 R"),i("/W "+t.API.PDFObject.convert(a)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+n.encoding+")"),i(">>"),i(">>"),i("endobj"),n.objectNumber=o(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+f+" 0 R"),i("/BaseFont /"+mt(n.fontName)),i("/Encoding /"+n.encoding),i("/DescendantFonts ["+p+" 0 R]"),i(">>"),i("endobj"),n.isAlreadyPutted=!0}}(e)}]),e.events.push(["putFont",function(e){!function(e){var n=e.font,i=e.out,o=e.newObject,s=e.putStream;if(n.metadata instanceof t.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var a=n.metadata.rawData,u="",c=0;c<a.length;c++)u+=String.fromCharCode(a[c]);var l=o();s({data:u,addLength1:!0,objectId:l}),i("endobj");var h=o();s({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),i("endobj");var f=o();i("<<"),i("/Descent "+n.metadata.decender),i("/CapHeight "+n.metadata.capHeight),i("/StemV "+n.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+l+" 0 R"),i("/Flags 96"),i("/FontBBox "+t.API.PDFObject.convert(n.metadata.bbox)),i("/FontName /"+mt(n.fontName)),i("/ItalicAngle "+n.metadata.italicAngle),i("/Ascent "+n.metadata.ascender),i(">>"),i("endobj"),n.objectNumber=o();for(var d=0;d<n.metadata.hmtx.widths.length;d++)n.metadata.hmtx.widths[d]=parseInt(n.metadata.hmtx.widths[d]*(1e3/n.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+mt(n.fontName)+"/FontDescriptor "+f+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),i("endobj"),n.isAlreadyPutted=!0}}(e)}]);var i=function(t){var e,r=t.text||"",i=t.x,o=t.y,s=t.options||{},a=t.mutex||{},u=a.pdfEscape,c=a.activeFontKey,l=a.fonts,h=c,f="",d=0,p="",g=l[h].encoding;if("Identity-H"!==l[h].encoding)return{text:r,x:i,y:o,options:s,mutex:a};for(p=r,h=c,Array.isArray(r)&&(p=r[0]),d=0;d<p.length;d+=1)l[h].metadata.hasOwnProperty("cmap")&&(e=l[h].metadata.cmap.unicode.codeMap[p[d].charCodeAt(0)]),e||p[d].charCodeAt(0)<256&&l[h].metadata.hasOwnProperty("Unicode")?f+=p[d]:f+="";var m="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===g?m=u(f,h).split("").map(function(t){return t.charCodeAt(0).toString(16)}).join(""):"Identity-H"===g&&(m=n(f,l[h])),a.isHex=!0,{text:m,x:i,y:o,options:s,mutex:a}};e.events.push(["postProcessText",function(t){var e=t.text||"",n=[],r={text:e,x:t.x,y:t.y,options:t.options,mutex:t.mutex};if(Array.isArray(e)){var o=0;for(o=0;o<e.length;o+=1)Array.isArray(e[o])&&3===e[o].length?n.push([i(Object.assign({},r,{text:e[o][0]})).text,e[o][1],e[o][2]]):n.push(i(Object.assign({},r,{text:e[o]})).text);t.text=n}else t.text=i(Object.assign({},r,{text:e})).text}])}(Ct),function(t){var e=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]},t.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},t.getFileFromVFS=function(t){return e.call(this),void 0!==this.internal.vFS[t]?this.internal.vFS[t]:null}}(Ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(t){var n,r,i,o,s,a,u,c=e,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},d={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m=!1,v=0;this.__bidiEngine__={};var y=function(t){var e=t.charCodeAt(),n=e>>8,r=d[n];return void 0!==r?c[256*r+(255&e)]:252===n||253===n?"AL":g.test(n)?"L":8===n?"R":"N"},b=function(t){for(var e,n=0;n<t.length;n++){if("L"===(e=y(t.charAt(n))))return!1;if("R"===e)return!0}return!1},_=function(t,e,s,a){var u,c,l,h,f=e[a];switch(f){case"L":case"R":m=!1;break;case"N":case"AN":break;case"EN":m&&(f="AN");break;case"AL":m=!0,f="R";break;case"WS":f="N";break;case"CS":a<1||a+1>=e.length||"EN"!==(u=s[a-1])&&"AN"!==u||"EN"!==(c=e[a+1])&&"AN"!==c?f="N":m&&(c="AN"),f=c===u?c:"N";break;case"ES":f="EN"===(u=a>0?s[a-1]:"B")&&a+1<e.length&&"EN"===e[a+1]?"EN":"N";break;case"ET":if(a>0&&"EN"===s[a-1]){f="EN";break}if(m){f="N";break}for(l=a+1,h=e.length;l<h&&"ET"===e[l];)l++;f=l<h&&"EN"===e[l]?"EN":"N";break;case"NSM":if(i&&!o){for(h=e.length,l=a+1;l<h&&"NSM"===e[l];)l++;if(l<h){var d=t[a];if(u=e[l],(d>=1425&&d<=2303||64286===d)&&("R"===u||"AL"===u)){f="R";break}}}f=a<1||"B"===(u=e[a-1])?"N":s[a-1];break;case"B":m=!1,n=!0,f=v;break;case"S":r=!0,f="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m=!1;break;case"BN":f="N"}return f},w=function(t,e,n){var r=t.split("");return n&&C(r,n,{hiLevel:v}),r.reverse(),e&&e.reverse(),r.join("")},C=function(t,e,i){var o,s,a,u,c,d=-1,p=t.length,g=0,b=[],w=v?h:l,C=[];for(m=!1,n=!1,r=!1,s=0;s<p;s++)C[s]=y(t[s]);for(a=0;a<p;a++){if(c=g,b[a]=_(t,C,b,a),o=240&(g=w[c][f[b[a]]]),e[a]=u=w[g&=15][5],o>0)if(16===o){for(s=d;s<a;s++)e[s]=1;d=-1}else d=-1;if(w[g][6])-1===d&&(d=a);else if(d>-1){for(s=d;s<a;s++)e[s]=u;d=-1}"B"===C[a]&&(e[a]=0),i.hiLevel|=u}r&&function(t,e,n){for(var r=0;r<n;r++)if("S"===t[r]){e[r]=v;for(var i=r-1;i>=0&&"WS"===t[i];i--)e[i]=v}}(C,e,p)},S=function(t,e,r,i,o){if(!(o.hiLevel<t)){if(1===t&&1===v&&!n)return e.reverse(),void(r&&r.reverse());for(var s,a,u,c,l=e.length,h=0;h<l;){if(i[h]>=t){for(u=h+1;u<l&&i[u]>=t;)u++;for(c=h,a=u-1;c<a;c++,a--)s=e[c],e[c]=e[a],e[a]=s,r&&(s=r[c],r[c]=r[a],r[a]=s);h=u}h++}}},x=function(t,e,n){var r=t.split(""),i={hiLevel:v};return n||(n=[]),C(r,n,i),function(t,e,n){if(0!==n.hiLevel&&u)for(var r,i=0;i<t.length;i++)1===e[i]&&(r=p.indexOf(t[i]))>=0&&(t[i]=p[r+1])}(r,n,i),S(2,r,e,n,i),S(1,r,e,n,i),r.join("")};return this.__bidiEngine__.doBidiReorder=function(t,e,n){if(function(t,e){if(e)for(var n=0;n<t.length;n++)e[n]=n;void 0===o&&(o=b(t)),void 0===a&&(a=b(t))}(t,e),i||!s||a)if(i&&s&&o^a)v=o?1:0,t=w(t,e,n);else if(!i&&s&&a)v=o?1:0,t=x(t,e,n),t=w(t,e);else if(!i||o||s||a){if(i&&!s&&o^a)t=w(t,e),o?(v=0,t=x(t,e,n)):(v=1,t=x(t,e,n),t=w(t,e));else if(i&&o&&!s&&a)v=1,t=x(t,e,n),t=w(t,e);else if(!i&&!s&&o^a){var r=u;o?(v=1,t=x(t,e,n),v=0,u=!1,t=x(t,e,n),u=r):(v=0,t=x(t,e,n),t=w(t,e),v=1,u=!1,t=x(t,e,n),u=r,t=w(t,e))}}else v=0,t=x(t,e,n);else v=o?1:0,t=x(t,e,n);return t},this.__bidiEngine__.setOptions=function(t){t&&(i=t.isInputVisual,s=t.isOutputVisual,o=t.isInputRtl,a=t.isOutputRtl,u=t.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(t){var e=t.text,r=t.options||{},i=[];if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(e)){var o=0;for(i=[],o=0;o<e.length;o+=1)"[object Array]"===Object.prototype.toString.call(e[o])?i.push([n.doBidiReorder(e[o][0]),e[o][1],e[o][2]]):i.push([n.doBidiReorder(e[o])]);t.text=i}else t.text=n.doBidiReorder(e);n.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function t(t){var e;if(this.rawData=t,e=this.contents=new Ve(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new un(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new He(this.contents),this.head=new Ge(this),this.name=new Ze(this),this.cmap=new $e(this),this.toUnicode={},this.hhea=new Ye(this),this.maxp=new tn(this),this.hmtx=new en(this),this.post=new Xe(this),this.os2=new Qe(this),this.loca=new an(this),this.glyf=new rn(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var t,e,n,r;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var t,e,n,r;for(r=[],t=0,e=(n=this.bbox).length;t<e;t++)r.push(Math.round(n[t]*this.scaleFactor));return r}).call(this),this.stemV=0,this.post.exists?(e=255&(n=this.post.italic_angle),0!=(32768&(t=n>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+e)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(r=this.familyClass)||2===r||3===r||4===r||5===r||7===r,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},t.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},t.prototype.widthOfString=function(t,e,n){var r,i,o,s;for(o=0,i=0,s=(t=""+t).length;0<=s?i<s:i>s;i=0<=s?++i:--i)r=t.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/e)||0;return o*(e/1e3)},t.prototype.lineHeight=function(t,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*t},t}();var Be,Ve=function(){function t(t){this.data=null!=t?t:[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(t){return this.data[this.pos++]=t},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},t.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},t.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},t.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},t.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(t){var e,n,r;for(r=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(t){return this.writeInt16(t)},t.prototype.readLongLong=function(){var t,e,n,r,i,o,s,a;return t=this.readByte(),e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^i)+65536*(255^o)+256*(255^s)+(255^a)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*r+16777216*i+65536*o+256*s+a},t.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(t){return this.writeInt32(t)},t.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},t.prototype.write=function(t){var e,n,r;for(r=[],e=0,n=t.length;e<n;e++)r.push(this.writeByte(t[e]));return r},t}(),He=function(){var t;function e(t){var e,n,r;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)e={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[e.tag]=e}return e.prototype.encode=function(e){var n,r,i,o,s,a,u,c,l,h,f,d;for(d in h=Object.keys(e).length,s=Math.log(2),c=16*Math.floor(Math.log(h)/s),i=Math.floor(c/s),u=16*h-c,(r=new Ve).writeInt(this.scalarType),r.writeShort(h),r.writeShort(c),r.writeShort(i),r.writeShort(u),a=r.pos+16*h,o=null,f=[],e)for(l=e[d],r.writeString(d),r.writeInt(t(l)),r.writeInt(a),r.writeInt(l.length),f=f.concat(l),"head"===d&&(o=a),a+=l.length;a%4;)f.push(0),a++;return r.write(f),n=2981146554-t(r.data),r.pos=o+8,r.writeUInt32(n),r.data},t=function(t){var e,n,r,i;for(t=nn.call(t);t.length%4;)t.push(0);for(r=new Ve(t),n=0,e=0,i=t.length;e<i;e=e+=4)n+=r.readUInt32();return 4294967295&n},e}(),ze={}.hasOwnProperty,We=function(t,e){for(var n in e)ze.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Be=function(){function t(t){var e;this.file=t,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var Ge=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return We(e,Be),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var e;return(e=new Ve).writeInt(this.version),e.writeInt(this.revision),e.writeInt(this.checkSumAdjustment),e.writeInt(this.magicNumber),e.writeShort(this.flags),e.writeShort(this.unitsPerEm),e.writeLongLong(this.created),e.writeLongLong(this.modified),e.writeShort(this.xMin),e.writeShort(this.yMin),e.writeShort(this.xMax),e.writeShort(this.yMax),e.writeShort(this.macStyle),e.writeShort(this.lowestRecPPEM),e.writeShort(this.fontDirectionHint),e.writeShort(t),e.writeShort(this.glyphDataFormat),e.data},e}(),Ke=function(){function t(t,e){var n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v,y;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),l=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,i=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),t.pos+=2,p=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),u=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),c=function(){var e,n;for(n=[],a=e=0;0<=h?e<h:e>h;a=0<=h?++e:--e)n.push(t.readUInt16());return n}(),r=(this.length-t.pos+this.offset)/2,s=function(){var e,n;for(n=[],a=e=0;0<=r?e<r:e>r;a=0<=r?++e:--e)n.push(t.readUInt16());return n}(),a=m=0,y=i.length;m<y;a=++m)for(g=i[a],n=v=d=p[a];d<=g?v<=g:v>=g;n=d<=g?++v:--v)0===c[a]?o=n+u[a]:0!==(o=s[c[a]/2+(n-d)-(h-a)]||0)&&(o+=u[a]),this.codeMap[n]=65535&o}t.pos=l}return t.encode=function(t,e){var n,r,i,o,s,a,u,c,l,h,f,d,p,g,m,v,y,b,_,w,C,S,x,I,A,k,E,T,P,N,O,L,D,M,R,F,j,U,q,B,V,H,z,W,G;switch(E=new Ve,o=Object.keys(t).sort(function(t,e){return t-e}),e){case"macroman":for(p=0,g=function(){var t=[];for(d=0;d<256;++d)t.push(0);return t}(),v={0:0},i={},T=0,L=o.length;T<L;T++)null==v[H=t[r=o[T]]]&&(v[H]=++p),i[r]={old:t[r],new:v[t[r]]},g[r]=v[t[r]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(g),{charMap:i,subtable:E.data,maxGlyphID:p+1};case"unicode":for(A=[],l=[],y=0,v={},n={},m=u=null,P=0,D=o.length;P<D;P++)null==v[b=t[r=o[P]]]&&(v[b]=++y),n[r]={old:b,new:v[b]},s=v[b]-r,null!=m&&s===u||(m&&l.push(m),A.push(r),u=s),m=r;for(m&&l.push(m),l.push(65535),A.push(65535),x=2*(S=A.length),C=2*Math.pow(Math.log(S)/Math.LN2,2),h=Math.log(C/2)/Math.LN2,w=2*S-C,a=[],_=[],f=[],d=N=0,M=A.length;N<M;d=++N){if(c=l[d],65535===(I=A[d])){a.push(0),_.push(0);break}if(I-(k=n[I].new)>=32768)for(a.push(0),_.push(2*(f.length+S-d)),r=O=I;I<=c?O<=c:O>=c;r=I<=c?++O:--O)f.push(n[r].new);else a.push(k-I),_.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*S+2*f.length),E.writeUInt16(0),E.writeUInt16(x),E.writeUInt16(C),E.writeUInt16(h),E.writeUInt16(w),B=0,R=l.length;B<R;B++)E.writeUInt16(r=l[B]);for(E.writeUInt16(0),V=0,F=A.length;V<F;V++)E.writeUInt16(r=A[V]);for(z=0,j=a.length;z<j;z++)E.writeUInt16(s=a[z]);for(W=0,U=_.length;W<U;W++)E.writeUInt16(_[W]);for(G=0,q=f.length;G<q;G++)E.writeUInt16(p=f[G]);return{charMap:n,subtable:E.data,maxGlyphID:y+1}}},t}(),$e=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return We(e,Be),e.prototype.tag="cmap",e.prototype.parse=function(t){var e,n,r;for(t.pos=this.offset,this.version=t.readUInt16(),r=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)e=new Ke(t,this.offset),this.tables.push(e),e.isUnicode&&null==this.unicode&&(this.unicode=e);return!0},e.encode=function(t,e){var n,r;return null==e&&(e="macroman"),n=Ke.encode(t,e),(r=new Ve).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),Ye=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return We(e,Be),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Qe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return We(e,Be),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var e,n;for(n=[],e=0;e<10;++e)n.push(t.readByte());return n}(),this.charRange=function(){var e,n;for(n=[],e=0;e<4;++e)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var e,n;for(n=[],e=0;e<2;e=++e)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Xe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return We(e,Be),e.prototype.tag="post",e.prototype.parse=function(t){var e,n,r;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],r=[];t.pos<this.offset+this.length;)e=t.readByte(),r.push(this.names.push(t.readString(e)));return r;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 196608:break;case 262144:return this.map=(function(){var e,n,r;for(r=[],i=e=0,n=this.file.maxp.numGlyphs;0<=n?e<n:e>n;i=0<=n?++e:--e)r.push(t.readUInt32());return r}).call(this)}},e}(),Je=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Ze=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return We(e,Be),e.prototype.tag="name",e.prototype.parse=function(t){var e,n,r,i,o,s,a,u,c,l,h;for(t.pos=this.offset,t.readShort(),e=t.readShort(),s=t.readShort(),n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+s+t.readShort()});for(a={},i=c=0,l=n.length;c<l;i=++c)t.pos=(r=n[i]).offset,u=t.readString(r.length),o=new Je(u,r),null==a[h=r.nameID]&&(a[h]=[]),a[r.nameID].push(o);this.strings=a,this.copyright=a[0],this.fontFamily=a[1],this.fontSubfamily=a[2],this.uniqueSubfamily=a[3],this.fontName=a[4],this.version=a[5];try{this.postscriptName=a[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t){this.postscriptName=a[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=a[7],this.manufacturer=a[8],this.designer=a[9],this.description=a[10],this.vendorUrl=a[11],this.designerUrl=a[12],this.license=a[13],this.licenseUrl=a[14],this.preferredFamily=a[15],this.preferredSubfamily=a[17],this.compatibleFull=a[18],this.sampleText=a[19]},e}(),tn=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return We(e,Be),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),en=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return We(e,Be),e.prototype.tag="hmtx",e.prototype.parse=function(t){var e,n,r,i,o,s;for(t.pos=this.offset,this.metrics=[],e=0,o=this.file.hhea.numberOfMetrics;0<=o?e<o:e>o;e=0<=o?++e:--e)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,i;for(i=[],e=n=0;0<=r?n<r:n>r;e=0<=r?++n:--n)i.push(t.readInt16());return i}(),this.widths=(function(){var t,e,n,r;for(r=[],t=0,e=(n=this.metrics).length;t<e;t++)r.push(n[t].advance);return r}).call(this),n=this.widths[this.widths.length-1],s=[],e=i=0;0<=r?i<r:i>r;e=0<=r?++i:--i)s.push(this.widths.push(n));return s},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),nn=[].slice,rn=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return We(e,Be),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var e,n,r,i,o,s,a,u,c,l;return t in this.cache?this.cache[t]:(e=this.file.contents,n=(i=this.file.loca).indexOf(t),0===(r=i.lengthOf(t))?this.cache[t]=null:(e.pos=this.offset+n,o=(s=new Ve(e.read(r))).readShort(),u=s.readShort(),l=s.readShort(),a=s.readShort(),c=s.readShort(),this.cache[t]=-1===o?new sn(s,u,l,a,c):new on(s,o,u,l,a,c),this.cache[t]))},e.prototype.encode=function(t,e,n){var r,i,o,s,a;for(o=[],i=[],s=0,a=e.length;s<a;s++)r=t[e[s]],i.push(o.length),r&&(o=o.concat(r.encode(n)));return i.push(o.length),{table:o,offsets:i}},e}(),on=function(){function t(t,e,n,r,i,o){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),sn=function(){function t(t,e,n,r,i){var o,s;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=r,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;s=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&s;)o.pos+=1&s?4:2,128&s?o.pos+=8:64&s?o.pos+=4:8&s&&(o.pos+=2)}return t.prototype.encode=function(){var t,e,n;for(e=new Ve(nn.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},t}(),an=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return We(e,Be),e.prototype.tag="loca",e.prototype.parse=function(t){var e;return t.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?(function(){var n,r;for(r=[],e=0,n=this.length;e<n;e+=2)r.push(2*t.readUInt16());return r}).call(this):(function(){var n,r;for(r=[],e=0,n=this.length;e<n;e+=4)r.push(t.readUInt32());return r}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,e){for(var n=new Uint32Array(this.offsets.length),r=0,i=0,o=0;o<n.length;++o)if(n[o]=r,i<e.length&&e[i]==o){++i,n[o]=r;var s=this.offsets[o+1]-this.offsets[o];s>0&&(r+=s)}for(var a=new Array(4*n.length),u=0;u<n.length;++u)a[4*u+3]=255&n[u],a[4*u+2]=(65280&n[u])>>8,a[4*u+1]=(16711680&n[u])>>16,a[4*u]=(4278190080&n[u])>>24;return a},e}(),un=function(){function t(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var t,e,n,r;for(e in n=this.font.cmap.tables[0].codeMap,t={},r=this.subset)t[e]=n[r[e]];return t},t.prototype.glyphsFor=function(t){var e,n,r,i,o,s,a;for(r={},o=0,s=t.length;o<s;o++)r[i=t[o]]=this.font.glyf.glyphFor(i);for(i in e=[],r)(null!=(n=r[i])?n.compound:void 0)&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(i in a=this.glyphsFor(e))r[i]=n=a[i];return r},t.prototype.encode=function(t,e){var n,r,i,o,s,a,u,c,l,h,f,d,p,g;for(r in n=$e.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},g=n.charMap)h[(s=g[r]).old]=s.new;for(f in l=n.maxGlyphID,o)f in h||(h[f]=l++);return u=function(t){var e,n;for(e in n={},t)n[t[e]]=e;return n}(h),c=Object.keys(u).sort(function(t,e){return t-e}),d=function(){var t,e,n;for(n=[],t=0,e=c.length;t<e;t++)n.push(u[c[t]]);return n}(),i=this.font.glyf.encode(o,d,h),a=this.font.loca.encode(i.offsets,d),p={cmap:this.font.cmap.raw(),glyf:i.table,loca:a,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(p["OS/2"]=this.font.os2.raw()),this.font.directory.encode(p)},t}();Ct.API.PDFObject=function(){var t;function e(){}return t=function(t,e){return(Array(e+1).join("0")+t).slice(-e)},e.convert=function(n){var r,i;if(Array.isArray(n))return"["+function(){var t,r,i;for(i=[],t=0,r=n.length;t<r;t++)i.push(e.convert(n[t]));return i}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(r in i=["<<"],n)i.push("/"+r+" "+e.convert(n[r]));return i.push(">>"),i.join("\n")}return""+n},e}();const cn=Ct},4928:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const l=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(YE){e=YE instanceof l?f(YE.errors):[YE]}if(u(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(c(n))try{n.unsubscribe()}catch(YE){e=e||[],YE instanceof l?e=e.concat(f(YE.errors)):e.push(YE)}}}if(e)throw new l(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof l?e.errors:e),[])}const d=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class p extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof p?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[d](){return this}static create(t,e,n){const r=new p(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends p{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(s=Object.create(e),r(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(t){return t}let y=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof p)return t;if(t[d])return t[d]()}return t||e||n?new p(t,e,n):new p(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof p?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=b(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?v:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=b(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function b(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const _=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class C extends p{constructor(t){super(t),this.destination=t}}let S=(()=>{class t extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[d](){return new C(this)}lift(t){const e=new x(this,this);return e.operator=t,e}next(t){if(this.closed)throw new _;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new _;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new y;return t.source=this,t}}return t.create=(t,e)=>new x(t,e),t})();class x extends S{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function I(t){return t&&"function"==typeof t.schedule}class A extends p{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const k=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const T=E(),P=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function N(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const O=t=>{if(t&&"function"==typeof t[m])return n=t,t=>{const e=n[m]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(P(t))return k(t);if(N(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e))(t);if(t&&"function"==typeof t[T])return e=t,t=>{const n=e[T]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n};function L(t,e,n,r,i=new A(t,n,r)){if(!i.closed)return e instanceof y?e.subscribe(i):O(e)(i)}class D extends p{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function M(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new R(t,e))}}class R{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new F(t,this.project,this.thisArg))}}class F extends p{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function j(t,e){return new y(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function U(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(N(t))return function(t,e){return new y(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(P(t))return j(t,e);if(function(t){return t&&"function"==typeof t[T]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new y(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[T](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof y?t:new y(O(t))}function q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(q((n,r)=>U(t(n,r)).pipe(M((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new B(t,n)))}class B{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new V(t,this.project,this.concurrent))}}class V extends D{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new A(this,e,n),i=this.destination;i.add(r);const o=L(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t=Number.POSITIVE_INFINITY){return q(v,t)}function z(t,e){return e?j(t,e):new y(k(t))}function W(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return I(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof y?t[0]:H(e)(z(t,n))}function G(){return function(t){return t.lift(new K(t))}}class K{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new $(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class $ extends p{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class Y extends y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new X(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return G()(this)}}const Q=(()=>{const t=Y.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class X extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function J(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new Z(r,e));const i=Object.create(n,Q);return i.source=n,i.subjectFactory=r,i}}class Z{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}function tt(){return new S}function et(t){for(let e in t)if(t[e]===et)return e;throw Error("Could not find renamed property on target object.")}function nt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function rt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(rt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function it(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const ot=et({__forward_ref__:et});function st(t){return t.__forward_ref__=st,t.toString=function(){return rt(this())},t}function at(t){return ut(t)?t():t}function ut(t){return"function"==typeof t&&t.hasOwnProperty(ot)&&t.__forward_ref__===st}class ct extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function lt(t){return"string"==typeof t?t:null==t?"":String(t)}function ht(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():lt(t)}function ft(t,e){const n=e?` in ${e}`:"";throw new ct("201",`No provider for ${ht(t)} found${n}`)}function dt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pt(t){return{providers:t.providers||[],imports:t.imports||[]}}function gt(t){return mt(t,yt)||mt(t,_t)}function mt(t,e){return t.hasOwnProperty(e)?t[e]:null}function vt(t){return t&&(t.hasOwnProperty(bt)||t.hasOwnProperty(wt))?t[bt]:null}const yt=et({"\u0275prov":et}),bt=et({"\u0275inj":et}),_t=et({ngInjectableDef:et}),wt=et({ngInjectorDef:et});var Ct=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let St;function xt(t){const e=St;return St=t,e}function It(t,e,n){const r=gt(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ct.Optional?null:void 0!==e?e:void ft(rt(t),"Injector")}function At(t){return{toString:t}.toString()}var kt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Et=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const Tt="undefined"!=typeof globalThis&&globalThis,Pt="undefined"!=typeof window&&window,Nt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ot="undefined"!=typeof global&&global,Lt=Tt||Ot||Pt||Nt,Dt={},Mt=[],Rt=et({"\u0275cmp":et}),Ft=et({"\u0275dir":et}),jt=et({"\u0275pipe":et}),Ut=et({"\u0275mod":et}),qt=et({"\u0275loc":et}),Bt=et({"\u0275fac":et}),Vt=et({__NG_ELEMENT_ID__:et});let Ht=0;function zt(t){return At(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Et.Emulated,id:"c",styles:t.styles||Mt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Ht++,n.inputs=Yt(t.inputs,e),n.outputs=Yt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Wt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Gt):null,n})}function Wt(t){return Jt(t)||function(t){return t[Ft]||null}(t)}function Gt(t){return function(t){return t[jt]||null}(t)}const Kt={};function $t(t){const e={type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&At(()=>{Kt[t.id]=t.type}),e}function Yt(t,e){if(null==t)return Dt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Qt=zt;function Xt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Jt(t){return t[Rt]||null}function Zt(t,e){const n=t[Ut]||null;if(!n&&!0===e)throw new Error(`Type ${rt(t)} does not have '\u0275mod' property.`);return n}const te=20,ee=10;function ne(t){return Array.isArray(t)&&"object"==typeof t[1]}function re(t){return Array.isArray(t)&&!0===t[1]}function ie(t){return 0!=(8&t.flags)}function oe(t){return 2==(2&t.flags)}function se(t){return 1==(1&t.flags)}function ae(t){return null!==t.template}function ue(t,e){return t.hasOwnProperty(Bt)?t[Bt]:null}class ce{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function le(){return he}function he(t){return t.type.prototype.ngOnChanges&&(t.setInput=de),fe}function fe(){const t=pe(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Dt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function de(t,e,n,r){const i=pe(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Dt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new ce(u&&u.currentValue,e,s===Dt),t[r]=e}function pe(t){return t.__ngSimpleChanges__||null}let ge;function me(t){return!!t.listen}le.ngInherit=!0;const ve={createRenderer:(t,e)=>void 0!==ge?ge:"undefined"!=typeof document?document:void 0};function ye(t){for(;Array.isArray(t);)t=t[0];return t}function be(t,e){return ye(e[t])}function _e(t,e){return ye(e[t.index])}function we(t,e){return t.data[e]}function Ce(t,e){return t[e]}function Se(t,e){const n=e[t];return ne(n)?n:n[0]}function xe(t){return 128==(128&t[2])}function Ie(t,e){return null==e?null:t[e]}function Ae(t){t[18]=0}function ke(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ee={lFrame:Xe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Te(){return Ee.bindingsEnabled}function Pe(){return Ee.lFrame.lView}function Ne(){return Ee.lFrame.tView}function Oe(t){return Ee.lFrame.contextLView=t,t[8]}function Le(){let t=De();for(;null!==t&&64===t.type;)t=t.parent;return t}function De(){return Ee.lFrame.currentTNode}function Me(t,e){const n=Ee.lFrame;n.currentTNode=t,n.isParent=e}function Re(){return Ee.lFrame.isParent}function Fe(){Ee.lFrame.isParent=!1}function je(){return Ee.isInCheckNoChangesMode}function Ue(t){Ee.isInCheckNoChangesMode=t}function qe(){const t=Ee.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Be(){return Ee.lFrame.bindingIndex}function Ve(){return Ee.lFrame.bindingIndex++}function He(t){const e=Ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ze(t,e){const n=Ee.lFrame;n.bindingIndex=n.bindingRootIndex=t,We(e)}function We(t){Ee.lFrame.currentDirectiveIndex=t}function Ge(t){Ee.lFrame.currentQueryIndex=t}function Ke(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function $e(t,e,n){if(n&Ct.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&Ct.Host||(r=Ke(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ee.lFrame=Qe();return r.currentTNode=e,r.lView=t,!0}function Ye(t){const e=Qe(),n=t[1];Ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Qe(){const t=Ee.lFrame,e=null===t?null:t.child;return null===e?Xe(t):e}function Xe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Je(){const t=Ee.lFrame;return Ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ze=Je;function tn(){const t=Je();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function en(){return Ee.lFrame.selectedIndex}function nn(t){Ee.lFrame.selectedIndex=t}function rn(){const t=Ee.lFrame;return we(t.tView,t.selectedIndex)}function on(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function sn(t,e,n){cn(t,e,3,n)}function an(t,e,n,r){(3&t[2])===n&&cn(t,e,n,r)}function un(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function cn(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(ln(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ln(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const hn=-1;class fn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function dn(t,e,n){const r=me(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];gn(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function pn(t){return 3===t||4===t||6===t}function gn(t){return 64===t.charCodeAt(0)}function mn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||vn(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function vn(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function yn(t){return t!==hn}function bn(t){return 32767&t}function _n(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let wn=!0;function Cn(t){const e=wn;return wn=t,e}let Sn=0;function xn(t,e){const n=An(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,In(r.data,t),In(e,null),In(r.blueprint,null));const i=kn(t,e),o=t.injectorIndex;if(yn(i)){const t=bn(i),n=_n(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function In(t,e){t.push(0,0,0,0,0,0,0,0,e)}function An(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function kn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return hn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return hn}function En(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Vt)&&(r=n[Vt]),null==r&&(r=n[Vt]=Sn++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Tn(t,e,n){if(n&Ct.Optional)return t;ft(e,"NodeInjector")}function Pn(t,e,n,r){if(n&Ct.Optional&&void 0===r&&(r=null),0==(n&(Ct.Self|Ct.Host))){const i=t[9],o=xt(void 0);try{return i?i.get(e,r,n&Ct.Optional):It(e,r,n&Ct.Optional)}finally{xt(o)}}return Tn(r,e,n)}function Nn(t,e,n,r=Ct.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Vt)?t[Vt]:void 0;return"number"==typeof e?e>=0?255&e:Ln:e}(n);if("function"==typeof o){if(!$e(e,t,r))return r&Ct.Host?Tn(i,n,r):Pn(e,n,r,i);try{const t=o(r);if(null!=t||r&Ct.Optional)return t;ft(n)}finally{Ze()}}else if("number"==typeof o){let i=null,s=An(t,e),a=hn,u=r&Ct.Host?e[16][6]:null;for((-1===s||r&Ct.SkipSelf)&&(a=-1===s?kn(t,e):e[s+8],a!==hn&&Fn(r,!1)?(i=e[1],s=bn(a),e=_n(a,e)):s=-1);-1!==s;){const t=e[1];if(Rn(o,s,t.data)){const t=Dn(s,e,n,i,r,u);if(t!==On)return t}a=e[s+8],a!==hn&&Fn(r,e[1].data[s+8]===u)&&Rn(o,s,e)?(i=t,s=bn(a),e=_n(a,e)):s=-1}}}return Pn(e,n,r,i)}const On={};function Ln(){return new jn(Le(),Pe())}function Dn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=function(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&ae(t)&&t.type===n)return u}return null}(a,s,n,null==r?oe(a)&&wn:r!=s&&0!=(3&a.type),i&Ct.Host&&o===a);return null!==u?Mn(e,s,u,a):On}function Mn(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof fn){const s=i;s.resolving&&function(t,e){throw new ct("200",`Circular dependency in DI detected for ${t}`)}(ht(o[n]));const a=Cn(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?xt(s.injectImpl):null;$e(t,r,Ct.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=he(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&xt(u),Cn(a),s.resolving=!1,Ze()}}return i}function Rn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Fn(t,e){return!(t&Ct.Self||t&Ct.Host&&e)}class jn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Nn(this._tNode,this._lView,t,void 0,e)}}function Un(t){return At(()=>{const e=t.prototype.constructor,n=e[Bt]||qn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Bt]||qn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function qn(t){return ut(t)?()=>{const e=qn(at(t));return e&&e()}:ue(t)}const Bn="__parameters__",Vn="__prop__metadata__";function Hn(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function zn(t,e,n){return At(()=>{const r=Hn(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Bn)?t[Bn]:Object.defineProperty(t,Bn,{value:[]})[Bn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Wn(t,e,n,r){return At(()=>{const i=Hn(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(Vn)?o[Vn]:Object.defineProperty(o,Vn,{value:{}})[Vn];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}class Gn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=dt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Kn=new Gn("AnalyzeForEntryComponents"),$n=Function;function Yn(t,e){t.forEach(t=>Array.isArray(t)?Yn(t,e):e(t))}function Qn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Jn(t,e,n){let r=tr(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Zn(t,e){const n=tr(t,e);if(n>=0)return t[1|n]}function tr(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const er={},nr=/\n/gm,rr="__source",ir=et({provide:String,useValue:et});let or;function sr(t){const e=or;return or=t,e}function ar(t,e=Ct.Default){if(void 0===or)throw new Error("inject() must be called from an injection context");return null===or?It(t,void 0,e):or.get(t,e&Ct.Optional?null:void 0,e)}function ur(t,e=Ct.Default){return(St||ar)(at(t),e)}function cr(t){const e=[];for(let n=0;n<t.length;n++){const r=at(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=Ct.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(ur(t,n))}else e.push(ur(r))}return e}function lr(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const hr=lr(zn("Inject",t=>({token:t})),-1),fr=lr(zn("Optional"),8),dr=lr(zn("SkipSelf"),4);class pr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function gr(t){return t instanceof pr?t.changingThisBreaksApplicationSecurity:t}const mr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,vr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=function(){const t=Pe();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":function(t,e){const n=function(t){return t instanceof pr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}(t,"URL")?gr(t):(n=lt(t),(n=String(n)).match(mr)||n.match(vr)?n:"unsafe:"+n);var n}function _r(t,e){t.__ngContext__=e}function wr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Cr(t){return t.ngDebugContext}function Sr(t){return t.ngOriginalError}function xr(t,...e){t.error(...e)}class Ir{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Cr(t)?Cr(t):this._findContext(Sr(t)):null}_findOriginalError(t){let e=Sr(t);for(;e&&Sr(e);)e=Sr(e);return e}}const Ar=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Lt))();function kr(t){return t.ownerDocument}function Er(t){return t instanceof Function?t():t}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Pr(t,e){return(void 0)(t,e)}function Nr(t){const e=t[3];return re(e)?e[3]:e}function Or(t){return Dr(t[13])}function Lr(t){return Dr(t[4])}function Dr(t){for(;null!==t&&!re(t);)t=t[4];return t}function Mr(t,e,n,r,i){if(null!=r){let o,s=!1;re(r)?o=r:ne(r)&&(s=!0,r=r[0]);const a=ye(r);0===t&&null!==n?null==i?Vr(e,n,a):Br(e,n,a,i||null,!0):1===t&&null!==n?Br(e,n,a,i||null,!0):2===t?function(t,e,n){const r=zr(t,e);r&&function(t,e,n,r){me(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ye(n)&&Mr(e,t,r,o,i);for(let s=ee;s<n.length;s++){const i=n[s];Qr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Rr(t,e,n){return me(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Fr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,ke(i,-1)),n.splice(r,1)}function jr(t,e){if(t.length<=ee)return;const n=ee+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Fr(o,r),e>0&&(t[n-1][4]=r[4]);const s=Xn(t,ee+e);Qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ur(t,e){if(!(256&e[2])){const n=e[11];me(n)&&n.destroyNode&&Qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return qr(t[1],t);for(;e;){let n=null;if(ne(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ne(e)&&qr(e[1],e),e=e[3];null===e&&(e=t),ne(e)&&qr(e[1],e),n=e&&e[4]}e=n}}(e)}}function qr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof fn)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):ye(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&me(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&re(e[3])){n!==e[3]&&Fr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Br(t,e,n,r,i){me(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Vr(t,e,n){me(t)?t.appendChild(e,n):e.appendChild(n)}function Hr(t,e,n,r,i){null!==r?Br(t,e,n,r,i):Vr(t,e,n)}function zr(t,e){return me(t)?t.parentNode(e):e.parentNode}function Wr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===Et.None||e===Et.Emulated)return null}return _e(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?_e(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Hr(o,i,n[a],s,!1);else Hr(o,i,n,s,!1)}function Gr(t,e){if(null!==e){const n=e.type;if(3&n)return _e(e,t);if(4&n)return $r(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Gr(t,n);{const n=t[e.index];return re(n)?$r(-1,n):ye(n)}}if(32&n)return Pr(e,t)()||ye(t[e.index]);{const n=Kr(t,e);return null!==n?Array.isArray(n)?n[0]:Gr(Nr(t[16]),n):Gr(t,e.next)}}return null}function Kr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function $r(t,e){const n=ee+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Gr(t,r)}return e[7]}function Yr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&_r(ye(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Yr(t,e,n.child,r,i,o,!1),Mr(e,t,i,a,o);else if(32&u){const s=Pr(n,r);let u;for(;u=s();)Mr(e,t,i,u,o);Mr(e,t,i,a,o)}else 16&u?Xr(t,e,r,n,i,o):Mr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Qr(t,e,n,r,i,o){Yr(n,r,t.firstChild,e,i,o,!1)}function Xr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Mr(e,t,i,a[u],o);else Yr(t,e,a,s[3],i,o,!0)}function Jr(t,e,n){me(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Zr(t,e,n){me(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ti(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ei="ng-template";function ni(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ti(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ri(t){return 4===t.type&&t.value!==ei}function ii(t,e,n){return e===(4!==t.type||n?t.value:ei)}function oi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(pn(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ii(t,u,n)||""===u&&1===e.length){if(si(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ni(t.attrs,c,n)){if(si(r))return!1;s=!0}continue}const l=ai(8&r?"class":u,i,ri(t),n);if(-1===l){if(si(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ti(e,c,0)||2&r&&c!==t){if(si(r))return!1;s=!0}}}}else{if(!s&&!si(r)&&!si(u))return!1;if(s&&si(u))continue;s=!1,r=u|1&r}}return si(r)||s}function si(t){return 0==(1&t)}function ai(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ui(t,e,n=!1){for(let r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function ci(t,e){return t?":not("+e.trim()+")":e}function li(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||si(s)||(e+=ci(o,i),i=""),r=s,o=o||!si(r);n++}return""!==i&&(e+=ci(o,i)),e}const hi={};function fi(t){di(Ne(),Pe(),en()+t,je())}function di(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&sn(e,r,n)}else{const r=t.preOrderHooks;null!==r&&an(e,r,0,n)}nn(n)}function pi(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function mi(t){return 2|t}function vi(t){return(131068&t)>>2}function yi(t,e){return-131069&t|e<<2}function bi(t){return 1|t}function _i(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Ge(i),n.contentQueries(2,e[o],o)}}}function wi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ae(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ci(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=De(),s=Re(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Ee.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Ee.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Me(o,!0),o}function Si(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xi(t,e,n){Ye(e);try{const r=t.viewQuery;null!==r&&Zi(1,r,n);const i=t.template;null!==i&&ki(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&_i(t,e),t.staticViewQueries&&Zi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)$i(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,tn()}}function Ii(t,e,n,r){const i=e[2];if(256==(256&i))return;Ye(e);const o=je();try{Ae(e),Ee.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ki(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&sn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&an(e,n,0,null),un(e,0)}if(function(t){for(let e=Or(t);null!==e;e=Lr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ke(r,1),n[2]|=1024}}}(e),function(t){for(let e=Or(t);null!==e;e=Lr(e))for(let t=ee;t<e.length;t++){const n=e[t],r=n[1];xe(n)&&Ii(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&_i(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&sn(e,n)}else{const n=t.contentHooks;null!==n&&an(e,n,1),un(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)nn(~r);else{const i=r,o=n[++t],s=n[++t];ze(o,i),s(2,e[i])}}}finally{nn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Zi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&sn(e,n)}else{const n=t.viewHooks;null!==n&&an(e,n,2),un(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ke(e[3],-1))}finally{tn()}}function Ai(t,e,n,r){const i=e[10],o=!je(),s=4==(4&e[2]);try{o&&!s&&i.begin&&i.begin(),s&&xi(t,e,r),Ii(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function ki(t,e,n,r,i){const o=en(),s=2&r;try{nn(-1),s&&e.length>te&&di(t,e,te,je()),n(r,i)}finally{nn(o)}}function Ei(t,e,n){if(ie(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ti(t,e,n){Te()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||xn(n,e),_r(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=ae(r);o&&Vi(e,n,r);const u=Mn(e,t,a,n);_r(u,e),null!==s&&Hi(0,a-i,u,r,0,s),o&&(Se(n.index,e)[8]=u)}}(t,e,n,_e(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ee.lFrame.currentDirectiveIndex;try{nn(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];We(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Fi(r,i)}}finally{nn(-1),We(s)}}(t,e,n))}function Pi(t,e,n=_e){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ni(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Oi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Oi(t,e,n,r,i,o,s,a,u,c){const l=te+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:hi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Li(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,o,s,a){const u=_e(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(io(t,n,c,r,i),oe(e)&&function(t,e){const n=Se(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,me(o)?o.setProperty(u,r,i):gn(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Mi(t,e,n,r){let i=!1;if(Te()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ui(n,s.selectors,!1)&&(i||(i=[]),En(xn(n,e),t,s.type),ae(s)?(ji(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,qi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Si(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=mn(n.mergedAttrs,c.hostAttrs),Bi(t,n,e,u,c),Ui(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ri(e)?null:zi(n,i);o.push(c),s=Li(n,u,s),a=Li(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new ct("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=mn(n.mergedAttrs,n.attrs),i}function Ri(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Fi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ji(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ui(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ae(e)&&(n[""]=t)}}function qi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Bi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=ue(i.type)),s=new fn(o,ae(i),null);t.blueprint[r]=s,n[r]=s,Ri(t,e,0,r,Si(t,n,i.hostVars,hi),i)}function Vi(t,e,n){const r=_e(e,t),i=Ni(n),o=t[10],s=Yi(t,wi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Hi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function zi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Wi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=Se(e,t);if(xe(n)){const t=n[1];80&n[2]?Ii(t,n,t.template,n[8]):n[5]>0&&Ki(n)}}function Ki(t){for(let n=Or(t);null!==n;n=Lr(n))for(let t=ee;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ii(t,e,t.template,e[8])}else e[5]>0&&Ki(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Se(e[n],t);xe(r)&&r[5]>0&&Ki(r)}}function $i(t,e){const n=Se(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),xi(r,n,n[8])}function Yi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Qi(t){for(;t;){t[2]|=64;const e=Nr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Xi(t,e,n){const r=e[10];r.begin&&r.begin();try{Ii(t,e,t.template,n)}catch(i){throw ro(e,i),i}finally{r.end&&r.end()}}function Ji(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=wr(n),i=r[1];Ai(i,r,i.template,n)}}(t[8])}function Zi(t,e,n){Ge(0),e(t,n)}const to=(()=>Promise.resolve(null))();function eo(t){return t[7]||(t[7]=[])}function no(t){return t.cleanup||(t.cleanup=[])}function ro(t,e){const n=t[9],r=n?n.get(Ir,null):null;r&&r.handleError(e)}function io(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function oo(t,e,n){const r=be(e,t);!function(t,e,n){me(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function so(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=it(i,t):2==o&&(r=it(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ao=new Gn("INJECTOR",-1);class uo{get(t,e=er){if(e===er){const e=new Error(`NullInjectorError: No provider for ${rt(t)}!`);throw e.name="NullInjectorError",e}return e}}const co=new Gn("Set Injector scope."),lo={},ho={};let fo;function po(){return void 0===fo&&(fo=new uo),fo}function go(t,e=null,n=null,r){return new mo(t,n,e||po(),r)}class mo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&Yn(e,n=>this.processProvider(n,t,e)),Yn([t],t=>this.processInjectorType(t,[],i)),this.records.set(ao,bo(void 0,this));const o=this.records.get(co);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:rt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=er,n=Ct.Default){this.assertNotDestroyed();const r=sr(this);try{if(!(n&Ct.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Gn)&&gt(t);e=n&&this.injectableDefInScope(n)?bo(vo(t),lo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&Ct.Self?po():this.parent).get(t,e=n&Ct.Optional&&e===er?null:e)}catch(YE){if("NullInjectorError"===YE.name){if((YE.ngTempTokenPath=YE.ngTempTokenPath||[]).unshift(rt(t)),r)throw YE;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[rr]&&i.unshift(e[rr]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=rt(e);if(Array.isArray(e))i=e.map(rt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):rt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nr,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(YE,t,"R3InjectorError",this.source)}throw YE}finally{sr(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(rt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=at(t)))return!1;let r=vt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=vt(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{Yn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Yn(r,t=>this.processProvider(t,n,r||Mt))}}this.injectorDefTypes.add(o);const a=ue(o)||(()=>new o);this.records.set(o,bo(a,lo));const u=r.providers;if(null!=u&&!s){const e=t;Yn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=wo(t=at(t))?t:at(t&&t.provide);const i=function(t,e,n){return _o(t)?bo(void 0,t.useValue):bo(yo(t),lo)}(t);if(wo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=bo(void 0,lo,!0),e.factory=()=>cr(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===lo&&(e.value=ho,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=at(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function vo(t){const e=gt(t),n=null!==e?e.factory:ue(t);if(null!==n)return n;if(t instanceof Gn)throw new Error(`Token ${rt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${rt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[yt]||t[_t]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function yo(t,e,n){let r;if(wo(t)){const e=at(t);return ue(e)||vo(e)}if(_o(t))r=()=>at(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...cr(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>ur(at(t.useExisting));else{const e=at(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return ue(e)||vo(e);r=()=>new e(...cr(t.deps))}var i;return r}function bo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function _o(t){return null!==t&&"object"==typeof t&&ir in t}function wo(t){return"function"==typeof t}const Co=function(t,e,n){return function(t,e=null,n=null,r){const i=go(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let So=(()=>{class t{static create(t,e){return Array.isArray(t)?Co(t,e,""):Co(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=er,t.NULL=new uo,t.\u0275prov=dt({token:t,providedIn:"any",factory:()=>ur(ao)}),t.__NG_ELEMENT_ID__=-1,t})();function xo(t,e){on(wr(t)[1],Le())}function Io(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(ae(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ao(t.inputs),e.declaredInputs=Ao(t.declaredInputs),e.outputs=Ao(t.outputs);const n=i.hostBindings;n&&To(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&ko(t,o),s&&Eo(t,s),nt(t.inputs,i.inputs),nt(t.declaredInputs,i.declaredInputs),nt(t.outputs,i.outputs),ae(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Io&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=mn(i.hostAttrs,n=mn(n,i.hostAttrs))}}(r)}function Ao(t){return t===Dt?{}:t===Mt?[]:t}function ko(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Eo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function To(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Po=null;function No(){if(!Po){const t=Lt.Symbol;if(t&&t.iterator)Po=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Po=n)}}}return Po}class Oo{constructor(t){this.wrapped=t}static wrap(t){return new Oo(t)}static unwrap(t){return Oo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Oo}}function Lo(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&No()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Mo(t,e,n){return t[e]=n}function Ro(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Fo(t,e,n,r){const i=Ro(t,e,n);return Ro(t,e+1,r)||i}function jo(t,e,n,r){const i=Pe();return Ro(i,Ve(),e)&&(Ne(),function(t,e,n,r,i,o){const s=_e(t,e);!function(t,e,n,r,i,o,s){if(null==o)me(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?lt(o):s(o,r||"",i);me(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(rn(),i,t,e,n,r)),jo}function Uo(t,e,n,r){return Ro(t,Ve(),n)?e+lt(n)+r:hi}function qo(t,e,n,r,i,o,s,a){const u=function(t,e,n,r,i){const o=Fo(t,e,n,r);return Ro(t,e+2,i)||o}(t,Be(),n,i,s);return He(3),u?e+lt(n)+r+lt(i)+o+lt(s)+a:hi}function Bo(t,e,n,r,i,o,s,a){const u=Pe(),c=Ne(),l=t+te,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=Ci(e,t,4,s||null,Ie(c,a));Mi(e,n,l,Ie(c,u)),on(e,l);const h=l.tViews=Oi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Me(h,!1);const f=u[11].createComment("");Wr(c,u,f,h),_r(f,u),Yi(u,u[l]=Wi(f,u,f,h)),se(h)&&Ti(c,u,h),null!=s&&Pi(u,h,a)}function Vo(t){return Ce(Ee.lFrame.contextLView,te+t)}function Ho(t,e=Ct.Default){const n=Pe();return null===n?ur(t,e):Nn(Le(),n,at(t),e)}function zo(t,e,n){const r=Pe();return Ro(r,Ve(),e)&&Di(Ne(),rn(),r,t,e,r[11],n,!1),zo}function Wo(t,e,n,r,i){const o=i?"class":"style";io(t,n,e.inputs[o],o,r)}function Go(t,e,n,r){const i=Pe(),o=Ne(),s=te+t,a=i[11],u=i[s]=Rr(a,e,Ee.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=Ci(e,t,2,i,Ie(a,o));return Mi(e,n,u,Ie(a,s)),null!==u.attrs&&so(u,u.attrs,!1),null!==u.mergedAttrs&&so(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Me(c,!0);const l=c.mergedAttrs;null!==l&&dn(a,u,l);const h=c.classes;null!==h&&Zr(a,u,h);const f=c.styles;null!==f&&Jr(a,u,f),64!=(64&c.flags)&&Wr(o,i,u,c),0===Ee.lFrame.elementDepthCount&&_r(u,i),Ee.lFrame.elementDepthCount++,se(c)&&(Ti(o,i,c),Ei(o,c,i)),null!==r&&Pi(i,c)}function Ko(){let t=Le();Re()?Fe():(t=t.parent,Me(t,!1));const e=t;Ee.lFrame.elementDepthCount--;const n=Ne();n.firstCreatePass&&(on(n,t),ie(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Wo(n,e,Pe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Wo(n,e,Pe(),e.stylesWithoutHost,!1)}function $o(t,e,n,r){Go(t,e,n,r),Ko()}function Yo(){return Pe()}function Qo(t){return!!t&&"function"==typeof t.then}const Xo=function(t){return!!t&&"function"==typeof t.subscribe};function Jo(t,e,n,r){const i=Pe(),o=Ne(),s=Le();return function(t,e,n,r,i,o,s,a){const u=se(r),c=t.firstCreatePass&&no(t),l=eo(e);let h=!0;if(3&r.type||a){const f=_e(r,e),d=a?a(f):f,p=l.length,g=a?t=>a(ye(t[r.index])):r.index;if(me(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ts(r,e,0,o,!1);const t=n.listen(d,i,o);l.push(o,t),c&&c.push(i,g,p,p+1)}}else o=ts(r,e,0,o,!0),d.addEventListener(i,o,s),l.push(o),c&&c.push(i,g,p,s)}else o=ts(r,e,0,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),Jo}function Zo(t,e,n,r){try{return!1!==n(r)}catch(i){return ro(t,i),!1}}function ts(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Se(t.index,e):e;0==(32&e[2])&&Qi(s);let a=Zo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Zo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function es(t=1){return function(t){return(Ee.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ee.lFrame.contextLView))[8]}(t)}function ns(t,e,n){return rs(t,"",e,"",n),ns}function rs(t,e,n,r,i){const o=Pe(),s=Uo(o,e,n,r);return s!==hi&&Di(Ne(),rn(),o,t,s,o[11],i,!1),rs}function is(t,e,n,r,i,o,s,a,u){const c=Pe(),l=qo(c,e,n,r,i,o,s,a);return l!==hi&&Di(Ne(),rn(),c,t,l,c[11],u,!1),is}function os(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?gi(o):vi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];ss(t[a],e)&&(u=!0,t[a+1]=r?bi(n):mi(n)),a=r?gi(n):vi(n)}u&&(t[n+1]=r?mi(o):bi(o))}function ss(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&tr(t,e)>=0}function as(t,e,n){return cs(t,e,n,!1),as}function us(t,e){return cs(t,e,null,!0),us}function cs(t,e,n,r){const i=Pe(),o=Ne(),s=He(2);o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[en()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=hs(n=ls(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ls(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==vi(r))return t[gi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ls(null,t,e,n[1],r),n=hs(n,e.attrs,r),function(t,e,n,r){t[gi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=hs(r,t[o].hostAttrs,n);return hs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=gi(s),u=vi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||tr(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=gi(t[a+1]);t[r+1]=pi(e,a),0!==e&&(t[e+1]=yi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=pi(a,0),0!==a&&(t[a+1]=yi(t[a+1],r)),a=r;else t[r+1]=pi(u,0),0===a?a=r:t[u+1]=yi(t[u+1],r),u=r;l&&(t[r+1]=mi(t[r+1])),os(t,c,r,!0),os(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&tr(o,e)>=0&&(n[r+1]=bi(n[r+1]))}(e,c,t,r,o),s=pi(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}(o,t,s,r),e!==hi&&Ro(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ds(1==(1&c)?fs(u,e,n,i,vi(c),s):void 0)||(ds(o)||function(t){return 2==(2&t)}(c)&&(o=fs(u,null,n,i,a,s)),function(t,e,n,r,i){const o=me(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Tr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Tr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,be(en(),n),i,o))}(o,o.data[en()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=rt(gr(t)))),t}(e,n),r,s)}function ls(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=hs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function hs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Jn(t,s,!!n||e[++o]))}return void 0===t?null:t}function fs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===hi&&(l=c?Mt:void 0);let h=c?Zn(l,r):u===r?l:void 0;if(o&&!ds(h)&&(h=Zn(e,r)),ds(h)&&(a=h,s))return a;const f=t[i+1];i=s?gi(f):vi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=Zn(t,r))}return a}function ds(t){return void 0!==t}function ps(t,e=""){const n=Pe(),r=Ne(),i=t+te,o=r.firstCreatePass?Ci(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return me(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Wr(r,n,s,o),Me(o,!1)}function gs(t){return ms("",t,""),gs}function ms(t,e,n){const r=Pe(),i=Uo(r,t,e,n);return i!==hi&&oo(r,en(),i),ms}function vs(t,e,n,r,i){const o=Pe(),s=function(t,e,n,r,i,o){const s=Fo(t,Be(),n,i);return He(2),s?e+lt(n)+r+lt(i)+o:hi}(o,t,e,n,r,i);return s!==hi&&oo(o,en(),s),vs}function ys(t,e,n,r,i,o,s){const a=Pe(),u=qo(a,t,e,n,r,i,o,s);return u!==hi&&oo(a,en(),u),ys}const bs=void 0;var _s=["en",[["a","p"],["AM","PM"],bs],[["AM","PM"],bs,bs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bs,"{1} 'at' {0}",bs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ws={};function Cs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ss(e);if(n)return n;const r=e.split("-")[0];if(n=Ss(r),n)return n;if("en"===r)return _s;throw new Error(`Missing locale data for the locale "${t}".`)}function Ss(t){return t in ws||(ws[t]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[t]),ws[t]}var xs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Is="en-US";let As=Is;function ks(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(As=t.toLowerCase().replace(/_/g,"-"))}function Es(t,e,n,r,i){if(t=at(t),Array.isArray(t))for(let o=0;o<t.length;o++)Es(t[o],e,n,r,i);else{const o=Ne(),s=Pe();let a=wo(t)?t:at(t.provide),u=yo(t);const c=Le(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(wo(t)||!t.multi){const r=new fn(u,i,Ho),d=Ns(a,e,i?l:l+f,h);-1===d?(En(xn(c,s),o,a),Ts(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Ns(a,e,l+f,h),p=Ns(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){En(xn(c,s),o,a);const l=function(t,e,n,r,i){const o=new fn(t,n,Ho);return o.multi=[],o.index=e,o.componentProviders=0,Ps(o,i,r&&!n),o}(i?Ls:Os,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Ts(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Ts(o,t,d>-1?d:p,Ps(n[i?p:d],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Ts(t,e,n,r){const i=wo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Ps(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ns(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Os(t,e,n,r){return Ds(this.multi,[])}function Ls(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Mn(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ds(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ds(i,o);return o}function Ds(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ms(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ne();if(r.firstCreatePass){const i=ae(t);Es(n,r.data,r.blueprint,i,!0),Es(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Rs{}class Fs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${rt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let js=(()=>{class t{}return t.NULL=new Fs,t})();function Us(...t){}function qs(t,e){return new Vs(_e(t,e))}const Bs=function(){return qs(Le(),Pe())};let Vs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Bs,t})();class Hs{}let zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ws(),t})();const Ws=function(){const t=Pe(),e=Se(Le().index,t);return function(t){return t[11]}(ne(e)?e:t)};let Gs=(()=>{class t{}return t.\u0275prov=dt({token:t,providedIn:"root",factory:()=>null}),t})();class Ks{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const $s=new Ks("12.0.1");class Ys{constructor(){}supports(t){return Lo(t)}create(t){return new Xs(t)}}const Qs=(t,e)=>e;class Xs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Qs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ea(n,r,i)?e:n,s=ea(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Lo(t))throw new Error(`Error trying to diff '${rt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[No()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Js(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ta),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ta),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Js{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Zs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ta{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Zs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ea(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class na{constructor(){}supports(t){return t instanceof Map||Do(t)}create(){return new ra}}class ra{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error(`Error trying to diff '${rt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ia(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ia{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oa(){return new sa([new Ys])}let sa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||oa()),deps:[[t,new dr,new fr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=dt({token:t,providedIn:"root",factory:oa}),t})();function aa(){return new ua([new na])}let ua=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||aa()),deps:[[t,new dr,new fr]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=dt({token:t,providedIn:"root",factory:aa}),t})();function ca(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ye(o)),re(o))for(let t=ee;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&ca(e[1],e,n,r)}const s=n.type;if(8&s)ca(t,e,n.child,r);else if(32&s){const t=Pr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Kr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Nr(e[16]);ca(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class la{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ca(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(re(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(jr(t,n),Xn(e,n))}this._attachedToViewContainer=!1}Ur(this._lView[1],this._lView)}onDestroy(t){!function(t,e,n,r){const i=eo(e);i.push(r)}(0,this._lView,0,t)}markForCheck(){Qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Xi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ue(!0);try{Xi(t,e,n)}finally{Ue(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ha extends la{constructor(t){super(t),this._view=t}detectChanges(){Ji(this._view)}checkNoChanges(){!function(t){Ue(!0);try{Ji(t)}finally{Ue(!1)}}(this._view)}get context(){return null}}const fa=function(t){return function(t,e,n){if(oe(t)&&!n){const n=Se(t.index,e);return new la(n,n)}return 47&t.type?new la(e[16],e):null}(Le(),Pe(),16==(16&t))};let da=(()=>{class t{}return t.__NG_ELEMENT_ID__=fa,t})();const pa=[new na],ga=new sa([new Ys]),ma=new ua(pa),va=function(){return t=Le(),e=Pe(),4&t.type?new _a(e,t,qs(t,e)):null;var t,e};let ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=va,t})();const ba=ya,_a=class extends ba{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=wi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),xi(e,n,t),new la(n)}};class wa{}class Ca{}const Sa=function(){return function(t,e){let n;const r=e[t.index];if(re(r))n=r;else{let i;if(8&t.type)i=ye(r);else{const n=e[11];i=n.createComment("");const r=_e(t,e);Br(n,zr(n,r),i,function(t,e){return me(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Wi(r,e,i,t),Yi(e,n)}return new Aa(n,t,e)}(Le(),Pe())};let xa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const Ia=xa,Aa=class extends Ia{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return qs(this._hostTNode,this._hostLView)}get injector(){return new jn(this._hostTNode,this._hostLView)}get parentInjector(){const t=kn(this._hostTNode,this._hostLView);if(yn(t)){const e=_n(t,this._hostLView),n=bn(t);return new jn(e[1].data[n+8],e)}return new jn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ka(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ee}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(wa,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(re(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Aa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ee+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ee?(e[4]=n[i],Qn(n,ee+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=$r(i,o),a=n[11],u=zr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Qr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),Qn(Ea(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ka(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);n&&(Xn(Ea(this._lContainer),e),Ur(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=jr(this._lContainer,e);return n&&null!=Xn(Ea(this._lContainer),e)?new la(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ka(t){return t[8]}function Ea(t){return t[8]||(t[8]=[])}const Ta={};class Pa extends js{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Jt(t);return new La(e,this.ngModule)}}function Na(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Oa=new Gn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ar});class La extends Rs{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(li).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Na(this.componentDef.inputs)}get outputs(){return Na(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ta,i);return o!==Ta||r===Ta?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Hs,ve),s=i.get(Gs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(me(t))return t.selectRootElement(e,n===Et.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Rr(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ar,clean:to,playerHandler:null,flags:0},f=Oi(0,null,null,1,0,null,null,null,null,null),d=wi(null,f,h,l,null,null,o,a,s,i);let p,g;Ye(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ci(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(so(a,u,!0),null!==t&&(dn(i,t,u),null!==a.classes&&Zr(i,t,a.classes),null!==a.styles&&Jr(i,t,a.styles)));const c=r.createRenderer(t,e),l=wi(n,Ni(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(En(xn(a,n),s,e.type),ji(s,a),qi(a,n.length,1)),Yi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)dn(a,c,["ng-version",$s.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!si(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&dn(a,c,t),e&&e.length>0&&Zr(a,c,e.join(" "))}if(g=we(f,te),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Le();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Bi(t,r,e,Si(t,e,1,null),n));const i=Mn(e,t,r.directiveStart,r);_r(i,e);const o=_e(r,e);return o&&_r(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Le();e.contentQueries(1,s,t.directiveStart)}const a=Le();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(nn(a.index),Ri(n[1],a,0,a.directiveStart,a.directiveEnd,e),Fi(e,s)),s}(t,this.componentDef,d,h,[xo]),xi(f,d,null)}finally{tn()}return new Da(this.componentType,p,qs(g,d),d,g)}}class Da extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ha(r),this.componentType=t}get injector(){return new jn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ma=new Map;class Ra extends wa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Pa(this);const n=Zt(t),r=t[qt]||null;r&&ks(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=go(t,e,[{provide:wa,useValue:this},{provide:js,useValue:this.componentFactoryResolver}],rt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=So.THROW_IF_NOT_FOUND,n=Ct.Default){return t===So||t===wa||t===ao?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fa extends Ca{constructor(t){super(),this.moduleType=t,null!==Zt(t)&&function(t){const e=new Set;!function t(n){const r=Zt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${rt(e)} vs ${rt(e.name)}`)}(i,Ma.get(i),n),Ma.set(i,n));const o=Er(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ra(this.moduleType,t)}}function ja(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return Ro(t,s,i)?Mo(t,s+1,o?r.call(o,i):r(i)):Ua(t,s+1)}(Pe(),qe(),t,e,n,r)}function Ua(t,e){const n=t[e];return n===hi?void 0:n}function qa(t,e){const n=Ne();let r;const i=t+te;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new ct("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=ue(r.type)),s=xt(Ho);try{const t=Cn(!1),e=o();return Cn(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Pe(),i,e),e}finally{xt(s)}}function Ba(t,e,n,r){const i=t+te,o=Pe(),s=Ce(o,i);return function(t,e){return Oo.isWrapped(e)&&(e=Oo.unwrap(e),t[Be()]=hi),e}(o,function(t,e){return t[1].data[e].pure}(o,i)?function(t,e,n,r,i,o,s){const a=e+n;return Fo(t,a,i,o)?Mo(t,a+2,s?r.call(s,i,o):r(i,o)):Ua(t,a+2)}(o,qe(),e,s.transform,n,r,s):s.transform(n,r))}function Va(t){return e=>{setTimeout(t,void 0,e)}}const Ha=class extends S{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,i,o;let s=t,a=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;s=null===(r=e.next)||void 0===r?void 0:r.bind(e),a=null===(i=e.error)||void 0===i?void 0:i.bind(e),u=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(a=Va(a),s&&(s=Va(s)),u&&(u=Va(u)));const c=super.subscribe({next:s,error:a,complete:u});return t instanceof h&&t.add(c),c}},za=Wn("Input",t=>({bindingPropertyName:t})),Wa=Wn("Output",t=>({bindingPropertyName:t})),Ga=new Gn("Application Initializer");let Ka=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Us,this.reject=Us,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Qo(e))t.push(e);else if(Xo(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(ur(Ga,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const $a=new Gn("AppId"),Ya={provide:$a,useFactory:function(){return`${Qa()}${Qa()}${Qa()}`},deps:[]};function Qa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xa=new Gn("Platform Initializer"),Ja=new Gn("Platform ID"),Za=new Gn("appBootstrapListener");let tu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const eu=new Gn("LocaleId"),nu=new Gn("DefaultCurrencyCode");class ru{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const iu=function(t){return new Fa(t)},ou=iu,su=function(t){return Promise.resolve(iu(t))},au=function(t){const e=iu(t),n=Er(Zt(t).declarations).reduce((t,e)=>{const n=Jt(e);return n&&t.push(new La(n)),t},[]);return new ru(e,n)},uu=au,cu=function(t){return Promise.resolve(au(t))};let lu=(()=>{class t{constructor(){this.compileModuleSync=ou,this.compileModuleAsync=su,this.compileModuleAndAllComponentsSync=uu,this.compileModuleAndAllComponentsAsync=cu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const hu=(()=>Promise.resolve(0))();function fu(t){"undefined"==typeof Zone?hu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class du{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ha(!1),this.onMicrotaskEmpty=new Ha(!1),this.onStable=new Ha(!1),this.onError=new Ha(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=Lt.requestAnimationFrame,e=Lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Lt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,mu(t),t.isCheckStableRunning=!0,gu(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),mu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return vu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),yu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return vu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),yu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,mu(t),gu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!du.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(du.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,pu,Us,Us);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const pu={};function gu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function mu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yu(t){t._nesting--,gu(t)}class bu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ha,this.onMicrotaskEmpty=new Ha,this.onStable=new Ha,this.onError=new Ha}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let _u=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{du.assertNotInAngularZone(),fu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(ur(du))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),wu=(()=>{class t{constructor(){this._applications=new Map,xu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return xu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class Cu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Su,xu=new Cu,Iu=!0,Au=!1;const ku=new Gn("AllowMultipleToken");class Eu{constructor(t,e){this.name=t,this.token=e}}function Tu(t,e,n=[]){const r=`Platform: ${e}`,i=new Gn(r);return(e=[])=>{let o=Pu();if(!o||o.injector.get(ku,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:co,useValue:"platform"});!function(t){if(Su&&!Su.destroyed&&!Su.injector.get(ku,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Su=t.get(Nu);const e=t.get(Xa,null);e&&e.forEach(t=>t())}(So.create({providers:t,name:r}))}return function(t){const e=Pu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Pu(){return Su&&!Su.destroyed?Su:null}let Nu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new bu:("zone.js"===t?void 0:t)||new du({enableLongStackTrace:(Au=!0,Iu),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:du,useValue:n}];return n.run(()=>{const e=So.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Ir,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Du(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Qo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(YE){throw e.runOutsideAngular(()=>t.handleError(YE)),YE}}(o,n,()=>{const t=i.injector.get(Ka);return t.runInitializers(),t.donePromise.then(()=>(ks(i.injector.get(eu,Is)||Is),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ou({},e);return function(t,e,n){const r=new Fa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Lu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${rt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(ur(So))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function Ou(t,e){return Array.isArray(e)?e.reduce(Ou,t):Object.assign(Object.assign({},t),e)}let Lu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),s=new y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{du.assertNotInAngularZone(),fu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{du.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=W(o,s.pipe(t=>G()(J(tt)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Rs?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(wa),i=n.create(So.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(_u,null),a=s&&i.injector.get(wu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Du(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(YE){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(YE))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Du(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Za,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(ur(du),ur(So),ur(Ir),ur(js),ur(Ka))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function Du(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Mu{}class Ru{}const Fu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ju=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Fu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Uu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Uu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(ur(lu),ur(Ru,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function Uu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const qu=Tu(null,"core",[{provide:Ja,useValue:"unknown"},{provide:Nu,deps:[So]},{provide:wu,deps:[]},{provide:tu,deps:[]}]),Bu=[{provide:Lu,useClass:Lu,deps:[du,So,Ir,js,Ka]},{provide:Oa,deps:[du],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ka,useClass:Ka,deps:[[new fr,Ga]]},{provide:lu,useClass:lu,deps:[]},Ya,{provide:sa,useFactory:function(){return ga},deps:[]},{provide:ua,useFactory:function(){return ma},deps:[]},{provide:eu,useFactory:function(t){return ks(t=t||"undefined"!=typeof $localize&&$localize.locale||Is),t},deps:[[new hr(eu),new fr,new dr]]},{provide:nu,useValue:"USD"}];let Vu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(ur(Lu))},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({providers:Bu}),t})(),Hu=null;function zu(){return Hu}const Wu=new Gn("DocumentToken");let Gu=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({factory:Ku,token:t,providedIn:"platform"}),t})();function Ku(){return ur(Yu)}const $u=new Gn("Location Initialized");let Yu=(()=>{class t extends Gu{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zu().getBaseHref(this._doc)}onPopState(t){const e=zu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=zu().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Qu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Qu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(ur(Wu))},t.\u0275prov=dt({factory:Xu,token:t,providedIn:"platform"}),t})();function Qu(){return!!window.history.pushState}function Xu(){return new Yu(ur(Wu))}function Ju(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Zu(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function tc(t){return t&&"?"!==t[0]?"?"+t:t}let ec=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({factory:nc,token:t,providedIn:"root"}),t})();function nc(t){const e=ur(Wu).location;return new ic(ur(Gu),e&&e.origin||"")}const rc=new Gn("appBaseHref");let ic=(()=>{class t extends ec{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ju(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+tc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+tc(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+tc(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(ur(Gu),ur(rc,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),oc=(()=>{class t extends ec{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=Ju(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+tc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+tc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(ur(Gu),ur(rc,8))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),sc=(()=>{class t{constructor(t,e){this._subject=new Ha,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Zu(uc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+tc(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,uc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tc(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tc(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(ur(ec),ur(Gu))},t.normalizeQueryParams=tc,t.joinWithSlash=Ju,t.stripTrailingSlash=Zu,t.\u0275prov=dt({factory:ac,token:t,providedIn:"root"}),t})();function ac(){return new sc(ur(ec),ur(Gu))}function uc(t){return t.replace(/\/index.html$/,"")}var cc=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),lc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),hc=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),fc=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),dc=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),pc=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function gc(t,e){return _c(Cs(t)[xs.DateFormat],e)}function mc(t,e){return _c(Cs(t)[xs.TimeFormat],e)}function vc(t,e){return _c(Cs(t)[xs.DateTimeFormat],e)}function yc(t,e){const n=Cs(t),r=n[xs.NumberSymbols][e];if(void 0===r){if(e===pc.CurrencyDecimal)return n[xs.NumberSymbols][pc.Decimal];if(e===pc.CurrencyGroup)return n[xs.NumberSymbols][pc.Group]}return r}function bc(t){if(!t[xs.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[xs.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _c(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function wc(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Cc=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Sc={},xc=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ic=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Ac=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),kc=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Ec(t,e,n,r){let i=function(t){if(Bc(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return Tc(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(Cc))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,u,c),e}(n)}const e=new Date(t);if(!Bc(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Pc(n,e)||e;let o,s=[];for(;e;){if(o=xc.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=qc(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(qc(e,r)-r))}(i,r));let u="";return s.forEach(t=>{const e=function(t){if(Uc[t])return Uc[t];let e;switch(t){case"G":case"GG":case"GGG":e=Dc(kc.Eras,fc.Abbreviated);break;case"GGGG":e=Dc(kc.Eras,fc.Wide);break;case"GGGGG":e=Dc(kc.Eras,fc.Narrow);break;case"y":e=Lc(Ac.FullYear,1,0,!1,!0);break;case"yy":e=Lc(Ac.FullYear,2,0,!0,!0);break;case"yyy":e=Lc(Ac.FullYear,3,0,!1,!0);break;case"yyyy":e=Lc(Ac.FullYear,4,0,!1,!0);break;case"Y":e=jc(1);break;case"YY":e=jc(2,!0);break;case"YYY":e=jc(3);break;case"YYYY":e=jc(4);break;case"M":case"L":e=Lc(Ac.Month,1,1);break;case"MM":case"LL":e=Lc(Ac.Month,2,1);break;case"MMM":e=Dc(kc.Months,fc.Abbreviated);break;case"MMMM":e=Dc(kc.Months,fc.Wide);break;case"MMMMM":e=Dc(kc.Months,fc.Narrow);break;case"LLL":e=Dc(kc.Months,fc.Abbreviated,hc.Standalone);break;case"LLLL":e=Dc(kc.Months,fc.Wide,hc.Standalone);break;case"LLLLL":e=Dc(kc.Months,fc.Narrow,hc.Standalone);break;case"w":e=Fc(1);break;case"ww":e=Fc(2);break;case"W":e=Fc(1,!0);break;case"d":e=Lc(Ac.Date,1);break;case"dd":e=Lc(Ac.Date,2);break;case"c":case"cc":e=Lc(Ac.Day,1);break;case"ccc":e=Dc(kc.Days,fc.Abbreviated,hc.Standalone);break;case"cccc":e=Dc(kc.Days,fc.Wide,hc.Standalone);break;case"ccccc":e=Dc(kc.Days,fc.Narrow,hc.Standalone);break;case"cccccc":e=Dc(kc.Days,fc.Short,hc.Standalone);break;case"E":case"EE":case"EEE":e=Dc(kc.Days,fc.Abbreviated);break;case"EEEE":e=Dc(kc.Days,fc.Wide);break;case"EEEEE":e=Dc(kc.Days,fc.Narrow);break;case"EEEEEE":e=Dc(kc.Days,fc.Short);break;case"a":case"aa":case"aaa":e=Dc(kc.DayPeriods,fc.Abbreviated);break;case"aaaa":e=Dc(kc.DayPeriods,fc.Wide);break;case"aaaaa":e=Dc(kc.DayPeriods,fc.Narrow);break;case"b":case"bb":case"bbb":e=Dc(kc.DayPeriods,fc.Abbreviated,hc.Standalone,!0);break;case"bbbb":e=Dc(kc.DayPeriods,fc.Wide,hc.Standalone,!0);break;case"bbbbb":e=Dc(kc.DayPeriods,fc.Narrow,hc.Standalone,!0);break;case"B":case"BB":case"BBB":e=Dc(kc.DayPeriods,fc.Abbreviated,hc.Format,!0);break;case"BBBB":e=Dc(kc.DayPeriods,fc.Wide,hc.Format,!0);break;case"BBBBB":e=Dc(kc.DayPeriods,fc.Narrow,hc.Format,!0);break;case"h":e=Lc(Ac.Hours,1,-12);break;case"hh":e=Lc(Ac.Hours,2,-12);break;case"H":e=Lc(Ac.Hours,1);break;case"HH":e=Lc(Ac.Hours,2);break;case"m":e=Lc(Ac.Minutes,1);break;case"mm":e=Lc(Ac.Minutes,2);break;case"s":e=Lc(Ac.Seconds,1);break;case"ss":e=Lc(Ac.Seconds,2);break;case"S":e=Lc(Ac.FractionalSeconds,1);break;case"SS":e=Lc(Ac.FractionalSeconds,2);break;case"SSS":e=Lc(Ac.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Mc(Ic.Short);break;case"ZZZZZ":e=Mc(Ic.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Mc(Ic.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Mc(Ic.Long);break;default:return null}return Uc[t]=e,e}(t);u+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Tc(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Pc(t,e){const n=function(t){return Cs(t)[xs.LocaleId]}(t);if(Sc[n]=Sc[n]||{},Sc[n][e])return Sc[n][e];let r="";switch(e){case"shortDate":r=gc(t,dc.Short);break;case"mediumDate":r=gc(t,dc.Medium);break;case"longDate":r=gc(t,dc.Long);break;case"fullDate":r=gc(t,dc.Full);break;case"shortTime":r=mc(t,dc.Short);break;case"mediumTime":r=mc(t,dc.Medium);break;case"longTime":r=mc(t,dc.Long);break;case"fullTime":r=mc(t,dc.Full);break;case"short":const e=Pc(t,"shortTime"),n=Pc(t,"shortDate");r=Nc(vc(t,dc.Short),[e,n]);break;case"medium":const i=Pc(t,"mediumTime"),o=Pc(t,"mediumDate");r=Nc(vc(t,dc.Medium),[i,o]);break;case"long":const s=Pc(t,"longTime"),a=Pc(t,"longDate");r=Nc(vc(t,dc.Long),[s,a]);break;case"full":const u=Pc(t,"fullTime"),c=Pc(t,"fullDate");r=Nc(vc(t,dc.Full),[u,c])}return r&&(Sc[n][e]=r),r}function Nc(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function Oc(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Lc(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case Ac.FullYear:return e.getFullYear();case Ac.Month:return e.getMonth();case Ac.Date:return e.getDate();case Ac.Hours:return e.getHours();case Ac.Minutes:return e.getMinutes();case Ac.Seconds:return e.getSeconds();case Ac.FractionalSeconds:return e.getMilliseconds();case Ac.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Ac.Hours)0===a&&-12===n&&(a=12);else if(t===Ac.FractionalSeconds)return u=e,Oc(a,3).substr(0,u);var u;const c=yc(s,pc.MinusSign);return Oc(a,e,c,r,i)}}function Dc(t,e,n=hc.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case kc.Months:return function(t,e,n){const r=Cs(t),i=_c([r[xs.MonthsFormat],r[xs.MonthsStandalone]],e);return _c(i,n)}(e,i,r)[t.getMonth()];case kc.Days:return function(t,e,n){const r=Cs(t),i=_c([r[xs.DaysFormat],r[xs.DaysStandalone]],e);return _c(i,n)}(e,i,r)[t.getDay()];case kc.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=Cs(t);return bc(e),(e[xs.ExtraData][2]||[]).map(t=>"string"==typeof t?wc(t):[wc(t[0]),wc(t[1])])}(e),n=function(t,e,n){const r=Cs(t);bc(r);const i=_c([r[xs.ExtraData][0],r[xs.ExtraData][1]],e)||[];return _c(i,n)||[]}(e,i,r),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=s>=e.hours&&a>=e.minutes,i=s<n.hours||s===n.hours&&a<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===s&&t.minutes===a)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const r=Cs(t),i=_c([r[xs.DayPeriodsFormat],r[xs.DayPeriodsStandalone]],e);return _c(i,n)}(e,i,r)[s<12?0:1];case kc.Eras:return function(t,e){return _c(Cs(t)[xs.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function Mc(t){return function(e,n,r){const i=-1*r,o=yc(n,pc.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Ic.Short:return(i>=0?"+":"")+Oc(s,2,o)+Oc(Math.abs(i%60),2,o);case Ic.ShortGMT:return"GMT"+(i>=0?"+":"")+Oc(s,1,o);case Ic.Long:return"GMT"+(i>=0?"+":"")+Oc(s,2,o)+":"+Oc(Math.abs(i%60),2,o);case Ic.Extended:return 0===r?"Z":(i>=0?"+":"")+Oc(s,2,o)+":"+Oc(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Rc(t){return Tc(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Fc(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Rc(n),e=function(t){const e=Tc(t,0,1).getDay();return Tc(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return Oc(i,t,yc(r,pc.MinusSign))}}function jc(t,e=!1){return function(n,r){return Oc(Rc(n).getFullYear(),t,yc(r,pc.MinusSign),e)}}const Uc={};function qc(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Bc(t){return t instanceof Date&&!isNaN(t.valueOf())}const Vc=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Hc=".",zc="0";function Wc(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class Gc{}let Kc=(()=>{class t extends Gc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return Cs(t)[xs.PluralCase]}(e||this.locale)(t)){case lc.Zero:return"zero";case lc.One:return"one";case lc.Two:return"two";case lc.Few:return"few";case lc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(ur(eu))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function $c(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let Yc=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Lo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${rt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(Ho(sa),Ho(ua),Ho(Vs),Ho(zs))},t.\u0275dir=Qt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class Qc{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(Nk){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Qc(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Jc(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new Jc(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ho(xa),Ho(ya),Ho(sa))},t.\u0275dir=Qt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Jc{constructor(t,e){this.record=t,this.view=e}}let Zc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new tl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){el("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){el("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(Ho(xa),Ho(ya))},t.\u0275dir=Qt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class tl{constructor(){this.$implicit=null,this.ngIf=null}}function el(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${rt(e)}'.`)}let nl=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;r=r||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,o,s=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(Hc))>-1&&(s=s.replace(Hc,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===zc;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===zc;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(Vc);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=Wc(e)),null!=n&&(h=Wc(n)),null!=r?f=Wc(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=0!==o;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?m=d.splice(p,d.length):(m=d,d=[0]);const v=[];for(d.length>=e.lgSize&&v.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)v.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&v.unshift(d.join("")),a=v.join(yc(n,r)),m.length&&(a+=yc(n,i)+m.join("")),g&&(a+=yc(n,pc.Exponential)+"+"+g)}else a=yc(n,pc.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(Hc)?i.split(Hc):[i.substring(0,i.lastIndexOf(zc)+1),i.substring(i.lastIndexOf(zc)+1)],a=s[0],u=s[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);t===zc?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Cs(t)[xs.NumberFormats][e]}(e,cc.Decimal),yc(e,pc.MinusSign)),e,pc.Group,pc.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),r,n)}catch(i){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${rt(t)}'`)}(t,i.message)}}}return t.\u0275fac=function(e){return new(e||t)(Ho(eu,16))},t.\u0275pipe=Xt({name:"number",type:t,pure:!0}),t})(),rl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({providers:[{provide:Gc,useClass:Kc}]}),t})();function il(t){return"browser"===t}let ol=(()=>{class t{}return t.\u0275prov=dt({token:t,providedIn:"root",factory:()=>new sl(ur(Wu),window)}),t})();class sl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=al(this.window.history)||al(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(Nk){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Nk){return!1}}}function al(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class ul{}class cl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new cl,Hu||(Hu=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(hl=hl||document.querySelector("base"),hl?hl.getAttribute("href"):null);return null==e?null:function(t){ll=ll||document.createElement("a"),ll.setAttribute("href",t);const e=ll.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){hl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $c(document.cookie,t)}}let ll,hl=null;const fl=new Gn("TRANSITION_ID"),dl=[{provide:Ga,useFactory:function(t,e,n){return()=>{n.get(Ka).donePromise.then(()=>{const n=zu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[fl,Wu,So],multi:!0}];class pl{static init(){var t;t=new pl,xu=t}addToWindow(t){Lt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Lt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Lt.getAllAngularRootElements=()=>t.getAllRootElements(),Lt.frameworkStabilizers||(Lt.frameworkStabilizers=[]),Lt.frameworkStabilizers.push(t=>{const e=Lt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?zu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let gl=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const ml=new Gn("EventManagerPlugins");let vl=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(ur(ml),ur(du))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class yl{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=zu().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let bl=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),_l=(()=>{class t extends bl{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(wl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(wl))}}return t.\u0275fac=function(e){return new(e||t)(ur(Wu))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function wl(t){zu().remove(t)}const Cl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Sl=/%COMP%/g;function xl(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?xl(t,i,n):(i=i.replace(Sl,t),n.push(i))}return n}function Il(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Al=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new kl(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Et.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new El(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case Et.ShadowDom:return new Tl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=xl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(ur(vl),ur(_l),ur($a))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class kl{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Cl[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Cl[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Cl[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Tr.DashCase|Tr.Important)?t.style.setProperty(e,n,r&Tr.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Tr.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Il(n)):this.eventManager.addEventListener(t,e,Il(n))}}class El extends kl{constructor(t,e,n,r){super(t),this.component=n;const i=xl(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Sl,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Sl,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Tl extends kl{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=xl(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Pl=(()=>{class t extends yl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(ur(Wu))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Nl=["alt","control","meta","shift"],Ol={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ll={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dl={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ml=(()=>{class t extends yl{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zu().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Nl.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ll.hasOwnProperty(e)&&(e=Ll[e]))}return Ol[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Nl.forEach(r=>{r!=n&&(0,Dl[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(ur(Wu))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const Rl=Tu(qu,"browser",[{provide:Ja,useValue:"browser"},{provide:Xa,useValue:function(){cl.makeCurrent(),pl.init()},multi:!0},{provide:Wu,useFactory:function(){return function(t){ge=t}(document),document},deps:[]}]),Fl=[[],{provide:co,useValue:"root"},{provide:Ir,useFactory:function(){return new Ir},deps:[]},{provide:ml,useClass:Pl,multi:!0,deps:[Wu,du,Ja]},{provide:ml,useClass:Ml,multi:!0,deps:[Wu]},[],{provide:Al,useClass:Al,deps:[vl,_l,$a]},{provide:Hs,useExisting:Al},{provide:bl,useExisting:_l},{provide:_l,useClass:_l,deps:[Wu]},{provide:_u,useClass:_u,deps:[du]},{provide:vl,useClass:vl,deps:[ml,du]},{provide:ul,useClass:gl,deps:[]},[]];let jl=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:$a,useValue:e.appId},{provide:fl,useExisting:$a},dl]}}}return t.\u0275fac=function(e){return new(e||t)(ur(t,12))},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({providers:Fl,imports:[rl,Vu]}),t})();function Ul(...t){let e=t[t.length-1];return I(e)?(t.pop(),j(t,e)):z(t)}"undefined"!=typeof window&&window;class ql extends S{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(t){super.next(this._value=t)}}const Bl={};class Vl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Hl(t,this.resultSelector))}}class Hl extends D{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Bl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(L(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Bl?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const zl=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function Wl(...t){return H(1)(Ul(...t))}const Gl=new y(t=>t.complete());function Kl(t){return t?function(t){return new y(e=>t.schedule(()=>e.complete()))}(t):Gl}function $l(t){return new y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?U(n):Kl()).subscribe(e)})}function Yl(t,e){return"function"==typeof e?n=>n.pipe(Yl((n,r)=>U(t(n,r)).pipe(M((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ql(t))}class Ql{constructor(t){this.project=t}call(t,e){return e.subscribe(new Xl(t,this.project))}}class Xl extends D{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new A(this,e,n),o=this.destination;o.add(i),this.innerSubscription=L(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}const Jl=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Zl(t){return e=>0===t?Kl():e.lift(new th(t))}class th{constructor(t){if(this.total=t,this.total<0)throw new Jl}call(t,e){return e.subscribe(new eh(t,this.total))}}class eh extends p{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function nh(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new rh(t,e,n))}}class rh{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ih(t,this.accumulator,this.seed,this.hasSeed))}}class ih extends p{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function oh(t,e){return function(n){return n.lift(new sh(t,e))}}class sh{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ah(t,this.predicate,this.thisArg))}}class ah extends p{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function uh(t){return function(e){const n=new ch(t),r=e.lift(n);return n.caught=r}}class ch{constructor(t){this.selector=t}call(t,e){return e.subscribe(new lh(t,this.selector,this.caught))}}class lh extends D{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new A(this,void 0,void 0);this.add(r);const i=L(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}function hh(t,e){return q(t,e,1)}function fh(t){return function(e){return 0===t?Kl():e.lift(new dh(t))}}class dh{constructor(t){if(this.total=t,this.total<0)throw new Jl}call(t,e){return e.subscribe(new ph(t,this.total))}}class ph extends p{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function gh(t=yh){return e=>e.lift(new mh(t))}class mh{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new vh(t,this.errorFactory))}}class vh extends p{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(YE){t=YE}this.destination.error(t)}}}function yh(){return new zl}function bh(t=null){return e=>e.lift(new _h(t))}class _h{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new wh(t,this.defaultValue))}}class wh extends p{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Ch(t,e){const n=arguments.length>=2;return r=>r.pipe(t?oh((e,n)=>t(e,n,r)):v,Zl(1),n?bh(e):gh(()=>new zl))}function Sh(){}function xh(t,e,n){return function(r){return r.lift(new Ih(t,e,n))}}class Ih{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Ah(t,this.nextOrObserver,this.error,this.complete))}}class Ah extends p{constructor(t,e,n,i){super(t),this._tapNext=Sh,this._tapError=Sh,this._tapComplete=Sh,this._tapError=n||Sh,this._tapComplete=i||Sh,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Sh,this._tapError=e.error||Sh,this._tapComplete=e.complete||Sh)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class kh{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Eh(t,this.callback))}}class Eh extends p{constructor(t,e){super(t),this.add(new h(e))}}class Th{constructor(t,e){this.id=t,this.url=e}}class Ph extends Th{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nh extends Th{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oh extends Th{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lh extends Th{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Dh extends Th{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mh extends Th{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rh extends Th{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Fh extends Th{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jh extends Th{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uh{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vh{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wh{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gh="primary";class Kh{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $h(t){return new Kh(t)}function Yh(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Qh(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Xh(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Jh(t[i],e[i]))return!1;return!0}function Jh(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Zh(t){return Array.prototype.concat.apply([],t)}function tf(t){return t.length>0?t[t.length-1]:null}function ef(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function nf(t){return Xo(t)?t:Qo(t)?U(Promise.resolve(t)):Ul(t)}const rf={exact:function t(e,n,r){if(!df(e.segments,n.segments))return!1;if(!cf(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:af},of={exact:function(t,e){return Xh(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Jh(t[n],e[n]))},ignored:()=>!0};function sf(t,e,n){return rf[n.paths](t.root,e.root,n.matrixParams)&&of[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function af(t,e,n){return uf(t,e,e.segments,n)}function uf(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!df(i,n)&&!e.hasChildren()&&!!cf(i,n,r)}if(t.segments.length===n.length){if(!df(t.segments,n))return!1;if(!cf(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!af(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!df(t.segments,i)&&!!cf(t.segments,i,r)&&!!t.children.primary&&uf(t.children.primary,e,o,r)}}function cf(t,e,n){return e.every((e,r)=>of[n](t[r].parameters,e.parameters))}class lf{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$h(this.queryParams)),this._queryParamMap}toString(){return mf.serialize(this)}}class hf{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ef(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vf(this)}}class ff{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$h(this.parameters)),this._parameterMap}toString(){return xf(this)}}function df(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class pf{}class gf{parse(t){const e=new Tf(t);return new lf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${yf(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${_f(e)}=${_f(t)}`).join("&"):`${_f(e)}=${_f(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const mf=new gf;function vf(t){return t.segments.map(t=>xf(t)).join("/")}function yf(t,e){if(!t.hasChildren())return vf(t);if(e){const e=t.children.primary?yf(t.children.primary,!1):"",n=[];return ef(t.children,(t,e)=>{e!==Gh&&n.push(`${e}:${yf(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ef(t.children,(t,r)=>{r===Gh&&(n=n.concat(e(t,r)))}),ef(t.children,(t,r)=>{r!==Gh&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Gh?[yf(t.children.primary,!1)]:[`${n}:${yf(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${vf(t)}/${e[0]}`:`${vf(t)}/(${e.join("//")})`}}function bf(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _f(t){return bf(t).replace(/%3B/gi,";")}function wf(t){return bf(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cf(t){return decodeURIComponent(t)}function Sf(t){return Cf(t.replace(/\+/g,"%20"))}function xf(t){return`${wf(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${wf(t)}=${wf(e[t])}`).join("")}`;var e}const If=/^[^\/()?;=#]+/;function Af(t){const e=t.match(If);return e?e[0]:""}const kf=/^[^=?&#]+/,Ef=/^[^?&#]+/;class Tf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hf([],{}):new hf([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new hf(t,e)),n}parseSegment(){const t=Af(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ff(Cf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Af(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Af(this.remaining);t&&(n=t,this.capture(n))}t[Cf(e)]=Cf(n)}parseQueryParam(t){const e=function(t){const e=t.match(kf);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ef);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Sf(e),i=Sf(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Af(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Gh);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new hf([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Pf{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Nf(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Nf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Of(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Of(t,this._root).map(t=>t.value)}}function Nf(t,e){if(t===e.value)return e;for(const n of e.children){const e=Nf(t,n);if(e)return e}return null}function Of(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Of(t,n);if(r.length)return r.unshift(e),r}return[]}class Lf{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Df(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Mf extends Pf{constructor(t,e){super(t),this.snapshot=e,Bf(this,t)}toString(){return this.snapshot.toString()}}function Rf(t,e){const n=function(t,e){const n=new Uf([],{},{},"",{},Gh,e,null,t.root,-1,{});return new qf("",new Lf(n,[]))}(t,e),r=new ql([new ff("",{})]),i=new ql({}),o=new ql({}),s=new ql({}),a=new ql(""),u=new Ff(r,i,s,a,o,Gh,e,n.root);return u.snapshot=n.root,new Mf(new Lf(u,[]),n)}class Ff{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(M(t=>$h(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(M(t=>$h(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jf(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Uf{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$h(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$h(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qf extends Pf{constructor(t,e){super(e),this.url=t,Bf(this,e)}toString(){return Vf(this._root)}}function Bf(t,e){e.value._routerState=t,e.children.forEach(e=>Bf(t,e))}function Vf(t){const e=t.children.length>0?` { ${t.children.map(Vf).join(", ")} } `:"";return`${t.value}${e}`}function Hf(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Xh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Xh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function zf(t,e){return Xh(t.params,e.params)&&function(t,e){return df(t,e)&&t.every((t,n)=>Xh(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||zf(t.parent,e.parent))}function Wf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Wf(t,e,r);return Wf(t,e)})}(t,e,n);return new Lf(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Gf(e,t),t}}const n=new Ff(new ql((r=e.value).url),new ql(r.params),new ql(r.queryParams),new ql(r.fragment),new ql(r.data),r.outlet,r.component,r),i=e.children.map(e=>Wf(t,e));return new Lf(n,i)}var r}function Gf(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Gf(t.children[n],e.children[n])}function Kf(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function $f(t){return"object"==typeof t&&null!=t&&t.outlets}function Yf(t,e,n,r,i){let o={};return r&&ef(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new lf(n.root===t?e:Qf(n.root,t,e),o,i)}function Qf(t,e,n){const r={};return ef(t.children,(t,i)=>{r[i]=t===e?n:Qf(t,e,n)}),new hf(t.segments,r)}class Xf{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Kf(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find($f);if(r&&r!==tf(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jf{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Zf(t,e,n){if(t||(t=new hf([],{})),0===t.segments.length&&t.hasChildren())return td(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if($f(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!id(a,u,e))return o;r+=2}else{if(!id(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new hf(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new hf(t.segments.slice(r.pathIndex),t.children),td(e,0,i)}return r.match&&0===i.length?new hf(t.segments,{}):r.match&&!t.hasChildren()?ed(t,e,n):r.match?td(t,0,i):ed(t,e,n)}function td(t,e,n){if(0===n.length)return new hf(t.segments,{});{const r=function(t){return $f(t[0])?t[0].outlets:{[Gh]:t}}(n),i={};return ef(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Zf(t.children[r],e,n))}),ef(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new hf(t.segments,i)}}function ed(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if($f(o)){const t=nd(o.outlets);return new hf(r,t)}if(0===i&&Kf(n[0])){r.push(new ff(t.segments[e].path,rd(n[0]))),i++;continue}const s=$f(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Kf(a)?(r.push(new ff(s,rd(a))),i+=2):(r.push(new ff(s,{})),i++)}return new hf(r,{})}function nd(t){const e={};return ef(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ed(new hf([],{}),0,t))}),e}function rd(t){const e={};return ef(t,(t,n)=>e[n]=`${t}`),e}function id(t,e,n){return t==n.path&&Xh(e,n.parameters)}class od{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Hf(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Df(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ef(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Df(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Df(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new zh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Vh(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Hf(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),sd(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function sd(t){Hf(t.value),t.children.forEach(sd)}class ad{constructor(t,e){this.routes=t,this.module=e}}function ud(t){return"function"==typeof t}function cd(t){return t instanceof lf}const ld=Symbol("INITIAL_VALUE");function hd(){return Yl(t=>function(...t){let e=null,n=null;return I(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),z(t,n).lift(new Vl(e))}(t.map(t=>t.pipe(Zl(1),function(...t){const e=t[t.length-1];return I(e)?(t.pop(),n=>Wl(t,n,e)):e=>Wl(t,e)}(ld)))).pipe(nh((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ld)return t;if(r===ld&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||cd(r))return r}return t},t)},ld),oh(t=>t!==ld),M(t=>cd(t)?t:!0===t),Zl(1)))}let fd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&$o(0,"router-outlet")},directives:function(){return[sp]},encapsulation:2}),t})();function dd(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];pd(r,gd(e,r))}}function pd(t,e){t.children&&dd(t.children,e)}function gd(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function md(t){const e=t.children&&t.children.map(md),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Gh&&(n.component=fd),n}function vd(t){return t.outlet||Gh}function yd(t,e){const n=t.filter(t=>vd(t)===e);return n.push(...t.filter(t=>vd(t)!==e)),n}const bd={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function _d(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},bd):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Qh)(n,t,e);if(!i)return Object.assign({},bd);const o={};ef(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function wd(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Cd(t,e,n)&&vd(n)!==Gh)}(t,n,r)){const i=new hf(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&vd(o)!==Gh){const n=new hf([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[vd(o)]=n}return i}(t,e,r,new hf(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Cd(t,e,n))}(t,n,r)){const o=new hf(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Cd(t,n,a)&&!i[vd(a)]){const n=new hf([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[vd(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new hf(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Cd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Sd(t,e,n,r){return!!(vd(t)===r||r!==Gh&&Cd(e,n,t))&&("**"===t.path||_d(e,t,n).matched)}function xd(t,e,n){return 0===e.length&&!t.children[n]}class Id{constructor(t){this.segmentGroup=t||null}}class Ad{constructor(t){this.urlTree=t}}function kd(t){return new y(e=>e.error(new Id(t)))}function Ed(t){return new y(e=>e.error(new Ad(t)))}function Td(t){return new y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Pd{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(wa)}apply(){const t=wd(this.urlTree.root,[],[],this.config).segmentGroup,e=new hf(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Gh).pipe(M(t=>this.createUrlTree(Nd(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(uh(t=>{if(t instanceof Ad)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Id)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Gh).pipe(M(e=>this.createUrlTree(Nd(e),t.queryParams,t.fragment))).pipe(uh(t=>{if(t instanceof Id)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new hf([],{[Gh]:t}):t;return new lf(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(M(t=>new hf([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return U(r).pipe(hh(r=>{const i=n.children[r],o=yd(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(M(t=>({segment:t,outlet:r})))}),nh((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?oh((e,n)=>t(e,n,r)):v,fh(1),n?bh(e):gh(()=>new zl))}())}expandSegment(t,e,n,r,i,o){return U(n).pipe(hh(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(uh(t=>{if(t instanceof Id)return Ul(null);throw t}))),Ch(t=>!!t),uh((t,n)=>{if(t instanceof zl||"EmptyError"===t.name){if(xd(e,r,i))return Ul(new hf([],{}));throw new Id(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Sd(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):kd(e):kd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ed(i):this.lineralizeSegments(n,i).pipe(q(n=>{const i=new hf(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=_d(e,r,i);if(!s)return kd(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ed(l):this.lineralizeSegments(r,l).pipe(q(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Ul(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(M(t=>(n._loadedConfig=t,new hf(r,{})))):Ul(new hf(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=_d(e,n,r);if(!o)return kd(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(q(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=wd(e,s,u,o),l=new hf(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(M(t=>new hf(s,t)));if(0===o.length&&0===c.length)return Ul(new hf(s,{}));const h=vd(n)===i;return this.expandSegment(r,l,o,c,h?Gh:i,!0).pipe(M(t=>new hf(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Ul(new ad(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ul(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(q(n=>n?this.configLoader.load(t.injector,e).pipe(M(t=>(e._loadedConfig=t,t))):function(t){return new y(e=>e.error(Yh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Ul(new ad([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Ul(r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&ud(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ud(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return nf(o)})).pipe(hd(),xh(t=>{if(!cd(t))return;const e=Yh(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),M(t=>!0===t)):Ul(!0)}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Ul(n);if(r.numberOfChildren>1||!r.children.primary)return Td(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new lf(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ef(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return ef(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new hf(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Nd(t){const e={};for(const n of Object.keys(t.children)){const r=Nd(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new hf(t.segments.concat(e.segments),e.children)}return t}(new hf(t.segments,e))}class Od{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ld{constructor(t,e){this.component=t,this.route=e}}function Dd(t,e,n){const r=t._root;return Rd(r,e?e._root:null,n,[r.value])}function Md(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Rd(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Df(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!df(t.url,e.url);case"pathParamsOrQueryParamsChange":return!df(t.url,e.url)||!Xh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zf(t,e)||!Xh(t.queryParams,e.queryParams);case"paramsChange":default:return!zf(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Od(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Rd(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ld(a.outlet.component,s))}else s&&Fd(e,a,i),i.canActivateChecks.push(new Od(r)),Rd(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),ef(o,(t,e)=>Fd(t,n.getContext(e),i)),i}function Fd(t,e,n){const r=Df(t),i=t.value;ef(r,(t,r)=>{Fd(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Ld(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class jd{}function Ud(t){return new y(e=>e.error(t))}class qd{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=wd(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Gh);if(null===e)return null;const n=new Uf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gh,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Lf(n,e),i=new qf(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=jf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=yd(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Vd(n);return r.sort((t,e)=>t.value.outlet===Gh?-1:e.value.outlet===Gh?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return xd(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Sd(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?tf(n).parameters:{};i=new Uf(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wd(t),vd(t),t.component,t,Hd(e),zd(e)+n.length,Gd(t))}else{const r=_d(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Uf(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wd(t),vd(t),t.component,t,Hd(e),zd(e)+o.length,Gd(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=wd(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new Lf(i,t)]}if(0===a.length&&0===c.length)return[new Lf(i,[])];const l=vd(t)===r,h=this.processSegment(a,u,c,l?Gh:r);return null===h?null:[new Lf(i,h)]}}function Bd(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Vd(t){const e=[],n=new Set;for(const r of t){if(!Bd(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Vd(r.children);e.push(new Lf(r.value,t))}return e.filter(t=>!n.has(t))}function Hd(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zd(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Wd(t){return t.data||{}}function Gd(t){return t.resolve||{}}function Kd(t){return Yl(e=>{const n=t(e);return n?U(n).pipe(M(()=>e)):Ul(e)})}class $d extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Yd=new Gn("ROUTES");class Qd{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(M(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new ad(Zh(r.injector.get(Yd,void 0,Ct.Self|Ct.Optional)).map(md),r)}),uh(t=>{throw e._loader$=void 0,t}));return e._loader$=new Y(n,()=>new S).pipe(G()),e._loader$}loadModuleFactory(t){return"string"==typeof t?U(this.loader.load(t)):nf(t()).pipe(q(t=>t instanceof Ca?Ul(t):U(this.compiler.compileModuleAsync(t))))}}class Xd{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Jd,this.attachRef=null}}class Jd{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Xd,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Zd{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function tp(t){throw t}function ep(t,e,n){return e.parse("/")}function np(t,e){return Ul(null)}const rp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ip={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let op=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new S,this.errorHandler=tp,this.malformedUriErrorHandler=ep,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:np,afterPreactivation:np},this.urlHandlingStrategy=new Zd,this.routeReuseStrategy=new $d,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=i.get(wa),this.console=i.get(tu);const u=i.get(du);this.isNgZoneEnabled=u instanceof du&&du.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new lf(new hf([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qd(o,s,t=>this.triggerEvent(new Uh(t)),t=>this.triggerEvent(new qh(t))),this.routerState=Rf(this.currentUrlTree,this.rootComponentType),this.transitions=new ql({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(oh(t=>0!==t.id),M(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Yl(t=>{let n=!1,r=!1;return Ul(t).pipe(xh(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Yl(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Ul(t).pipe(Yl(t=>{const n=this.transitions.getValue();return e.next(new Ph(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Gl:Promise.resolve(t)}),function(t,e,n,r){return Yl(i=>function(t,e,n,r,i){return new Pd(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(M(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),xh(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return q(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new qd(t,e,n,r,i,o).recognize();return null===s?Ud(new jd):Ul(s)}catch(YE){return Ud(YE)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(M(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),xh(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Dh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Ph(n,this.serializeUrl(r),i,o);e.next(a);const u=Rf(r,this.rootComponentType).snapshot;return Ul(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Gl}),Kd(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),xh(t=>{const e=new Mh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),M(t=>Object.assign(Object.assign({},t),{guards:Dd(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return q(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Ul(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return U(t).pipe(q(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ul(o.map(o=>{const s=Md(o,e,i);let a;if(function(t){return t&&ud(t.canDeactivate)}(s))a=nf(s.canDeactivate(t,e,n,r));else{if(!ud(s))throw new Error("Invalid CanDeactivate guard");a=nf(s(t,e,n,r))}return a.pipe(Ch())})).pipe(hd()):Ul(!0)}(t.component,t.route,n,e,r)),Ch(t=>!0!==t,!0))}(s,r,i,t).pipe(q(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return U(e).pipe(hh(e=>Wl(function(t,e){return null!==t&&e&&e(new Bh(t)),Ul(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Hh(t)),Ul(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>$l(()=>Ul(e.guards.map(i=>{const o=Md(i,e.node,n);let s;if(function(t){return t&&ud(t.canActivateChild)}(o))s=nf(o.canActivateChild(r,t));else{if(!ud(o))throw new Error("Invalid CanActivateChild guard");s=nf(o(r,t))}return s.pipe(Ch())})).pipe(hd())));return Ul(i).pipe(hd())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Ul(r.map(r=>$l(()=>{const i=Md(r,e,n);let o;if(function(t){return t&&ud(t.canActivate)}(i))o=nf(i.canActivate(e,t));else{if(!ud(i))throw new Error("Invalid CanActivate guard");o=nf(i(e,t))}return o.pipe(Ch())}))).pipe(hd()):Ul(!0)}(t,e.route,n))),Ch(t=>!0!==t,!0))}(r,o,t,e):Ul(n)),M(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),xh(t=>{if(cd(t.guardsResult)){const e=Yh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Rh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),oh(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Oh(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Kd(t=>{if(t.guards.canActivateChecks.length)return Ul(t).pipe(xh(t=>{const e=new Fh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Yl(t=>{let n=!1;return Ul(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,q(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Ul(t);let o=0;return U(n).pipe(hh(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Ul({});const o={};return U(i).pipe(q(i=>function(t,e,n,r){const i=Md(t,e,r);return nf(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(xh(t=>{o[i]=t}))),fh(1),q(()=>Object.keys(o).length===i.length?Ul(o):Gl))}(t._resolve,t,e,r).pipe(M(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),jf(t,n).resolve),null)))}(t.route,e,r,i)),xh(()=>o++),fh(1),q(e=>o===n.length?Ul(t):Gl))})),xh({next:()=>n=!0,complete:()=>{if(!n){const n=new Oh(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),xh(t=>{const e=new jh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Kd(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),M(t=>{const e=function(t,e,n){const r=Wf(t,e._root,n?n._root:void 0);return new Mf(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),xh(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),M(t=>(new od(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),xh({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Oh(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new kh(i))),uh(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=cd(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Oh(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Lh(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(f_){t.reject(f_)}}var i;return Gl}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){dd(t),this.config=t.map(md),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Yf(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Xf(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ef(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Xf(n,e,r)}(n);if(o.toRoot())return Yf(e.root,new hf([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Jf(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Jf(t,t===e.root,0)}const r=Kf(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Jf(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?td(s.segmentGroup,s.index,o.commands):Zf(s.segmentGroup,s.index,o.commands);return Yf(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=cd(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(YE){e=this.malformedUriErrorHandler(YE,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},rp):!1===e?Object.assign({},ip):e,cd(t))return sf(this.currentUrlTree,t,n);const r=this.parseUrl(t);return sf(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Nh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(ur($n),ur(pf),ur(Jd),ur(sc),ur(So),ur(Mu),ur(lu),ur(void 0))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),sp=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ha,this.deactivateEvents=new Ha,this.name=r||Gh,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ap(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(Ho(Jd),Ho(xa),Ho(js),("name",function(t,e){const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(pn(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Le(),"name")),Ho(da))},t.\u0275dir=Qt({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ap{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ff?this.route:t===Jd?this.childContexts:this.parent.get(t,e)}}class up{}class cp{preload(t,e){return Ul(null)}}let lp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Qd(e,n,e=>t.triggerEvent(new Uh(e)),e=>t.triggerEvent(new qh(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(oh(t=>t instanceof Nh),hh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(wa);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return U(n).pipe(H(),M(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Ul(e._loadedConfig):this.loader.load(t.injector,e)).pipe(q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(ur(op),ur(Mu),ur(lu),ur(So),ur(up))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),hp=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ph?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Nh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Wh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(ur(op),ur(ol),ur(void 0))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const fp=new Gn("ROUTER_CONFIGURATION"),dp=new Gn("ROUTER_FORROOT_GUARD"),pp=[sc,{provide:pf,useClass:gf},{provide:op,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new op(null,t,e,n,r,i,o,Zh(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[pf,Jd,sc,So,Mu,lu,Yd,fp,[class{},new fr],[class{},new fr]]},Jd,{provide:Ff,useFactory:function(t){return t.routerState.root},deps:[op]},{provide:Mu,useClass:ju},lp,cp,class{preload(t,e){return e().pipe(uh(()=>Ul(null)))}},{provide:fp,useValue:{enableTracing:!1}}];function gp(){return new Eu("Router",op)}let mp=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[pp,_p(e),{provide:dp,useFactory:bp,deps:[[op,new fr,new dr]]},{provide:fp,useValue:n||{}},{provide:ec,useFactory:yp,deps:[Gu,[new hr(rc),new fr],fp]},{provide:hp,useFactory:vp,deps:[op,ol,fp]},{provide:up,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:cp},{provide:Eu,multi:!0,useFactory:gp},[wp,{provide:Ga,multi:!0,useFactory:Cp,deps:[wp]},{provide:xp,useFactory:Sp,deps:[wp]},{provide:Za,multi:!0,useExisting:xp}]]}}static forChild(e){return{ngModule:t,providers:[_p(e)]}}}return t.\u0275fac=function(e){return new(e||t)(ur(dp,8),ur(op,8))},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({}),t})();function vp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new hp(t,e,n)}function yp(t,e,n={}){return n.useHash?new oc(t,e):new ic(t,e)}function bp(t){return"guarded"}function _p(t){return[{provide:Kn,multi:!0,useValue:t},{provide:Yd,multi:!0,useValue:t}]}let wp=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new S}appInitializer(){return this.injector.get($u,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(op),r=this.injector.get(fp);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Ul(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(fp),n=this.injector.get(lp),r=this.injector.get(hp),i=this.injector.get(op),o=this.injector.get(Lu);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(ur(So))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();function Cp(t){return t.appInitializer.bind(t)}function Sp(t){return t.bootstrapListener.bind(t)}const xp=new Gn("Router Initializer");var Ip=n(4762),Ap=n(1062);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(Fp){this.f(Fp)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(Fp){n.reject(Fp)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(Zv){o(Zv)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Ra(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Ra(e,n)})},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e(function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Ra(i(s.length-1),e),r=n.next()}while(!r.done)})},e});var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&a.test(t)?t:""}function l(){}function h(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==h(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++v)}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function _(t,e,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function x(t){return t}function I(t,e,n){this.code=E+t,this.message=e||T[t]||"",this.a=n||null}function A(t){var e=t&&t.code;return e?new I(e.substring(E.length),t.message,t.serverResponse):null}S(I,Error),I.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},I.prototype.toJSON=function(){return this.w()};var k,E="auth/",T={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(t){for(var e in P)if(P[e].id===t)return{firebaseEndpoint:(t=P[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function O(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function M(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function R(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function j(){this.b=this.a=null}k=N("__EID__")?"__EID__":void 0,S(L,Error),L.prototype.name="CustomError",S(D,L),D.prototype.name="AssertionError",R.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new R(function(){return new B},function(t){t.reset()});function q(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}j.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function K(t,e){return 0<=V(t,e)}function $(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Q(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var J,Z=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},tt=/&/g,et=/</g,nt=/>/g,rt=/"/g,it=/'/g,ot=/\x00/g,st=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var ct=s.navigator;if(ct){var lt=ct.userAgent;if(lt){J=lt;break t}}J=""}function ht(t){return at(J,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function pt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===Ct&&e||"",this.b=wt}function bt(t){return t instanceof yt&&t.constructor===yt&&t.b===wt?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.ta=!0,yt.prototype.sa=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var _t,wt={},Ct={};function St(){if(void 0===_t){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:x,createScript:x,createScriptURL:x})}catch(n){s.console&&s.console.error(n.message)}_t=t}else _t=t}return _t}function xt(t,e){this.a=e===Tt?t:""}function It(t){return t instanceof xt&&t.constructor===xt?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+h(t)),"type_error:TrustedResourceUrl")}function At(t,e){var n=bt(t);if(!Et.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new xt(t=e?e.createScriptURL(t):t,Tt)}(t=n.replace(kt,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?bt(t):encodeURIComponent(String(t))}))}xt.prototype.ta=!0,xt.prototype.sa=function(){return this.a.toString()},xt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var kt=/%{(\w+)}/g,Et=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Tt={};function Pt(t,e){this.a=e===Ft?t:""}function Nt(t){return t instanceof Pt&&t.constructor===Pt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+h(t)),"type_error:SafeUrl")}Pt.prototype.ta=!0,Pt.prototype.sa=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ot=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Dt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Pt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Dt.test(t))t=new Pt(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&Ot.test(e[1])?new Pt(t,Ft):null}return t}function Rt(t){return t instanceof Pt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Dt.test(t)||(t="about:invalid#zClosurez"),new Pt(t,Ft))}var Ft={},jt=new Pt("about:invalid#zClosurez",Ft);function Ut(t,e,n){this.a=n===qt?t:""}Ut.prototype.ta=!0,Ut.prototype.sa=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Bt(t,e,n,r){return t=t instanceof Pt?t:Rt(t),e=e||s,n=n instanceof yt?bt(n):n||"",e.open(Nt(t),n,r,void 0)}function Vt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(tt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(et,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(nt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(rt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(it,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ot,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=l;var Wt,Gt,Kt=ht("Opera"),$t=ht("Trident")||ht("MSIE"),Yt=ht("Edge"),Qt=Yt||$t,Xt=ht("Gecko")&&!(at(J.toLowerCase(),"webkit")&&!ht("Edge"))&&!(ht("Trident")||ht("MSIE"))&&!ht("Edge"),Jt=at(J.toLowerCase(),"webkit")&&!ht("Edge");function Zt(){var t=s.document;return t?t.documentMode:void 0}t:{var te="",ee=(Gt=J,Xt?/rv:([^\);]+)(\)|;)/.exec(Gt):Yt?/Edge\/([\d\.]+)/.exec(Gt):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Jt?/WebKit\/(\S+)/.exec(Gt):Kt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(ee&&(te=ee?ee[1]:""),$t){var ne=Zt();if(null!=ne&&ne>parseFloat(te)){Wt=String(ne);break t}}Wt=te}var re={};function ie(t){return function(t,e){var n=re;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Z(String(Wt)).split("."),r=Z(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var oe=s.document&&$t&&(Zt()||parseInt(Wt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var se=!$t||9<=Number(oe);function ae(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:he.hasOwnProperty(n)?t.setAttribute(he[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var ce,le,he={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(p(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){s="function"==typeof o.item;break t}}s=!1}H(s?X(o):o,r)}}}function de(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function pe(t){s.setTimeout(function(){throw t},0)}function ge(t,e){le||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);le=function(){t.then(ye)}}else le=function(){var t=ye;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ht("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(ce||(ce=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ht("Presto")&&(t=function(){var t=de(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=_(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ht("Trident")&&!ht("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),ce(t)):s.setImmediate(t)}}(),me||(le(),me=!0),ve.add(t,e)}var me=!1,ve=new j;function ye(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){pe(e)}F(U,t)}me=!1}function be(t,e){if(this.a=_e,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=l)try{var n=this;t.call(e,function(t){Le(n,we,t)},function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(YE){}Le(n,Ce,t)})}catch(r){Le(this,Ce,r)}}var _e=0,we=2,Ce=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xe=new R(function(){return new Se},function(t){t.reset()});function Ie(t,e,n){var r=xe.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof be)return t;var e=new be(l);return Le(e,we,t),e}function ke(t){return new be(function(e,n){n(t)})}function Ee(t,e,n){De(t,e,n,null)||ge(w(e,t))}function Te(t){return new be(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ee(t[o],w(i,o,!0),w(i,o,!1));else e(r)})}function Pe(t,e){if(t.a==_e)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==_e&&1==r?Pe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Re(n),Fe(n,i,Ce,e)))}t.c=null}else Le(t,Ce,e)}function Ne(t,e){t.b||t.a!=we&&t.a!=Ce||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function Oe(t,e,n,r){var i=Ie(null,null,null);return i.a=new be(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(Fp){o(Fp)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(Fp){o(Fp)}}:o}),i.a.c=t,Ne(t,i),i.a}function Le(t,e,n){t.a==_e&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,De(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Ce||n instanceof qe||function(t,e){t.g=!0,ge(function(){t.g&&Ue.call(null,e)})}(t,n)))}function De(t,e,n,r){if(t instanceof be)return Ne(t,Ie(e||l,n||null,r)),!0;if(O(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(t){t.h||(t.h=!0,ge(t.gc,t))}function Re(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,je(e,n,r);else try{e.c?e.g.call(e.f):je(e,n,r)}catch(YE){Ue.call(null,YE)}F(xe,e)}function je(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}be.prototype.then=function(t,e,n){return Oe(this,d(t)?t:null,d(e)?e:null,n)},be.prototype.$goog_Thenable=!0,(t=be.prototype).oa=function(t,e){return(t=Ie(t,t,e)).c=!0,Ne(this,t),this},t.o=function(t,e){return Oe(this,null,t,e)},t.cancel=function(t){if(this.a==_e){var e=new qe(t);ge(function(){Pe(this,e)},this)}},t.$c=function(t){this.a=_e,Le(this,we,t)},t.ad=function(t){this.a=_e,Le(this,Ce,t)},t.gc=function(){for(var t;t=Re(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ue=pe;function qe(t){L.call(this,t)}function Be(){0!=Ve&&(He[g(this)]=this),this.ya=this.ya,this.pa=this.pa}S(qe,L),qe.prototype.name="cancel";var Ve=0,He={};function ze(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=Ve)){var e=g(t);if(0!=Ve&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Be.prototype.ya=!1,Be.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var We=Object.freeze||function(t){return t},Ge=!$t||9<=Number(oe),Ke=$t&&!ie("9"),$e=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(n){}return t}();function Ye(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if(Ye.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Ye.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Qe,Ye);var Xe=We({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ke)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function tn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Ze,this.wa=this.Qa=!1}function en(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function nn(t){this.src=t,this.a={},this.b=0}function rn(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(en(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function on(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}nn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=on(t,e,r,i);return-1<s?(e=t[s],n||(e.Qa=!1)):((e=new tn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),an={};function un(t,e,n,r,i){if(r&&r.once)ln(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=bn(n),t&&t[Je]?wn(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!1,r,i)}function cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=vn(t);if(a||(t[sn]=a=new nn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=mn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=bn(n),t&&t[Je]?Cn(t,e,n,p(r)?!!r.capture:!!r,i):cn(t,e,n,!0,r,i)}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=bn(n),t&&t[Je]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=on(o=t.a[e],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=on(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.wa){var e=t.src;if(e&&e[Je])rn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(rn(n,t),0==n.b&&(n.src=null,e[sn]=null)):en(t)}}}function dn(t){return t in an?an[t]:an[t]="on"+t}function pn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&fn(t),n.call(r,e)}function mn(t,e){if(t.wa)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=pn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=pn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Qe(e,this))}function vn(t){return(t=t[sn])instanceof nn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(t){return d(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function _n(){Be.call(this),this.v=new nn(this),this.bc=this,this.hb=null}function wn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Cn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Sn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.wa&&s.capture==n){var a=s.listener,u=s.Wa||s.src;s.Qa&&rn(t.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function xn(t,e,n){if(d(t))n&&(t=_(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=_(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function In(t){var e=null;return new be(function(n,r){-1==(e=xn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw s.clearTimeout(e),t})}function An(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function kn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function En(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof En)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Tn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(_n,Be),_n.prototype[Je]=!0,_n.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},_n.prototype.removeEventListener=function(t,e,n,r){hn(this,t,e,n,r)},_n.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"==typeof t)t=new Ye(t,n);else if(t instanceof Ye)t.target=t.target||n;else{var i=t;mt(t=new Ye(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=Sn(s,r,!0,t)&&i}if(i=Sn(s=t.b=n,r,!0,t)&&i,i=Sn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Sn(s=t.b=e[o],r,!1,t)&&i;return i},_n.prototype.Da=function(){if(_n.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)en(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=En.prototype).X=function(){Tn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Tn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Pn(this.b,t)?this.b[t]:e},t.set=function(t,e){Pn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Nn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function On(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof On?(this.i=void 0!==e?e:t.i,Ln(this,t.c),this.l=t.l,this.a=t.a,Dn(this,t.g),this.f=t.f,Mn(this,tr(t.b)),this.h=t.h):t&&(n=String(t).match(Nn))?(this.i=!!e,Ln(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Dn(this,n[4]),this.f=qn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!e,this.b=new $n(null,this.i))}function Ln(t,e,n){t.c=n?qn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Dn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Mn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),Zn(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Bn(e,Gn)),t.b=new $n(e,t.i))}function Rn(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function jn(t){return t instanceof On?new On(t):new On(t,void 0)}function Un(t,e,n,r){var i=new On(null,void 0);return t&&Ln(i,t),e&&(i.a=e),n&&Dn(i,n),r&&(i.f=r),i}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}On.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Bn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Wn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Bn(n,Kn)),t.join("")},On.prototype.resolve=function(t){var e=new On(this),n=!!t.c;n?Ln(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Dn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Mn(e,tr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,zn=/[#\?:]/g,Wn=/[#\?]/g,Gn=/[#\?@]/g,Kn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new En,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qn(t){var e=kn(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=An(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Zn(n,i,o):n.add(i,o)}return n}function Xn(t,e){Yn(t),e=er(t,e),Pn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Tn(t)))}function Jn(t,e){return Yn(t),e=er(t,e),Pn(t.a.b,e)}function Zn(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(er(t,e),X(n)),t.b+=n.length)}function tr(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new En(t.a),e.b=t.b),e}function er(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nr(t){var e=[];return ir(new rr,t,e),e.join("")}function rr(){}function ir(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),ir(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ar(r,n),n.push(":"),ir(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ar(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=$n.prototype).add=function(t,e){Yn(this),this.c=null,t=er(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Yn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Yn(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){Yn(this);var e=[];if("string"==typeof t)Jn(this,t)&&(e=Q(e,this.a.get(er(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},t.set=function(t,e){return Yn(this),this.c=null,Jn(this,t=er(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var or={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(sr,function(t){var e=or[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),or[t]=e),e}),'"')}function ur(){var t=Er();return $t&&!!oe&&11==oe||/Edge\/\d+/.test(t)}function cr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function lr(t,e){e=e||s.window;var n="about:blank";t&&(n=Nt(Mt(t)||jt)),e.location.href=n}function hr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<hr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Er()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function dr(t){t=t||s.window;try{t.close()}catch(e){}}function pr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Er().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),Ir(Er())==Sr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Pt?n:Mt(void 0!==n.href?n.href:String(n))||jt,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ht("iPhone")&&!ht("iPod")&&!ht("iPad")||ht("iPad")||ht("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(s=de(document,"A"),"HTMLAnchorElement"),e=e instanceof Pt?e:Rt(e),s.href=Nt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=Bt("",r,n,s),t=Nt(e),s&&(Qt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Ut(t=(r=St())?r.createHTML(t):t,null,qt),r=s.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+h(t)),"type_error:SafeHtml")}(t)),r.close())):(s=Bt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new be(function(e){"complete"==s.document.readyState?e():(t=function(){e()},ln(window,"load",t))}).o(function(e){throw hn(window,"load",t),e})}function yr(t){return t=t||Er(),!("file:"!==Lr()&&"ionic:"!==Lr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function br(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function _r(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function wr(){return Ap.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ap.default.INTERNAL.hasOwnProperty("node")?"Node":_r()?"Worker":"Browser"}function Cr(){var t=wr();return"ReactNative"===t||"Node"===t}var Sr="Firefox",xr="Chrome";function Ir(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?Sr:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":xr:"Safari"}var Ar={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in Ar)i[Ar[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Ir(i=Er()):"Worker"===r&&(r=Ir(i=Er())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Er(){return s.navigator&&s.navigator.userAgent||""}function Tr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Pr(){try{var t=s.localStorage,e=jr();if(t)return t.setItem(e,"1"),t.removeItem(e),!ur()||!!s.indexedDB}catch(n){return _r()&&!!s.indexedDB}return!1}function Nr(){return(Or()||"chrome-extension:"===Lr()||yr())&&!Cr()&&Pr()&&!_r()}function Or(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return s.location&&s.location.protocol||null}function Dr(t){return!fr(t=t||Er())&&Ir(t)!=Sr}function Mr(t){return void 0===t?null:nr(t)}function Rr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function jr(t){return t||Math.floor(1e9*Math.random()).toString()}function Ur(t){return"Safari"!=Ir(t=t||Er())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Br(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Er(),e=wr(),this.b=fr(t)||"ReactNative"===e}function Vr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Hr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zr(){return!(!Tr("fireauth.oauthhelper",s)&&!Tr("fireauth.iframe",s))}Br.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Or()&&"chrome-extension:"!==Lr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Wr,Gr={};function Kr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Wr=2==$r.abcd}catch(Gt){Wr=!1}function Yr(t,e,n){Wr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yr(t,n,e[n])}function Xr(t){var e={};return Qr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Yr(e,n,Jr(t[n]));return e}function Zr(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new I("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",t[ri]),Yr(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(n){e=null}return e}Zr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){Zr.call(this,t),Yr(this,"phoneNumber",t[ii])}function si(t){var e={},n=t[li],r=t[fi],i=t[di];if(t=ti(t[hi]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[gi]=n||null,e[vi]=n||null,e[pi]=r):(e[gi]=r||null,e[vi]=r||null,e[pi]=n||null),e[mi]=t||null,Yr(this,bi,i),Yr(this,yi,Jr(e))}S(oi,Zr),oi.prototype.w=function(){var t=oi.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",li="email",hi="mfaInfo",fi="newEmail",di="requestType",pi="email",gi="fromEmail",mi="multiFactorInfo",vi="previousEmail",yi="data",bi="operation";function _i(t){var e=Fn(t=jn(t),wi)||null,n=Fn(t,Ci)||null,r=Fn(t,Ii)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new I("argument-error",wi+", "+Ci+"and "+Ii+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,Si)||null,languageCode:Fn(t,xi)||null,tenantId:Fn(t,Ai)||null})}var wi="apiKey",Ci="oobCode",Si="continueUrl",xi="languageCode",Ii="mode",Ai="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ei(t){try{return new _i(t)}catch(e){return null}}function Ti(t){var e=t[Di];if(void 0===e)throw new I("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new I("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Pi];if(n&&"object"==typeof n){e=n[Fi];var r=n[Mi];if(n=n[Ri],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new I("argument-error",Mi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new I("argument-error",Ri+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new I("argument-error",Fi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new I("missing-android-pkg-name")}}else if(void 0!==n)throw new I("argument-error",Pi+" property must be a non null object when specified.");if(this.f=null,(e=t[Li])&&"object"==typeof e){if("string"==typeof(e=e[ji])&&e.length)this.f=e;else if(void 0!==e)throw new I("argument-error",ji+" property must be a non empty string when specified.")}else if(void 0!==e)throw new I("argument-error",Li+" property must be a non null object when specified.");if(void 0!==(e=t[Oi])&&"boolean"!=typeof e)throw new I("argument-error",Oi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ni])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new I("argument-error",Ni+" property must be a non empty string when specified.");this.i=t||null}var Pi="android",Ni="dynamicLinkDomain",Oi="handleCodeInApp",Li="iOS",Di="url",Mi="installApp",Ri="minimumVersion",Fi="packageName",ji="bundleId";function Ui(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qi=null;function Bi(t){var e=Hi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Vi(t){try{return new Bi(t)}catch(e){return null}}function Hi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qi){qi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(Fp){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wi=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Wi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Wi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Wi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:zi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ki(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function $i(t){var e={};e["facebook.com"]=Zi,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Qi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Yi])return new Xi(t)}catch(r){}return null}var Yi="idToken",Qi="providerId";function Xi(t){var e=t[Qi];if(!e&&t[Yi]){var n=Vi(t[Yi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Yr(this,"providerId",e),Yr(this,"isNewUser",n)}function Ji(t){Xi.call(this,t),Yr(this,"profile",Jr((t=Fr(t.rawUserInfo||"{}"))||{}))}function Zi(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",t.screenName||null)}function ro(t){var e=jn(t),n=Fn(e,"link"),r=Fn(jn(n),"link");return e=Fn(e,"deep_link_id"),Fn(jn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new I("internal-error","Internal assert: no raw session string available");if(t&&e)throw new I("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:so}S(Ji,Xi),S(Zi,Ji),S(to,Ji),S(eo,Ji),S(no,Ji);var oo="enroll",so="signin";function ao(){}function uo(t,e){return t.then(function(t){if(t[Ys]){var n=Vi(t[Ys]);if(!n||e!=n.i)throw new I("user-mismatch");return t}throw new I("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==E+"user-not-found"?new I("user-mismatch"):t})}function co(t,e){if(!e)throw new I("internal-error","failed to construct a credential");this.a=e,Yr(this,"providerId",t),Yr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Yr(this,"idToken",e.idToken),e.accessToken&&Yr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Yr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new I("internal-error","failed to construct a credential");Yr(this,"accessToken",e.oauthToken),Yr(this,"secret",e.oauthTokenSecret)}Yr(this,"providerId",t),Yr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function mo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Ki(t)||{}).Ja||null,this.pb=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new I("argument-error",'SAML provider IDs must be prefixed with "saml."');mo.call(this,t,[])}function yo(t){mo.call(this,t,Wi),this.a=[]}function bo(){yo.call(this,"facebook.com")}function _o(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function wo(){yo.call(this,"github.com")}function Co(t){if(!t)throw new I("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function So(){yo.call(this,"google.com"),this.Ca("profile")}function xo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new So).credential({idToken:n,accessToken:e})}function Io(){mo.call(this,"twitter.com",zi)}function Ao(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new I("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function ko(t,e,n){this.a=t,this.f=e,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===To.EMAIL_LINK_SIGN_IN_METHOD?To.EMAIL_LINK_SIGN_IN_METHOD:To.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Eo(t){return t&&t.email&&t.password?new ko(t.email,t.password,t.signInMethod):null}function To(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function Po(t,e){if(!(e=No(e)))throw new I("argument-error","Invalid email link!");return new ko(t,e.code,To.EMAIL_LINK_SIGN_IN_METHOD)}function No(t){return(t=Ei(t=ro(t)))&&t.operation===ui?t:null}function Oo(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new I("internal-error");this.a=t,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function Lo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Oo(e)}return null}function Do(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Mo(t){try{this.a=t||Ap.default.auth()}catch(e){throw new I("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Ro(t,e){if(!t)throw new I("missing-verification-id");if(!e)throw new I("missing-verification-code");return new Oo({fb:t,eb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Oo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return xo(o,n);case"facebook.com":return _o(n);case"github.com":return Co(n);case"twitter.com":return Ao(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new co(e,s):new fo(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function jo(t){if(!t.isOAuthProvider)throw new I("invalid-oauth-provider")}function Uo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new I("invalid-auth-event");if(this.g&&this.a)throw new I("invalid-auth-event");if(this.g&&!this.f)throw new I("invalid-auth-event")}function qo(t){return(t=t||{}).type?new Uo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&A(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return Ae(this.a?this.a:this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ka=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.w=function(){},co.prototype.ka=function(t){return ma(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,va(t,n)},co.prototype.c=function(t,e){return uo(ya(t,lo(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return ma(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,va(t,n)},fo.prototype.c=function(t,e){return uo(ya(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},mo.prototype.Ka=function(t){return this.Jb=pt(t),this},S(vo,mo),S(yo,mo),yo.prototype.Ca=function(t){return K(this.a,t)||this.a.push(t),this},yo.prototype.Rb=function(){return X(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new I("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},S(bo,yo),Yr(bo,"PROVIDER_ID","facebook.com"),Yr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(wo,yo),Yr(wo,"PROVIDER_ID","github.com"),Yr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),S(So,yo),Yr(So,"PROVIDER_ID","google.com"),Yr(So,"GOOGLE_SIGN_IN_METHOD","google.com"),S(Io,mo),Yr(Io,"PROVIDER_ID","twitter.com"),Yr(Io,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ka=function(t){return this.signInMethod==To.EMAIL_LINK_SIGN_IN_METHOD?Za(t,Aa,{email:this.a,oobCode:this.f}):Za(t,$a,{email:this.a,password:this.f})},ko.prototype.b=function(t,e){return this.signInMethod==To.EMAIL_LINK_SIGN_IN_METHOD?Za(t,ka,{idToken:e,email:this.a,oobCode:this.f}):Za(t,qa,{idToken:e,email:this.a,password:this.f})},ko.prototype.c=function(t,e){return uo(this.ka(t),e)},ko.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(To,{PROVIDER_ID:"password"}),Qr(To,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(To,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Oo.prototype.ka=function(t){return t.gb(Do(this))},Oo.prototype.b=function(t,e){var n=Do(this);return n.idToken=e,Za(t,Qa,n)},Oo.prototype.c=function(t,e){var n=Do(this);return n.operation="REAUTH",uo(t=Za(t,Xa,n),e)},Oo.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Mo.prototype.gb=function(t,e){var n=this.a.a;return Ae(e.verify()).then(function(r){if("string"!=typeof r)throw new I("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then(function(t){return function(t,e){return Za(t,Va,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==so?i.Ha().then(function(e){return function(t,e){return Za(t,Ha,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return Za(t,ja,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new I("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Qr(Mo,{PROVIDER_ID:"phone"}),Qr(Mo,{PHONE_SIGN_IN_METHOD:"phone"}),Uo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Uo.prototype.T=function(){return this.h},Uo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Ho=null;function zo(t){var e="unauthorized-domain",n=void 0,r=jn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Vt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Vt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",I.call(this,e,n)}function Wo(t,e,n){I.call(this,t,n),(t=e||{}).Kb&&Yr(this,"email",t.Kb),t.ea&&Yr(this,"phoneNumber",t.ea),t.credential&&Yr(this,"credential",t.credential),t.$b&&Yr(this,"tenantId",t.$b)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(E)&&(e=e.substring(E.length));var n={credential:Fo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new I(e,t.message||void 0);return new Wo(e,n,t.message)}return null}function Ko(){}function $o(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(YE){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Qo(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=_(this.qc,this),this.a.onerror=_(this.Tb,this),this.a.onprogress=_(this.rc,this),this.a.ontimeout=_(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Zo(t,e,n){this.reset(t,e,n,void 0,void 0)}function ts(t){this.f=t,this.b=this.c=this.a=null}function es(t,e){this.name=t,this.value=e}S(zo,I),S(Wo,I),Wo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},Wo.prototype.toJSON=function(){return this.w()},Ko.prototype.c=null,S($o,Ko),$o.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},$o.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},Vo=new $o,S(Qo,Ko),Qo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Xo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Zo.prototype.a=null,Zo.prototype.reset=function(t,e,n,r,i){r||C(),delete this.a},es.prototype.toString=function(){return this.name};var ns=new es("SEVERE",1e3),rs=new es("WARNING",900),is=new es("CONFIG",700),os=new es("FINE",500);function ss(t){return t.c?t.c:t.a?ss(t.a):(M("Root logger has no level set."),null)}ts.prototype.log=function(t,e,n){if(t.value>=ss(this).value)for(d(e)&&(e=e()),t=new Zo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var as={},us=null;function cs(t){var e;if(us||(us=new ts(""),as[""]=us,us.c=is),!(e=as[t])){e=new ts(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=cs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,as[t]=e}return e}function ls(t,e){t&&t.log(os,e,void 0)}function hs(t){this.f=t}function fs(t){_n.call(this),this.u=t,this.h=void 0,this.readyState=ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=cs("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(hs,Ko),hs.prototype.a=function(){return new fs(this.f)},hs.prototype.b=function(t){return function(){return t}}({}),S(fs,_n);var ds=0;function ps(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function gs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ms(t)}function ms(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function vs(t){_n.call(this),this.headers=new En,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ys,this.u=this.S=!1}(t=fs.prototype).open=function(t,e){if(this.readyState!=ds)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ms(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,gs(this)),this.readyState=ds},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ms(this)),this.a&&(this.readyState=3,ms(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ps(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?gs(this):ms(this),3==this.readyState&&ps(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,gs(this))},t.sc=function(t){this.a&&(this.response=t,gs(this))},t.Va=function(t){var e=this.i;e&&e.log(rs,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&gs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(rs,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(rs,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(vs,_n);var ys="";vs.prototype.b=cs("goog.net.XhrIo");var bs=/^https?$/i,_s=["POST","PUT"];function ws(t){return"content-type"==t.toLowerCase()}function Cs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ss(t),Is(t)}function Ss(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function xs(t){if(t.c&&void 0!==o)if(t.C[1]&&4==ks(t)&&2==Es(t))ls(t.b,Ts(t,"Local request error detected and ignored"));else if(t.i&&4==ks(t))xn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==ks(t)){ls(t.b,Ts(t,"Request complete")),t.c=!1;try{var e,n=Es(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(Nn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!bs.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<ks(t)?t.a.statusText:""}catch(l){ls(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Es(t)+"]",Ss(t)}}finally{Is(t)}}}function Is(t,e){if(t.a){As(t);var n=t.a,r=t.C[0]?l:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(YE){(t=t.b)&&t.log(ns,"Problem encountered resetting onreadystatechange: "+YE.message,void 0)}}}function As(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function ks(t){return t.a?t.a.readyState:0}function Es(t){try{return 2<ks(t)?t.a.status:-1}catch(e){return-1}}function Ts(t,e){return e+" ["+t.P+" "+t.l+" "+Es(t)+"]"}function Ps(t){var e=Bs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ns(t,e,n){t.a=!0,t.c=n,t.f=!e,Ms(t)}function Os(t){if(t.a){if(!t.v)throw new Rs(t);t.v=!1}}function Ls(t,e,n,r){t.g.push([e,n,r]),t.a&&Ms(t)}function Ds(t){return G(t.g,function(t){return d(t[1])})}function Ms(t){if(t.h&&t.a&&Ds(t)){var e=t.h,n=Us[e];n&&(s.clearTimeout(n.a),delete Us[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(O(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ds(t)||(n=!0)}}t.c=e,r&&(u=_(t.m,t,!0),r=_(t.m,t,!1),e instanceof Ps?(Ls(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new js(e),Us[e.a]=e,t.h=e.a)}function Rs(){L.call(this)}function Fs(){L.call(this)}function js(t){this.a=s.setTimeout(_(this.c,this),0),this.b=t}(t=vs.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ls(this.b,Ts(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ls(this.b,Ts(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Is(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Is(this,!0)),vs.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?xs(this):this.Jc())},t.Jc=function(){xs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ns,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ls(this.b,"Can not get response: "+e.message),null}},Ps.prototype.cancel=function(t){if(this.a)this.c instanceof Ps&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fs(this),Os(this),Ns(this,!1,t))}},Ps.prototype.m=function(t,e){this.i=!1,Ns(this,t,e)},Ps.prototype.then=function(t,e,n){var r,i,o=new be(function(t,e){r=t,i=e});return Ls(this,r,function(t){t instanceof Fs?o.cancel():i(t)}),o.then(t,e,n)},Ps.prototype.$goog_Thenable=!0,S(Rs,L),Rs.prototype.message="Deferred has already fired",Rs.prototype.name="AlreadyCalledError",S(Fs,L),Fs.prototype.message="Deferred was canceled",Fs.prototype.name="CanceledError",js.prototype.c=function(){throw delete Us[this.a],this.b};var Us={};function qs(t){var e={},n=e.document||document,r=It(t).toString(),i=de(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ps(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout(function(){Vs(i,!0);var t=new Ws(zs,"Timeout reached for loading script "+r);Os(a),Ns(a,!1,t)},h),o.Ma=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Vs(i,e.xd||!1,l),Os(a),Ns(a,!0,null))},i.onerror=function(){Vs(i,!0,l);var t=new Ws(Hs,"Error while loading script "+r);Os(a),Ns(a,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=It(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=c(e.document):(null===u&&(u=c(s.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Bs(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Vs(t,!0,this.Ma)}}function Vs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=l,t.onerror=l,t.onreadystatechange=l,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Hs=0,zs=1;function Ws(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function Gs(t){this.f=t}function Ks(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Qs,this.g=pt(t.secureTokenHeaders||Xs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Js,this.a=pt(t.firebaseHeaders||Zs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=s.XMLHttpRequest||n&&Ap.default.INTERNAL.node&&Ap.default.INTERNAL.node.XMLHttpRequest)&&!_r())throw new I("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=_r()?new hs(self):Cr()?new Gs(n):new Qo,this.b=null}S(Ws,L),S(Gs,Ko),Gs.prototype.a=function(){return new this.f},Gs.prototype.b=function(){return{}};var $s,Ys="idToken",Qs=new Br(3e4,6e4),Xs={"Content-Type":"application/x-www-form-urlencoded"},Js=new Br(3e4,6e4),Zs={"Content-Type":"application/json"};function ta(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ea(t,e){e&&(t.l=na("https://securetoken.googleapis.com/v1/token",e),t.h=na("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=na("https://identitytoolkit.googleapis.com/v2/",e))}function na(t,e){return t=jn(t),e=jn(e.url),t.f=t.a+t.f,Ln(t,e.c),t.a=e.a,Dn(t,e.g),t.toString()}function ra(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ia(t,e,n,r,i,o,a){(function(){var t=Er();return!((t=Ir(t)!=xr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||$t&&oe&&!(9<oe))})()||_r()?t=_(t.u,t):($s||($s=new be(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[sa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ls(t,null,e,void 0)}(qs(At(oa,{onload:sa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=_(t.s,t)),t(e,n,r,i,o,a)}Ks.prototype.T=function(){return this.b},Ks.prototype.u=function(t,e,n,r,i,o){if(_r()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new I("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new vs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}wn(a,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ls(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(Fp){t=null}e&&e(t)}),Cn(a,"ready",function(){u&&clearTimeout(u),ze(this)}),Cn(a,"timeout",function(){u&&clearTimeout(u),ze(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Vo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Vo),t.a.onreadystatechange=_(t.Wb,t);try{ls(t.b,Ts(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return ls(t.b,Ts(t,"Error opening Xhr: "+a.message)),void Cs(t,a)}e=r||"";var o=new En(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)H(t,e,void 0);else for(var n=kn(t),r=An(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=ws,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!K(_s,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{As(t),0<t.g&&(t.u=function(t){return $t&&ie(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ls(t.b,Ts(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=_(t.Ma,t)):t.s=xn(t.Ma,t.g,t)),ls(t.b,Ts(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ls(t.b,Ts(t,"Send error: "+a.message)),Cs(t,a)}}(a,t,n,r,i)};var oa=new yt(Ct,"https://apis.google.com/js/client.js?onload=%{onload}"),sa="__fcb"+Math.floor(1e6*Math.random()).toString();function aa(t){if("string"!=typeof(t=t.email)||!mr.test(t))throw new I("invalid-email")}function ua(t){"email"in t&&aa(t)}function ca(t){if(!t[Ys]){if(t.mfaPendingCredential)throw new I("multi-factor-auth-required",null,pt(t));throw new I("internal-error")}}function la(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new I("internal-error")}else{if(!t.sessionInfo)throw new I("missing-verification-id");if(!t.code)throw new I("missing-verification-code")}}Ks.prototype.s=function(t,e,n,r,i){var o=this;$s.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ks.prototype.Ab=function(){return Za(this,Ba,{})},Ks.prototype.Cb=function(t,e){return Za(this,Ua,{idToken:t,email:e})},Ks.prototype.Db=function(t,e){return Za(this,qa,{idToken:t,password:e})};var ha={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fa(t){if(!t.phoneVerificationInfo)throw new I("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new I("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new I("missing-verification-code")}function da(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new I("internal-error")}function pa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Jn(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=tu(t.errorMessage)),e)throw e;ca(t)}function ma(t,e){return e.returnIdpCredential=!0,Za(t,za,e)}function va(t,e){return e.returnIdpCredential=!0,Za(t,Ga,e)}function ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Za(t,Wa,e)}function ba(t){if(!t.oobCode)throw new I("invalid-action-code")}(t=Ks.prototype).Eb=function(t,e){var n={idToken:t},r=[];return ft(ha,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Za(this,Ua,n)},t.wb=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),Za(this,Da,t)},t.xb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),Za(this,Na,t)},t.vb=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Za(this,Oa,t)},t.Fb=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Za(this,La,t)},t.gb=function(t){return Za(this,Ya,t)},t.ob=function(t,e){return Za(this,Fa,{oobCode:t,newPassword:e})},t.Sa=function(t){return Za(this,wa,{oobCode:t})},t.kb=function(t){return Za(this,_a,{oobCode:t})};var _a={endpoint:"setAccountInfo",A:ba,Z:"email",B:!0},wa={endpoint:"resetPassword",A:ba,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new I("internal-error")},B:!0},Ca={endpoint:"signupNewUser",A:function(t){if(aa(t),!t.password)throw new I("weak-password")},G:ca,V:!0,B:!0},Sa={endpoint:"createAuthUri",B:!0},xa={endpoint:"deleteAccount",O:["idToken"]},Ia={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new I("internal-error")}},Aa={endpoint:"emailLinkSignin",O:["email","oobCode"],A:aa,G:ca,V:!0,B:!0},ka={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:aa,G:ca,V:!0},Ea={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:fa,G:ca,B:!0,Na:!0},Ta={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:fa,G:ca,B:!0,Na:!0},Pa={endpoint:"getAccountInfo"},Na={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new I("internal-error");aa(t)},Z:"email",B:!0},Oa={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new I("internal-error")},Z:"email",B:!0},La={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new I("internal-error")},Z:"email",B:!0},Da={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new I("internal-error");aa(t)},Z:"email",B:!0},Ma={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ra={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new I("internal-error")}},Fa={endpoint:"resetPassword",A:ba,Z:"email",B:!0},ja={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ua={endpoint:"setAccountInfo",O:["idToken"],A:ua,V:!0},qa={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ua(t),!t.password)throw new I("weak-password")},G:ca,V:!0},Ba={endpoint:"signupNewUser",G:ca,V:!0,B:!0},Va={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new I("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new I("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},Ha={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new I("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new I("internal-error")},B:!0,Na:!0},za={endpoint:"verifyAssertion",A:da,Za:pa,G:ga,V:!0,B:!0},Wa={endpoint:"verifyAssertion",A:da,Za:pa,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new I("user-not-found");if(t.errorMessage)throw tu(t.errorMessage);ca(t)},V:!0,B:!0},Ga={endpoint:"verifyAssertion",A:function(t){if(da(t),!t.idToken)throw new I("internal-error")},Za:pa,G:ga,V:!0},Ka={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new I("invalid-custom-token")},G:ca,V:!0,B:!0},$a={endpoint:"verifyPassword",A:function(t){if(aa(t),!t.password)throw new I("wrong-password")},G:ca,V:!0,B:!0},Ya={endpoint:"verifyPhoneNumber",A:la,G:ca,B:!0},Qa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new I("internal-error");la(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);ca(t)}},Xa={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:la,G:ca,B:!0},Ja={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ys]^!!t.refreshToken)throw new I("internal-error")},B:!0,Na:!0};function Za(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.O))return ke(new I("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return Ae(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=jn(e+n);Rn(a,"key",t.c),s&&Rn(a,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Rn(a,c,i[c]);return new be(function(e,n){ia(t,a.toString(),function(t){t?t.error?n(eu(t,o||{})):e(t):n(new I("network-request-failed"))},r,u?void 0:nr(Rr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)}).then(function(t){return r=t,e.Za?e.Za(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new I("internal-error");return r[e.Z]})}function tu(t){return eu({error:{errors:[{message:t}],code:400,message:t}})}function eu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new I(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new I(r[i],e);return!e&&t&&(e=Mr(t)),new I("internal-error",e)}function nu(t){this.b=t,this.a=null,this.sb=function(t){return(su||(su=new be(function(t,e){function n(){qr(),Tr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qr(),e(Error("Network Error"))},timeout:iu.get()})}if(Tr("gapi.iframes.Iframe"))t();else if(Tr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Tr("gapi.load")?n():e(Error("Network Error"))},Ae(qs(r=At(ru,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw su=null,t}))).then(function(){return new be(function(e,n){Tr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ou.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var ru=new yt(Ct,"https://apis.google.com/js/api.js?onload=%{onload}"),iu=new Br(3e4,6e4),ou=new Br(5e3,15e3),su=null;function au(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Un((t=jn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Rn(this.a,"apiKey",this.h),Rn(this.a,"appName",this.i),this.b=null,this.c=[]}function uu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function cu(t){try{return Ap.default.app(t).auth().Ga()}catch(e){return[]}}function lu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hu(t){var e=cr();return function(t){return Za(t,Ma,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=jn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=jn(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:gr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new zo(cr())})}function fu(t){return t.m||(t.m=vr().then(function(){if(!t.u){var e=t.c,n=t.i,r=cu(t.b),i=new au(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new nu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then(function(){t.a.register("authEvent",e,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=qo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)})}(t)})),t.m}function du(t){return t.l||(t.C=t.c?kr(t.c,cu(t.b)):null,t.l=new Ks(t.g,N(t.i),t.C),t.f&&ea(t.l,t.f)),t.l}function pu(t,e,n,r,i,o,s,a,u,c,l,h){return(t=new uu(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=pt(u||null),t.f=c,t.zb(l).toString()}function gu(t){if(this.a=t||Ap.default.INTERNAL.reactNative&&Ap.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new I("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function mu(t){this.b=t,this.a={},this.f=_(this.c,this)}au.prototype.toString=function(){return this.f?Rn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Rn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Rn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},uu.prototype.zb=function(t){return this.h=t,this},uu.prototype.toString=function(){if(this.v){var t=jn(this.v.url);t=Un(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Rn(t,"apiKey",this.s),Rn(t,"appName",this.c),Rn(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=Ap.default.app(this.c).auth().la()}catch(a){n=null}for(var r in e.pb=n,Rn(t,"providerId",this.a.providerId),e=Rr((n=this.a).Jb))e[r]=e[r].toString();r=n.Qc,e=pt(e);for(var i=0;i<r.length;i++){var o=r[i];o in e&&delete e[o]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),dt(e)||Rn(t,"customParameters",Mr(e))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Rn(t,"scopes",n.join(",")),this.l?Rn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Rn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Rn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Fn(t,s)&&Rn(t,s,this.b[s]);return this.h?Rn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Rn(t,"eid",this.f):Xn(t.b,"eid"),(s=cu(this.c)).length&&Rn(t,"fw",s.join(",")),t.toString()},(t=lu.prototype).Pb=function(t,e,n){var r=new I("popup-closed-by-user"),i=new I("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return fu(t).then(function(){return function(t,e){return t.sb.then(function(){return new be(function(n){t.a.send(e.type,e,n,Tr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&dr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new be(function(e){return function n(){In(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return In(n).then(function(){e(r)})})},t.Yb=function(){var t=Er();return!Dr(t)&&!Ur(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,s,a){if(!t)return ke(new I("popup-blocked"));if(s&&!Dr())return this.ma().o(function(e){dr(t),i(e)}),r(),Ae();this.a||(this.a=hu(du(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw dr(t),i(e),e});return r(),e}).then(function(){jo(n),s||lr(pu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,a,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Ob=function(t,e,n,r){this.a||(this.a=hu(du(this)));var i=this;return this.a.then(function(){jo(e),lr(pu(i.s,i.g,i.b,t,e,cr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return fu(this).then(function(){return t.v.sb}).o(function(){throw t.a=null,new I("network-request-failed")})},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Y(this.h,function(e){return e==t})},(t=gu.prototype).get=function(t){return Ae(this.a.getItem(t)).then(function(t){return t&&Fr(t)})},t.set=function(t,e){return Ae(this.a.setItem(t,Mr(e)))},t.U=function(t){return Ae(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var vu,yu=[];function bu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function wu(t){this.c=t,this.b=!1,this.a=[]}function Cu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return ke(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new be(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Su(t,c),e}).o(function(e){throw Su(t,c),e})}function Su(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Y(t.a,function(t){return t==e})}}function xu(){if(!Eu())throw new I("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;_r()&&self?(this.v=function(){var t=_r()?self:null;if(H(yu,function(n){n.b==t&&(e=n)}),!e){var e=new mu(t);yu.push(e)}return e}(),bu(this.v,"keyChanged",function(e,n){return Lu(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:K(e,n.key)}})}),bu(this.v,"ping",function(){return Ae(["keyChanged"])})):function(){var t=s.navigator;return t&&t.serviceWorker?Ae().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ae(null)}().then(function(e){(t.h=e)&&(t.g=new wu(new _u(e)),Cu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Iu(t){return new be(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new be(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Iu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Au(t){return t.i||(t.i=Iu(t)),t.i}function ku(t,e){var n=0;return new be(function r(i,o){Au(t).then(e).then(i).o(function(e){if(!(3<++n))return Au(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Eu(){try{return!!s.indexedDB}catch(Gt){return!1}}function Tu(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Nu(t){return new be(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Ou(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Cu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ae()}function Lu(t){return Au(t).then(function(t){var e=Tu(Pu(t,!1));return e.getAll?Nu(e.getAll()):new be(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=hr(t.c,n),t.c=n}return r})}function Du(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Mu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then(function(){if(Eu()){var t=jr(),r="__sak"+t;return vu||(vu=new xu),(n=vu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){H(e.a,function(e){e(t)})}),t})}function Ru(){this.a={},this.type="inMemory"}function Fu(){if(!function(){var t="Node"==wr();if(!(t=ju()||t&&Ap.default.INTERNAL.node&&Ap.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new I("internal-error","The LocalStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=ju()||Ap.default.INTERNAL.node.localStorage,this.type="localStorage"}function ju(){try{var t=s.localStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Uu(){this.type="nullStorage"}function qu(){if(!function(){var t="Node"==wr();if(!(t=Bu()||t&&Ap.default.INTERNAL.node&&Ap.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new I("internal-error","The SessionStorage compatibility library was not found.");throw new I("web-storage-unsupported")}this.a=Bu()||Ap.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=s.sessionStorage,e=jr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vu(){var t={};t.Browser=Wu,t.Node=Gu,t.ReactNative=Ku,t.Worker=$u,this.a=t[wr()]}mu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(Ae().then(function(){return e(t.origin,t.data.data)}))}),Te(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},wu.prototype.close=function(){for(;0<this.a.length;)Su(this,this.a[0]);this.b=!0},(t=xu.prototype).set=function(t,e){var n=this,r=!1;return ku(this,function(e){return Nu((e=Tu(Pu(e,!0))).get(t))}).then(function(i){return ku(n,function(o){if(o=Tu(Pu(o,!0)),i)return i.value=e,Nu(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Nu(o.add(s))})}).then(function(){return n.c[t]=e,Ou(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return ku(this,function(e){return Nu(Tu(Pu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return ku(this,function(r){return n=!0,e.b++,Nu(Tu(Pu(r,!0)).delete(t))}).then(function(){return delete e.c[t],Ou(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Du(t),function e(){t.f=setTimeout(function(){t.l=Lu(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t}),0==this.a.length&&Du(this)},(t=Mu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,function(e){return e==t})},(t=Ru.prototype).get=function(t){return Ae(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ae()},t.U=function(t){return delete this.a[t],Ae()},t.ca=function(){},t.ia=function(){},(t=Fu.prototype).get=function(t){var e=this;return Ae().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ae().then(function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ae().then(function(){e.a.removeItem(t)})},t.ca=function(t){s.window&&un(s.window,"storage",t)},t.ia=function(t){s.window&&hn(s.window,"storage",t)},(t=Uu.prototype).get=function(){return Ae(null)},t.set=function(){return Ae()},t.U=function(){return Ae()},t.ca=function(){},t.ia=function(){},(t=qu.prototype).get=function(t){var e=this;return Ae().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Ae().then(function(){var r=Mr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Ae().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Hu,zu,Wu={F:Fu,cb:qu},Gu={F:Fu,cb:qu},Ku={F:gu,cb:Uu},$u={F:Fu,cb:Uu},Yu={rd:"local",NONE:"none",td:"session"};function Qu(){var t=!(Ur(Er())||!br()),e=Dr(),n=Pr();this.m=t,this.h=e,this.l=n,this.a={},Hu||(Hu=new Vu),t=Hu;try{this.g=!ur()&&zr()||!s.indexedDB?new t.a.F:new Mu(_r()?new Ru:new t.a.F)}catch(r){this.g=new Ru,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Ru}this.v=new Ru,this.f=_(this.Zb,this),this.b={}}function Xu(){return zu||(zu=new Qu),zu}function Ju(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Zu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function tc(t,e,n){return n=Zu(e,n),"local"==e.F&&(t.b[n]=null),Ju(t,e.F).U(n)}function ec(t){t.c&&(clearInterval(t.c),t.c=null)}function nc(t){this.a=t,this.b=Xu()}(t=Qu.prototype).get=function(t,e){return Ju(this,t.F).get(Zu(t,e))},t.set=function(t,e,n){var r=Zu(t,n),i=this,o=Ju(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=Zu(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),dt(this.a)&&(Ju(this,"local").ca(this.f),this.h||(ur()||!zr())&&s.indexedDB||!this.l||function(t){ec(t),t.c=setInterval(function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Zu(t,e),this.a[t]&&(Y(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(Ju(this,"local").ia(this.f),ec(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ju(this,"local").ia(this.f):ec(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.nb(e))},$t&&oe&&10==oe&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,_(this.nb,this))},t.nb=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var rc,ic={name:"authEvent",F:"local"};function oc(){this.a=Xu()}function sc(t,e){this.b=ac,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===rc&&(rc=s.Int32Array?new Int32Array(pc):pc),this.reset()}S(sc,function(){this.b=-1});for(var ac=64,uc=ac-1,cc=[],lc=0;lc<uc;lc++)cc[lc]=0;var hc=Q(128,cc);function fc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|rc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function dc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(fc(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(fc(t),i=0)}}t.c=i,t.g+=n}sc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var pc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gc(){sc.call(this,8,mc)}S(gc,sc);var mc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function vc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new oc,this.g=new nc(this.h),this.f=null,this.b=[],this.a=this.c=null}function yc(t){return new I("invalid-cordova-configuration",t)}function bc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function _c(t){return t.f||(t.f=t.ma().then(function(){return new be(function(e){t.Ea(function n(r){return e(r),t.Ta(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),wc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(Fn(o=jn(i),"firebaseError")||null))?A(o):null)?new Uo(r.c,r.b,null,null,o,null,r.T()):new Uo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}bc(t,i)})}var n=new Uo("unknown",null,null,null,new I("no-auth-event")),r=!1,i=In(500).then(function(){return wc(t).then(function(){r||bc(t,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Tr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Ho||(Ho=new Bo),function(t){var e=Ho;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Tr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)})})),t.f}function wc(t){var e=null;return function(t){return t.b.get(ic,t.a).then(function(t){return qo(t)})}(t.g).then(function(n){return e=n,tc((n=t.g).b,ic,n.a)}).then(function(){return e})}function Cc(t){this.a=t,this.b=Xu()}(t=vc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?vr().then(function(){return new be(function(t,e){var n=s.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):ke(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Tr("universalLinks.subscribe",s))throw yc("cordova-universal-links-plugin-fix is not installed");if(void 0===Tr("BuildInfo.packageName",s))throw yc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Tr("cordova.plugins.browsertab.openUrl",s))throw yc("cordova-plugin-browsertab is not installed");if("function"!=typeof Tr("cordova.InAppBrowser.open",s))throw yc("cordova-plugin-inappbrowser is not installed")},function(){throw new I("cordova-not-ready")})},t.Pb=function(t,e){return e(new I("operation-not-supported-in-this-environment")),Ae()},t.Nb=function(){return ke(new I("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return ke(new I("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ae().then(function(){return jo(e),_c(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Uo(e,r,null,o,new I("no-auth-event"),null,i),u=Tr("BuildInfo.packageName",s);if("string"!=typeof u)throw new I("invalid-cordova-configuration");var c=Tr("BuildInfo.displayName",s),l={};if(Er().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Er().toLowerCase().match(/android/))return ke(new I("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new gc;dc(e,t),t=[];var n=8*e.g;dc(e,hc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(fc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return W(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=pu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(ic,a.w(),e)}).then(function(){var e=Tr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new I("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Tr("cordova.plugins.browsertab.openUrl",s)))throw new I("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Tr("cordova.InAppBrowser.open",s)))throw new I("invalid-cordova-configuration");e=Er(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new be(function(t,e){u=function(){var e=Tr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){Vr()&&c()},o.addEventListener("resume",c=function(){a||(a=In(2e3).then(function(){e(new I("redirect-cancelled-by-user"))}))},!1),Er().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return wc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Ta(u),i.c=null})},t.Ea=function(t){this.b.push(t),_c(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Uo("unknown",null,null,null,new I("no-auth-event")),t(e))})},t.Ta=function(t){Y(this.b,function(e){return e==t})};var Sc={name:"pendingRedirect",F:"session"};function xc(t){return tc(t.b,Sc,t.a)}function Ic(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=_(this.s,this),this.b=new qc,this.C=new Wc,this.g=new Cc(jc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ac(this.D,this.v,this.m,k,this.J)}function Ac(t,e,n,r,i){var o=Ap.default.SDK_VERSION||null;return yr()?new vc(t,e,n,o,r,i):new lu(t,e,n,o,r,i)}function kc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Ec(t){t.a.Yb()&&kc(t).o(function(e){var n=new Uo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)}),t.a.Ub()||Bc(t.b)}function Tc(t,e){K(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Sc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?xc(t.g).then(function(){kc(t).o(function(e){var n=new Uo("unknown",null,null,null,new I("operation-not-supported-in-this-environment"));Dc(e)&&t.s(n)})}):Ec(t)}).o(function(){Ec(t)})}function Pc(t,e){Y(t.h,function(t){return t==e})}Ic.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Ac(this.D,this.v,this.m,null,this.J),this.i={}},Ic.prototype.s=function(t){if(!t)throw new I("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Bc(this.b),e};var Nc=new Br(2e3,1e4),Oc=new Br(3e4,6e4);function Lc(t,e,n,r,i,o,s){return t.a.Nb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Dc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Mc(t,e,n,r,i){var o;return function(t){return t.b.set(Sc,"pending",t.a)}(t.g).then(function(){return t.a.Ob(e,n,r,i).o(function(e){if(Dc(e))throw new I("operation-not-supported-in-this-environment");return o=e,xc(t.g).then(function(){throw o})}).then(function(){return t.a.ac()?new be(function(){}):xc(t.g).then(function(){return t.ra()}).then(function(){}).o(function(){})})})}function Rc(t,e,n,r,i){return t.a.Pb(r,function(t){e.na(n,null,t,i)},Nc.get())}Ic.prototype.ra=function(){return this.b.ra()};var Fc={};function jc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Uc(t,e,n,r){var i=jc(e,n,r);return Fc[i]||(Fc[i]=new Ic(t,e,n,r)),Fc[i]}function qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Bc(t){t.g||(t.g=!0,zc(t,!1,null,null))}function Vc(t){t.g&&!t.i&&zc(t,!1,null,null)}function Hc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Hc(t,n):Hc(t,{user:null}),t.f=[],t.c=[]}function Wc(){}function Gc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function Kc(t,e){this.a=e,Yr(this,"verificationId",t)}function $c(t,e,n,r){return new Mo(t).gb(e,n).then(function(t){return new Kc(t,r)})}function Yc(t){var e=Hi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new I("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:Hr(1e3*e.exp),authTime:Hr(1e3*e.auth_time),issuedAtTime:Hr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Qc(t,e,n){var r=e&&e[Jc];if(!r)throw new I("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=pt(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;H(e[Xc]||[],function(t){(t=ti(t))&&i.b.push(t)}),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},qc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(zc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){zc(t,a,e,null)}).o(function(e){zc(t,a,null,e)})}(this,t,e):ke(new I("invalid-auth-event")):(zc(this,!1,null,null),Ae())}else ke(new I("invalid-auth-event"))},qc.prototype.ra=function(){var t=this;return new be(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new I("timeout");t.a&&t.a.cancel(),t.a=In(Oc.get()).then(function(){t.b||(t.g=!0,zc(t,!0,null,e))})}(t))})},Wc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):ke(new I("invalid-auth-event"))}else ke(new I("invalid-auth-event"))},Kc.prototype.confirm=function(t){return t=Ro(this.verificationId,t),this.a(t)};var Xc="mfaInfo",Jc="mfaPendingCredential";function Zc(t,e,n,r){I.call(this,"multi-factor-auth-required",r,e),this.b=new Qc(t,e,n),Yr(this,"resolver",this.b)}function tl(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Zc(e,t.serverResponse,n,t.message)}catch(r){}return null}function el(){}function nl(t){Yr(this,"factorId",t.fa),this.a=t}function rl(t){if(nl.call(this,t),this.a.fa!=Mo.PROVIDER_ID)throw new I("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function il(t,e){for(var n in Ye.call(this,t),e)this[n]=e[n]}function ol(t,e){this.a=t,this.b=[],this.c=_(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),sl(this,n)}function sl(t,e){t.b=e,Yr(t,"enrolledFactors",e)}function al(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ul(t,e){t.stop(),t.b=In(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=s.document,e=null;return Vr()||!t?Ae():new be(function(n){e=function(){Vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){ul(t,!0)}).o(function(e){t.i(e)&&ul(t,!1)})}function cl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ll(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function hl(t,e){t.b=Vi(e[Ys]||""),t.a=e.refreshToken,ll(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function fl(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:Hr(e||null),creationTime:Hr(t||null)})}function dl(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function pl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var r=Ap.default.SDK_VERSION?kr(Ap.default.SDK_VERSION):null;this.a=new Ks(this.l,N(k),r),(this.u=t.emulatorConfig||null)&&ea(this.a,this.u),this.h=new cl(this.a),Sl(this,e[Ys]),hl(this.h,e),Yr(this,"refreshToken",this.h.a),Al(this,n||{}),_n.call(this),this.P=!1,this.s&&Nr()&&(this.b=Uc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new al(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0})}(this),this.ba=_(this.ib,this);var i=this;this.za=null,this.Pa=function(t){i.xa(t.h)},this.qa=null,this.Ba=function(t){gl(i,t.c)},this.$=null,this.aa=[],this.Oa=function(t){yl(i,t.f)},this.ja=null,this.S=new ol(this,n),Yr(this,"multiFactor",this.S)}function gl(t,e){t.u=e,ea(t.a,e),t.b&&(e=t.b,t.b=Uc(t.s,t.l,t.m,t.u),t.P&&(Pc(e,t),Tc(t.b,t)))}function ml(t,e){t.qa&&hn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&un(e,"languageCodeChanged",t.Pa)}function vl(t,e){t.$&&hn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&un(e,"emulatorConfigChanged",t.Ba)}function yl(t,e){t.aa=e,ra(t.a,Ap.default.SDK_VERSION?kr(Ap.default.SDK_VERSION,t.aa):null)}function bl(t,e){t.ja&&hn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&un(e,"frameworkChanged",t.Oa)}function _l(t){try{return Ap.default.app(t.m).auth()}catch(e){throw new I("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function wl(t){t.J||t.D.b||(t.D.start(),hn(t,"tokenChanged",t.ba),un(t,"tokenChanged",t.ba))}function Cl(t){hn(t,"tokenChanged",t.ba),t.D.stop()}function Sl(t,e){t.Aa=e,Yr(t,"_lat",e)}function xl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return Te(e).then(function(){return t})}function Il(t){t.b&&!t.P&&(t.P=!0,Tc(t.b,t))}function Al(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new fl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function kl(){}function El(t){return Ae().then(function(){if(t.J)throw new I("app-deleted")})}function Tl(t){return W(t.providerData,function(t){return t.providerId})}function Pl(t,e){e&&(Nl(t,e.providerId),t.providerData.push(e))}function Nl(t,e){Y(t.providerData,function(t){return t.providerId==e})}function Ol(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yr(t,e,n)}function Ll(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Yr(t,"metadata",e.metadata?function(t){return new fl(t.a,t.b)}(e.metadata):new fl),H(e.providerData,function(e){Pl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Yr(t,"refreshToken",t.h.a),sl(t.S,e.S.b))}function Dl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Za(t.a,Pa,{idToken:e}).then(_(t.Kc,t))}(t,e).then(function(){return n||Ol(t,"isAnonymous",!1),e})})}function Ml(t,e){e[Ys]&&t.Aa!=e[Ys]&&(hl(t.h,e),t.dispatchEvent(new il("tokenChanged")),Sl(t,e[Ys]),Ol(t,"refreshToken",t.h.a))}function Rl(t,e){return Dl(t).then(function(){if(K(Tl(t),e))return xl(t).then(function(){throw new I("provider-already-linked")})})}function Fl(t,e,n){return Xr({user:t,credential:Fo(e),additionalUserInfo:e=$i(e),operationType:n})}function jl(t,e){return Ml(t,e),t.reload().then(function(){return t})}function Ul(t,e,n,r,i){if(!Nr())return ke(new I("operation-not-supported-in-this-environment"));if(t.i&&!i)return ke(t.i);var o=Ki(n.providerId),s=jr(t.uid+":::"),a=null;(!Dr()||br())&&t.s&&n.isOAuthProvider&&(a=pu(t.s,t.l,t.m,e,n,null,s,Ap.default.SDK_VERSION||null,null,null,t.tenantId,t.u));var u=pr(a,o&&o.va,o&&o.ua);return r=r().then(function(){if(Bl(t),!i)return t.I().then(function(){})}).then(function(){return Lc(t.b,u,e,n,s,!!a,t.tenantId)}).then(function(){return new be(function(n,r){t.na(e,null,new I("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Rc(t.b,t,e,u,s)})}).then(function(t){return u&&dr(u),t?Xr(t):null}).o(function(t){throw u&&dr(u),t}),Vl(t,r,i)}function ql(t,e,n,r,i){if(!Nr())return ke(new I("operation-not-supported-in-this-environment"));if(t.i&&!i)return ke(t.i);var o=null,s=jr(t.uid+":::");return r=r().then(function(){if(Bl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,xl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Wl,t.w(),e.a)),e}).then(function(){return Mc(t.b,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Gl(t.ha);throw o}).then(function(){if(o)throw o}),Vl(t,r,i)}function Bl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new I("internal-error");throw new I("auth-domain-config-required")}}function Vl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),ke(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new il("userInvalidated")),t.i=e),e})}(t,e,n);return t.N.push(r),r.oa(function(){$(t.N,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),_l(t),_(t.jc,t))),n||e})}function Hl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ys]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new pl(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&Pl(i,Xr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function zl(t){this.a=t,this.b=Xu()}Qc.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then(function(t){var n=pt(e.f);return delete n[Xc],delete n[Jc],mt(n,t),e.g(n)})},S(Zc,I),el.prototype.tb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),mt(n,{phoneVerificationInfo:Do(t.a)}),Za(e,Ea,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Do(t.a)}),Za(e,Ta,n)})}(this,t,e)},S(nl,el),S(rl,nl),S(il,Ye),(t=ol.prototype).yc=function(t){sl(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=ti(t))&&e.push(t)}),e}(t.hd))},t.Sb=function(){return this.a.I().then(function(t){return new io(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then(function(n){return t.tb(r,n,e)}).then(function(t){return Ml(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return Za(r,Ja,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=z(e.b,function(t){return t.uid!=n});return sl(e,r),Ml(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:W(this.b,function(t){return t.w()})}}},al.prototype.start=function(){this.a=this.c,ul(this,!0)},al.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},cl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},cl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new I("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new be(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ia(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(eu(t)):t.access_token&&t.refresh_token?n(t):r(new I("internal-error")):r(new I("network-request-failed"))},"POST",Qn(e).toString(),t.g,t.m.get()):r(new I("internal-error"))})}(t.f,e).then(function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,ll(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(pl,_n),pl.prototype.xa=function(t){this.za=t,ta(this.a,t)},pl.prototype.la=function(){return this.za},pl.prototype.Ga=function(){return X(this.aa)},pl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Yr(pl.prototype,"providerId","firebase"),(t=pl.prototype).reload=function(){var t=this;return Vl(this,El(this).then(function(){return Dl(t).then(function(){return xl(t)}).then(kl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Yc(t)})},t.I=function(t){var e=this;return Vl(this,El(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new I("internal-error");return t.accessToken!=e.Aa&&(Sl(e,t.accessToken),e.dispatchEvent(new il("tokenChanged"))),Ol(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new I("internal-error");Al(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,function(t){return new dl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Pl(this,e[n]);Ol(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new il("userReloaded",{hd:t}))},t.Lc=function(t){return Kr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Vl(this,t.c(this.a,this.uid).then(function(t){return Ml(e,t),n=Fl(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Kr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Vl(this,Rl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Fl(e,t,"link"),jl(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Vl(this,Rl(this,"phone").then(function(){return $c(_l(n),t,e,_(n.rb,n))}))},t.Mc=function(t,e){var n=this;return Vl(this,Ae().then(function(){return $c(_l(n),t,e,_(n.ub,n))}),!0)},t.Cb=function(t){var e=this;return Vl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Ml(e,t),e.reload()}))},t.ed=function(t){var e=this;return Vl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Ml(e,t),e.reload()}))},t.Db=function(t){var e=this;return Vl(this,this.I().then(function(n){return e.a.Db(n,t)}).then(function(t){return Ml(e,t),e.reload()}))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return El(this);var e=this;return Vl(this,this.I().then(function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ml(e,t),Ol(e,"displayName",t.displayName||null),Ol(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&(Yr(t,"displayName",e.displayName),Yr(t,"photoURL",e.photoURL))}),xl(e)}).then(kl))},t.cd=function(t){var e=this;return Vl(this,Dl(this).then(function(n){return K(Tl(e),t)?function(t,e,n){return Za(t,Ia,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(Tl(e),function(t){n[t]||Nl(e,t)}),n[Mo.PROVIDER_ID]||Yr(e,"phoneNumber",null),xl(e)}):xl(e).then(function(){throw new I("no-such-provider")})}))},t.delete=function(){var t=this;return Vl(this,this.I().then(function(e){return Za(t.a,xa,{idToken:e})}).then(function(){t.dispatchEvent(new il("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ml(t,null),vl(t,null),bl(t,null),t.N=[],t.J=!0,Cl(t),Yr(t,"refreshToken",null),t.b&&Pc(t.b,t)})},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?_(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?_(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?_(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?_(this.Mb,this):null},t.Ec=function(t){var e=this;return Ul(this,"linkViaPopup",t,function(){return Rl(e,t.providerId).then(function(){return xl(e)})},!1)},t.Nc=function(t){return Ul(this,"reauthViaPopup",t,function(){return Ae()},!0)},t.Fc=function(t){var e=this;return ql(this,"linkViaRedirect",t,function(){return Rl(e,t.providerId)},!1)},t.Oc=function(t){return ql(this,"reauthViaRedirect",t,function(){return Ae()},!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vl(this,this.I().then(function(n){return va(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Fl(i,t,"link"),jl(i,t)}).then(function(){return o}))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vl(this,Ae().then(function(){return uo(ya(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Fl(i,t,"reauthenticate"),Ml(i,t),i.i=null,i.reload()}).then(function(){return o}),!0)},t.vb=function(t){var e=this,n=null;return Vl(this,this.I().then(function(e){return n=e,void 0===t||dt(t)?{}:Ui(new Ti(t))}).then(function(t){return e.a.vb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Fb=function(t,e){var n=this,r=null;return Vl(this,this.I().then(function(t){return r=t,void 0===e||dt(e)?{}:Ui(new Ti(e))}).then(function(e){return n.a.Fb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Vl(this,t=uo(Ae(t),n.uid).then(function(t){return e=Fl(n,t,"reauthenticate"),Ml(n,t),n.i=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),mt(t,this.S.w()),t};var Wl={name:"redirectUser",F:"session"};function Gl(t){return tc(t.b,Wl,t.a)}function Kl(t){this.a=t,this.b=Xu(),this.c=null,this.f=function(t){var e=Ql("local"),n=Ql("session"),r=Ql("none");return function(t,e,n){var r=Zu(e,n),i=Ju(t,e.F);return t.get(e,n).then(function(o){var a=null;try{a=Fr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Yl,t.a).then(function(t){return t?Ql(t):e})})})}).then(function(e){return t.c=e,$l(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Ql("local"),this.a,_(this.g,this))}function $l(t,e){var n,r=[];for(n in Yu)Yu[n]!==e&&r.push(tc(t.b,Ql(Yu[n]),t.a));return r.push(tc(t.b,Yl,t.a)),function(t){return new be(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ee(t[a],w(o,a),s);else e(i)})}(r)}Kl.prototype.g=function(){var t=this,e=Ql("local");th(this,function(){return Ae().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return $l(t,"local").then(function(){t.c=e})})})};var Yl={name:"persistence",F:"session"};function Ql(t){return{name:"authUser",F:t}}function Xl(t,e){return th(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Jl(t){return th(t,function(){return tc(t.b,t.c,t.a)})}function Zl(t,e,n){return th(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Hl(t||{})})})}function th(t,e){return t.f=t.f.then(e,e),t.f}function eh(t){if(this.l=!1,Yr(this,"settings",new Gc),Yr(this,"app",t),!ch(this).options||!ch(this).options.apiKey)throw new I("invalid-api-key");t=Ap.default.SDK_VERSION?kr(Ap.default.SDK_VERSION):null,this.a=new Ks(ch(this).options&&ch(this).options.apiKey,N(k),t),this.P=[],this.s=[],this.N=[],this.Pa=Ap.default.INTERNAL.createSubscribe(_(this.zc,this)),this.W=void 0,this.ib=Ap.default.INTERNAL.createSubscribe(_(this.Ac,this)),ah(this,null),this.i=new Kl(ch(this).options.apiKey+":"+ch(this).name),this.D=new zl(ch(this).options.apiKey+":"+ch(this).name),this.$=dh(this,function(t){var e=ch(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Wl,t.a).then(function(t){return t&&e&&(t.authDomain=e),Hl(t||{})})}(t.D,ch(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Gl(t.D)});return dh(t,e)}(t).then(function(){return Zl(t.i,e,t.R)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Xl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Jl(t.i)})):null}).then(function(e){ah(t,e||null)});return dh(t,n)}(this)),this.h=dh(this,function(t){return t.$.then(function(){return sh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Ql("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=_(this.Zc,this),this.Ba=_(this.da,this),this.qa=_(this.mc,this),this.za=_(this.wc,this),this.Aa=_(this.xc,this),this.b=null,function(t){var e=ch(t).options.authDomain,n=ch(t).options.apiKey;e&&Nr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Uc(e,n,ch(t).name,t.R),Tc(t.b,t),lh(t)&&Il(lh(t)),t.m){Il(t.m);var r=t.m;r.xa(t.la()),ml(r,t),yl(r=t.m,t.J),bl(r,t),gl(r=t.m,t.R),vl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=_(this.delete,this),this.INTERNAL.logFramework=_(this.Gc,this),this.u=0,_n.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=jn(this.R.url);t=Xr({protocol:t.c,host:t.a,port:t.g,options:Xr({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function nh(t){Ye.call(this,"languageCodeChanged"),this.h=t}function rh(t){Ye.call(this,"emulatorConfigChanged"),this.c=t}function ih(t){Ye.call(this,"frameworkChanged"),this.f=t}function oh(t){return t.Oa||ke(new I("auth-domain-config-required"))}function sh(t){if(!Nr())return ke(new I("operation-not-supported-in-this-environment"));var e=oh(t).then(function(){return t.b.ra()}).then(function(t){return t?Xr(t):null});return dh(t,e)}function ah(t,e){lh(t)&&(function(t,e){Y(t.W,function(t){return t==e})}(lh(t),t.Ba),hn(lh(t),"tokenChanged",t.qa),hn(lh(t),"userDeleted",t.za),hn(lh(t),"userInvalidated",t.Aa),Cl(lh(t))),e&&(e.W.push(t.Ba),un(e,"tokenChanged",t.qa),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&wl(e)),Yr(t,"currentUser",e),e&&(e.xa(t.la()),ml(e,t),yl(e,t.J),bl(e,t),gl(e,t.R),vl(e,t))}function uh(t,e){var n=null,r=null;return dh(t,e.then(function(e){return n=Fo(e),r=$i(e),function(t,e){var n={};return n.apiKey=ch(t).options.apiKey,n.authDomain=ch(t).options.authDomain,n.appName=ch(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then(function(){return function(t,e,n,r){var i=new pl(t,e);return n&&(i.ha=n),r&&yl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Ll(lh(t),e),t.da(e)):(ah(t,e),Il(e),t.da(e))}).then(function(){fh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),t,_(t.kc,t))),n||e}).then(function(){return Xr({user:lh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function ch(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function fh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](hh(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](hh(t))}}function dh(t,e){return t.P.push(e),e.oa(function(){$(t.P,e)}),e}function ph(){}function gh(){this.a={},this.b=1e12}Kl.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new I("invalid-persistence-type"),n=new I("unsupported-persistence-type");t:{for(r in Yu)if(Yu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Eu()&&"none"!==t)throw n;break;default:if(!Pr()&&"none"!==t)throw n}}(t),th(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,$l(n,t)}).then(function(){if(n.c=Ql(t),e)return n.b.set(n.c,e,n.a)}):Ae()})},S(eh,_n),S(nh,Ye),S(rh,Ye),S(ih,Ye),(t=eh.prototype).yb=function(t){return dh(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,ta(this.a,this.aa),this.dispatchEvent(new nh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new I("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&vr().then(function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,ea(this.a,this.R),this.dispatchEvent(new rh(this.R))}},t.Gc=function(t){this.J.push(t),ra(this.a,Ap.default.SDK_VERSION?kr(Ap.default.SDK_VERSION,this.J):null),this.dispatchEvent(new ih(this.J))},t.Ga=function(){return X(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:ch(this).options.apiKey,authDomain:ch(this).options.authDomain,appName:ch(this).name,currentUser:lh(this)&&lh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?_(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return uh(i,ma(i.a,o))})},t.Xc=function(t){if(!Nr())return ke(new I("operation-not-supported-in-this-environment"));var e=this,n=Ki(t.providerId),r=jr(),i=null;(!Dr()||br())&&ch(this).options.authDomain&&t.isOAuthProvider&&(i=pu(ch(this).options.authDomain,ch(this).options.apiKey,ch(this).name,"signInViaPopup",t,null,r,Ap.default.SDK_VERSION||null,null,null,this.T(),this.R));var o=pr(i,n&&n.va,n&&n.ua);return dh(this,n=oh(this).then(function(n){return Lc(n,o,"signInViaPopup",t,r,!!i,e.T())}).then(function(){return new be(function(t,n){e.na("signInViaPopup",null,new I("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=r,e.c=Rc(e.b,e,"signInViaPopup",o,r)})}).then(function(t){return o&&dr(o),t?Xr(t):null}).o(function(t){throw o&&dr(o),t}))},t.Yc=function(t){if(!Nr())return ke(new I("operation-not-supported-in-this-environment"));var e=this;return dh(this,oh(this).then(function(){return function(t){return th(t,function(){return t.b.set(Yl,t.c.F,t.a)})}(e.i)}).then(function(){return Mc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.ra=function(){var t=this;return sh(this).then(function(e){return t.b&&Vc(t.b.b),e}).o(function(e){throw t.b&&Vc(t.b.b),e})},t.dd=function(t){if(!t)return ke(new I("null-user"));if(this.S!=t.tenantId)return ke(new I("tenant-id-mismatch"));var e=this,n={};n.apiKey=ch(this).options.apiKey,n.authDomain=ch(this).options.authDomain,n.appName=ch(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[Ys]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new pl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&yl(e,r),Ll(e,t),e}(t,n,e.D,e.Ga());return dh(this,this.h.then(function(){if(ch(e).options.apiKey!=t.l)return r.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Ll(lh(e),t),e.da(t)):(ah(e,r),Il(r),e.da(r))}).then(function(){fh(e)}))},t.Bb=function(){var t=this;return dh(this,this.h.then(function(){return t.b&&Vc(t.b.b),lh(t)?(ah(t,null),Jl(t.i).then(function(){fh(t)})):Ae()}))},t.Zc=function(){var t=this;return Zl(this.i,ch(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=lh(t)&&e){n=lh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Ll(lh(t),e),lh(t).I();(lh(t)||e)&&(ah(t,e),e&&(Il(e),e.ha=t.D),t.b&&Tc(t.b,t),fh(t))}})},t.da=function(t){return Xl(this.i,t)},t.mc=function(){fh(this),this.da(lh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then(function(){return uh(e,Ae(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),dh(t,t.h.then(function(){!t.l&&K(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(hh(t)))}))}(this,function(){t.next(lh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.ib(t,e,n)},t.nc=function(t){var e=this;return dh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return uh(e,Za(e.a,Ka,{token:t}))}).then(function(t){var n=t.user;return Ol(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return uh(n,Za(n.a,$a,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return uh(n,Za(n.a,Ca,{email:t,password:e}))})},t.ab=function(t){var e=this;return this.h.then(function(){return uh(e,t.ka(e.a))})},t.Sc=function(t){return Kr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Xr({providerId:null,isNewUser:!1});return Xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(t,t.a.Ab()).then(function(e){var n=e.user;return Ol(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&lh(this)&&wl(lh(this))},t.Pc=function(t){var e=this;H(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&Cl(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),dh(this,this.h.then(function(){e.l||K(e.s,t)&&t(hh(e))}))},t.removeAuthTokenListener=function(t){Y(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Ql("local"),t.a,this.ja),this.b&&(Pc(this.b,this),Vc(this.b.b)),Promise.resolve()},t.hc=function(t){return dh(this,function(t,e){return Za(t,Sa,{identifier:e,continueUri:Or()?cr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!No(t)},t.xb=function(t,e){var n=this;return dh(this,Ae().then(function(){var t=new Ti(e);if(!t.c)throw new I("argument-error",Oi+" must be true when sending sign in link to email");return Ui(t)}).then(function(e){return n.a.xb(t,e)}).then(function(){}))},t.jd=function(t){return this.Sa(t).then(function(t){return t.data.email})},t.ob=function(t,e){return dh(this,this.a.ob(t,e).then(function(){}))},t.Sa=function(t){return dh(this,this.a.Sa(t).then(function(t){return new si(t)}))},t.kb=function(t){return dh(this,this.a.kb(t).then(function(){}))},t.wb=function(t,e){var n=this;return dh(this,Ae().then(function(){return void 0===e||dt(e)?{}:Ui(new Ti(e))}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.Wc=function(t,e){return dh(this,$c(this,t,e,_(this.ab,this)))},t.Vc=function(t,e){var n=this;return dh(this,Ae().then(function(){var r=e||cr(),i=Po(t,r);if(!(r=No(r)))throw new I("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new I("tenant-id-mismatch");return n.ab(i)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var mh=null;function vh(t,e){return(e=yh(e))&&t.a[e]||null}function yh(t){return(t=void 0===t?1e12:t)?t.toString():null}function bh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ae(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function _h(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function wh(){}function Ch(){}gh.prototype.render=function(t,e){return this.a[this.b.toString()]=new bh(t,e),this.b++},gh.prototype.reset=function(t){var e=vh(this,t);t=yh(t),e&&t&&(e.delete(),delete this.a[t])},gh.prototype.getResponse=function(t){return(t=vh(this,t))?t.getResponse():null},gh.prototype.execute=function(t){(t=vh(this,t))&&t.execute()},bh.prototype.getResponse=function(){return _h(this),this.b},bh.prototype.execute=function(){_h(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},bh.prototype.delete=function(){_h(this),this.g=!0,clearTimeout(this.a),this.a=null,hn(this.f,"click",this.i)},Yr(wh,"FACTOR_ID","phone"),Ch.prototype.g=function(){return mh||(mh=new gh),Ae(mh)},Ch.prototype.c=function(){};var Sh=null;function xh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ih=new yt(Ct,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ah=new Br(3e4,6e4);xh.prototype.g=function(t){var e=this;return new be(function(n,r){var i=setTimeout(function(){r(new I("network-request-failed"))},Ah.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new I("internal-error"));delete s[e.a]},Ae(qs(At(Ih,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new I("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},xh.prototype.c=function(){this.b--};var kh=null;function Eh(t,e,n,r,i,o,a){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(Sh||(Sh=new Ch),a=Sh):(kh||(kh=new xh),a=kh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Nh])throw new I("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Oh],!s.document)throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ae(e)||!this.i&&ae(e).hasChildNodes())throw new I("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ks(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Th];this.a[Th]=function(t){if(Lh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Tr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Ph];this.a[Ph]=function(){if(Lh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Tr(l,s);"function"==typeof t&&t()}}}var Th="callback",Ph="expired-callback",Nh="sitekey",Oh="size";function Lh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Dh(t,e){return t.h.push(e),e.oa(function(){$(t.h,e)}),e}function Mh(t){if(t.J)throw new I("internal-error","RecaptchaVerifier instance has been destroyed.")}function Rh(t,e,n){var r=!1;try{this.b=n||Ap.default.app()}catch(s){throw new I("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new I("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=Ap.default.SDK_VERSION?kr(Ap.default.SDK_VERSION,o):null,Eh.call(this,n,t,e,function(){try{var t=i.b.auth().la()}catch(e){t=null}return t},o,N(k),r)}function Fh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new I("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=jh.length)throw new I("internal-error","Argument validator received an unsupported number of arguments.");n=jh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new I("argument-error",t+" failed: "+r)}(t=Eh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Dh(this,Ae().then(function(){if(Or()&&!_r())return vr();throw new I("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Za(t.s,Ra,{})}).then(function(e){t.a[Nh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Mh(this);var t=this;return Dh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ae(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!se&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};mt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=de(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Mh(this);var t=this;return Dh(this,this.render().then(function(e){return new be(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Mh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Mh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ae(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Rh,Eh);var jh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Uh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function qh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Bh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:p}}function Vh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Hh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function zh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Wh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Gh(t){return p(t)&&"string"==typeof t.uid}function Kh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function $h(t,e){for(var n in e){var r=e[n].name;t[r]=Xh(r,t[n],e[n].j)}}function Yh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:w(function(t){return this[t]},n),set:w(function(t,e,n,r){Fh(t,[n],[r],!0),this[e]=r},r,n,e[n].lb),enumerable:!0})}}function Qh(t,e,n,r){t[e]=Xh(e,n,r)}function Xh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Fh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}$h(eh.prototype,{kb:{name:"applyActionCode",j:[Uh("code")]},Sa:{name:"checkActionCode",j:[Uh("code")]},ob:{name:"confirmPasswordReset",j:[Uh("code"),Uh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Uh("email"),Uh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Uh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Uh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Kh(Bh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Kh(Bh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Uh("email"),Kh(Bh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Uh("email"),Bh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Uh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[zh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[zh()]},Tc:{name:"signInWithCustomToken",j:[Uh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Uh("email"),Uh("password")]},Vc:{name:"signInWithEmailLink",j:[Uh("email"),Uh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Kh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof pl)}},Hh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Uh("url"),Bh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Uh("code")]}}),Yh(eh.prototype,{lc:{name:"languageCode",lb:Kh(Uh(),Hh(),"languageCode")},ti:{name:"tenantId",lb:Kh(Uh(),Hh(),"tenantId")}}),(eh.Persistence=Yu).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",$h(pl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[qh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[qh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[zh()]},rb:{name:"linkWithCredential",j:[zh()]},Dc:{name:"linkWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zh()]},ub:{name:"reauthenticateWithCredential",j:[zh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Kh(Bh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},cd:{name:"unlink",j:[Uh("provider")]},Cb:{name:"updateEmail",j:[Uh("email")]},Db:{name:"updatePassword",j:[Uh("password")]},ed:{name:"updatePhoneNumber",j:[zh("phone")]},Eb:{name:"updateProfile",j:[Bh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Uh("email"),Kh(Bh("opt_actionCodeSettings",!0),Hh(null,!0),"opt_actionCodeSettings",!0)]}}),$h(gh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),$h(be.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Yh(Gc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:qh("appVerificationDisabledForTesting")}}),$h(Kc.prototype,{confirm:{name:"confirm",j:[Uh("verificationCode")]}}),Qh(ao,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,Eo,Lo,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Kh(Uh(),Bh(),"json")]),Qh(To,"credential",function(t,e){return new ko(t,e)},[Uh("email"),Uh("password")]),$h(ko.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),$h(bo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(bo,"credential",_o,[Kh(Uh(),Bh(),"token")]),Qh(To,"credentialWithLink",Po,[Uh("email"),Uh("emailLink")]),$h(wo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(wo,"credential",Co,[Kh(Uh(),Bh(),"token")]),$h(So.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(So,"credential",xo,[Kh(Uh(),Kh(Bh(),Hh()),"idToken"),Kh(Uh(),Hh(),"accessToken",!0)]),$h(Io.prototype,{Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(Io,"credential",Ao,[Kh(Uh(),Bh(),"token"),Uh("secret",!0)]),$h(yo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},credential:{name:"credential",j:[Kh(Uh(),Kh(Bh(),Hh()),"optionsOrIdToken"),Kh(Uh(),Hh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),$h(fo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),$h(co.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Qh(Mo,"credential",Ro,[Uh("verificationId"),Uh("verificationCode")]),$h(Mo.prototype,{gb:{name:"verifyPhoneNumber",j:[Kh(Uh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Wh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Wh(t.session,so)&&Gh(t.multiFactorHint):t.session&&t.multiFactorUid?Wh(t.session,so)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),$h(Oo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),$h(I.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),$h(Wo.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),$h(zo.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),$h(Zc.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),$h(Qc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),$h(ol.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Uh("displayName",!0)]},bd:{name:"unenroll",j:[Kh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Gh},Uh(),"multiFactorInfoIdentifier")]}}),$h(Rh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qh(_i,"parseLink",Ei,[Uh("link")]),Qh(wh,"assertion",function(t){return new rl(t)},[zh("phone")]),function(){if(void 0===Ap.default||!Ap.default.INTERNAL||!Ap.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:ao,Error:I};Qh(t,"EmailAuthProvider",To,[]),Qh(t,"FacebookAuthProvider",bo,[]),Qh(t,"GithubAuthProvider",wo,[]),Qh(t,"GoogleAuthProvider",So,[]),Qh(t,"TwitterAuthProvider",Io,[]),Qh(t,"OAuthProvider",yo,[Uh("providerId")]),Qh(t,"SAMLAuthProvider",vo,[Uh("providerId")]),Qh(t,"PhoneAuthProvider",Mo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof eh)}}]),Qh(t,"RecaptchaVerifier",Rh,[Kh(Uh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Bh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof Ap.default.app.App)}}]),Qh(t,"ActionCodeURL",_i,[]),Qh(t,"PhoneMultiFactorGenerator",wh,[]),Ap.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new eh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),Ap.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:_((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:_(t.nc,t),addAuthTokenListener:_(t.cc,t),removeAuthTokenListener:_(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ap.default.registerVersion("@firebase/auth","0.16.8"),Ap.default.INTERNAL.extendNamespace({User:pl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),n(2107);var kp=n(250),Ep=n(308),Tp=function(t,e){return(Tp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Pp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Np,Op="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Lp=Lp||{},Dp=Op||self;function Mp(){}function Rp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Fp(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var jp="closure_uid_"+(1e9*Math.random()>>>0),Up=0;function qp(t,e,n){return t.call.apply(t.bind,arguments)}function Bp(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Vp(t,e,n){return(Vp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qp:Bp).apply(null,arguments)}function Hp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function zp(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Wp(){this.s=this.s,this.o=this.o}var Gp={};Wp.prototype.s=!1,Wp.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,jp)&&t[jp]||(t[jp]=++Up)}(this);delete Gp[t]}},Wp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Kp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},$p=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Yp(t){return Array.prototype.concat.apply([],arguments)}function Qp(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Xp(t){return/^[\s\xa0]*$/.test(t)}var Jp,Zp=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function tg(t,e){return-1!=t.indexOf(e)}function eg(t,e){return t<e?-1:t>e?1:0}t:{var ng=Dp.navigator;if(ng){var rg=ng.userAgent;if(rg){Jp=rg;break t}}Jp=""}function ig(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function og(t){var e={};for(var n in t)e[n]=t[n];return e}var sg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ag(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<sg.length;o++)n=sg[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ug(t){return ug[" "](t),t}ug[" "]=Mp;var cg,lg,hg=tg(Jp,"Opera"),fg=tg(Jp,"Trident")||tg(Jp,"MSIE"),dg=tg(Jp,"Edge"),pg=dg||fg,gg=tg(Jp,"Gecko")&&!(tg(Jp.toLowerCase(),"webkit")&&!tg(Jp,"Edge"))&&!(tg(Jp,"Trident")||tg(Jp,"MSIE"))&&!tg(Jp,"Edge"),mg=tg(Jp.toLowerCase(),"webkit")&&!tg(Jp,"Edge");function vg(){var t=Dp.document;return t?t.documentMode:void 0}t:{var yg="",bg=(lg=Jp,gg?/rv:([^\);]+)(\)|;)/.exec(lg):dg?/Edge\/([\d\.]+)/.exec(lg):fg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(lg):mg?/WebKit\/(\S+)/.exec(lg):hg?/(?:Version)[ \/]?(\S+)/.exec(lg):void 0);if(bg&&(yg=bg?bg[1]:""),fg){var _g=vg();if(null!=_g&&_g>parseFloat(yg)){cg=String(_g);break t}}cg=yg}var wg={};var Cg=Dp.document&&fg&&(vg()||parseInt(cg,10))||void 0,Sg=function(){if(!Dp.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Dp.addEventListener("test",Mp,e),Dp.removeEventListener("test",Mp,e)}catch(n){}return t}();function xg(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function Ig(t,e){if(xg.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(gg){t:{try{ug(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ag[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ig.Z.h.call(this)}}xg.prototype.h=function(){this.defaultPrevented=!0},zp(Ig,xg);var Ag={2:"touch",3:"pen",4:"mouse"};Ig.prototype.h=function(){Ig.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var kg="closure_listenable_"+(1e6*Math.random()|0),Eg=0;function Tg(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Eg,this.ca=this.fa=!1}function Pg(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ng(t){this.src=t,this.g={},this.h=0}function Og(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Kp(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Pg(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Lg(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Ng.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Lg(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new Tg(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Dg="closure_lm_"+(1e6*Math.random()|0),Mg={};function Rg(t,e,n,r,i){if(r&&r.once)return jg(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Rg(t,e[o],n,r,i);return null}return n=Wg(n),t&&t[kg]?t.N(e,n,Fp(r)?!!r.capture:!!r,i):Fg(t,e,n,!1,r,i)}function Fg(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Fp(i)?!!i.capture:!!i,a=Hg(t);if(a||(t[Dg]=a=new Ng(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Vg;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Sg||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Bg(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function jg(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)jg(t,e[o],n,r,i);return null}return n=Wg(n),t&&t[kg]?t.O(e,n,Fp(r)?!!r.capture:!!r,i):Fg(t,e,n,!0,r,i)}function Ug(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ug(t,e[o],n,r,i);else r=Fp(r)?!!r.capture:!!r,n=Wg(n),t&&t[kg]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Lg(o=t.g[e],n,r,i))&&(Pg(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Hg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Lg(e,n,r,i)),(n=-1<t?e[t]:null)&&qg(n))}function qg(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[kg])Og(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Bg(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hg(e))?(Og(n,t),0==n.h&&(n.src=null,e[Dg]=null)):Pg(t)}}}function Bg(t){return t in Mg?Mg[t]:Mg[t]="on"+t}function Vg(t,e){if(t.ca)t=!0;else{e=new Ig(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&qg(t),t=n.call(r,e)}return t}function Hg(t){return(t=t[Dg])instanceof Ng?t:null}var zg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wg(t){return"function"==typeof t?t:(t[zg]||(t[zg]=function(e){return t.handleEvent(e)}),t[zg])}function Gg(){Wp.call(this),this.i=new Ng(this),this.P=this,this.I=null}function Kg(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new xg(e,t);else if(e instanceof xg)e.target=e.target||t;else{var i=e;ag(e=new xg(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=$g(s,r,!0,e)&&i}if(i=$g(s=e.g=t,r,!0,e)&&i,i=$g(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=$g(s=e.g=n[o],r,!1,e)&&i}function $g(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Og(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}zp(Gg,Wp),Gg.prototype[kg]=!0,Gg.prototype.removeEventListener=function(t,e,n,r){Ug(this,t,e,n,r)},Gg.prototype.M=function(){if(Gg.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Pg(n[r]);delete e.g[t],e.h--}}this.I=null},Gg.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Gg.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Yg=Dp.JSON.stringify;function Qg(){var t=im,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Xg,Jg=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Zg.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Zg=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new tm},function(t){return t.reset()}),tm=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function em(t){Dp.setTimeout(function(){throw t},0)}function nm(t,e){Xg||function(){var t=Dp.Promise.resolve(void 0);Xg=function(){t.then(om)}}(),rm||(Xg(),rm=!0),im.add(t,e)}var rm=!1,im=new Jg;function om(){for(var t;t=Qg();){try{t.h.call(t.g)}catch(n){em(n)}var e=Zg;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}rm=!1}function sm(t,e){Gg.call(this),this.h=t||1,this.g=e||Dp,this.j=Vp(this.kb,this),this.l=Date.now()}function am(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function um(t,e,n){if("function"==typeof t)n&&(t=Vp(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Vp(t.handleEvent,t)}return 2147483647<Number(e)?-1:Dp.setTimeout(t,e||0)}function cm(t){t.g=um(function(){t.g=null,t.i&&(t.i=!1,cm(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}zp(sm,Gg),(Np=sm.prototype).da=!1,Np.S=null,Np.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kg(this,"tick"),this.da&&(am(this),this.start()))}},Np.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Np.M=function(){sm.Z.M.call(this),am(this),delete this.g};var lm=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Tp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:cm(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Dp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Wp);function hm(t){Wp.call(this),this.h=t,this.g={}}zp(hm,Wp);var fm=[];function dm(t,e,n,r){Array.isArray(n)||(n&&(fm[0]=n.toString()),n=fm);for(var i=0;i<n.length;i++){var o=Rg(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function pm(t){ig(t.g,function(t,e){this.g.hasOwnProperty(e)&&qg(t)},t),t.g={}}function gm(){this.g=!0}function mm(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Yg(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}hm.prototype.M=function(){hm.Z.M.call(this),pm(this)},hm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gm.prototype.Aa=function(){this.g=!1},gm.prototype.info=function(){};var vm={},ym=null;function bm(){return ym=ym||new Gg}function _m(t){xg.call(this,vm.Ma,t)}function wm(t){var e=bm();Kg(e,new _m(e,t))}function Cm(t,e){xg.call(this,vm.STAT_EVENT,t),this.stat=e}function Sm(t){var e=bm();Kg(e,new Cm(e,t))}function xm(t,e){xg.call(this,vm.Na,t),this.size=e}function Im(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Dp.setTimeout(function(){t()},e)}vm.Ma="serverreachability",zp(_m,xg),vm.STAT_EVENT="statevent",zp(Cm,xg),vm.Na="timingevent",zp(xm,xg);var Am={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},km={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Em(){}function Tm(){}Em.prototype.h=null;var Pm,Nm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Om(){xg.call(this,"d")}function Lm(){xg.call(this,"c")}function Dm(){}function Mm(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new hm(this),this.P=Fm,this.W=new sm(t=pg?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Rm}function Rm(){this.i=null,this.g="",this.h=!1}zp(Om,xg),zp(Lm,xg),zp(Dm,Em),Dm.prototype.g=function(){return new XMLHttpRequest},Dm.prototype.i=function(){return{}},Pm=new Dm;var Fm=45e3,jm={},Um={};function qm(t,e,n){t.K=1,t.v=cv(rv(e)),t.s=n,t.U=!0,Bm(t,null)}function Bm(t,e){t.F=Date.now(),Wm(t),t.A=rv(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Cv(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Rm,t.g=Sy(t.l,n?e:null,!t.s),0<t.O&&(t.L=new lm(Vp(t.Ia,t,t.g),t.O)),dm(t.V,t.g,"readystatechange",t.gb),e=t.H?og(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),wm(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Vm(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Hm(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=zm(t,n))==Um){4==e&&(t.o=4,Sm(14),i=!1),mm(t.j,t.m,null,"[Incomplete Response]");break}if(r==jm){t.o=4,Sm(15),mm(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}mm(t.j,t.m,r,null),Qm(t,r)}Vm(t)&&r!=Um&&r!=jm&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Sm(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gy(e),e.L=!0,Sm(11))):(mm(t.j,t.m,n,"[Invalid Chunked Response]"),Ym(t),$m(t))}function zm(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Um:(n=Number(e.substring(n,r)),isNaN(n)?jm:(r+=1)+n>e.length?Um:(e=e.substr(r,n),t.C=r+n,e))}function Wm(t){t.Y=Date.now()+t.P,Gm(t,t.P)}function Gm(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Im(Vp(t.eb,t),e)}function Km(t){t.B&&(Dp.clearTimeout(t.B),t.B=null)}function $m(t){0==t.l.G||t.I||yy(t.l,t)}function Ym(t){Km(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,am(t.W),pm(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Qm(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Tv(n.i,t)))if(n.I=t.N,!t.J&&Tv(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;vy(n),sy(n)}py(n),Sm(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Im(Vp(n.ab,n),6e3));if(1>=Ev(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else _y(n,11)}else if((t.J||n.g==t)&&vy(n),!Xp(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(tg(l,"spdy")||tg(l,"quic")||tg(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Pv(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,uv(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=Cy(r,r.H?r.la:null,r.W),d.J){Nv(r.i,d);var p=d,g=r.K;g&&p.setTimeout(g),p.B&&(Km(p),Wm(p)),r.g=d}else dy(r);0<n.l.length&&cy(n)}else"stop"!=o[0]&&"close"!=o[0]||_y(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?_y(n,7):oy(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}wm(4)}catch(o){}}function Xm(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Rp(t)||"string"==typeof t)$p(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Rp(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Rp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Jm(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Jm)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Zm(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];tv(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)tv(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function tv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Np=Mm.prototype).setTimeout=function(t){this.P=t},Np.gb=function(t){t=t.target;var e=this.L;e&&3==ty(t)?e.l():this.Ia(t)},Np.Ia=function(t){try{if(t==this.g)t:{var e=ty(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||pg||this.g&&(this.h.h||this.g.ga()||ey(this.g)))){this.I||4!=e||7==n||wm(8==n||0>=r?3:2),Km(this);var i=this.g.ba();this.N=i;e:if(Vm(this)){var o=ey(this.g);t="";var s=o.length,a=4==ty(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ym(this),$m(this);var u="";break e}this.h.i=new Dp.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xp(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Sm(12),Ym(this),$m(this);break t}mm(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Qm(this,i)}this.U?(Hm(this,e,u),pg&&this.i&&3==e&&(dm(this.V,this.W,"tick",this.fb),this.W.start())):(mm(this.j,this.m,u,null),Qm(this,u)),4==e&&Ym(this),this.i&&!this.I&&(4==e?yy(this.l,this):(this.i=!1,Wm(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Sm(12)):(this.o=0,Sm(13)),Ym(this),$m(this)}}}catch(e){}},Np.fb=function(){if(this.g){var t=ty(this.g),e=this.g.ga();this.C<e.length&&(Km(this),Hm(this,t,e),this.i&&4!=t&&Wm(this))}},Np.cancel=function(){this.I=!0,Ym(this)},Np.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(wm(3),Sm(17)),Ym(this),this.o=2,$m(this)):Gm(this,this.Y-t)},(Np=Jm.prototype).R=function(){Zm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Np.T=function(){return Zm(this),this.g.concat()},Np.get=function(t,e){return tv(this.h,t)?this.h[t]:e},Np.set=function(t,e){tv(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Np.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ev=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function nv(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof nv){this.g=void 0!==e?e:t.g,iv(this,t.j),this.s=t.s,ov(this,t.i),sv(this,t.m),this.l=t.l,e=t.h;var n=new yv;n.i=e.i,e.g&&(n.g=new Jm(e.g),n.h=e.h),av(this,n),this.o=t.o}else t&&(n=String(t).match(ev))?(this.g=!!e,iv(this,n[1]||"",!0),this.s=lv(n[2]||""),ov(this,n[3]||"",!0),sv(this,n[4]),this.l=lv(n[5]||"",!0),av(this,n[6]||"",!0),this.o=lv(n[7]||"")):(this.g=!!e,this.h=new yv(null,this.g))}function rv(t){return new nv(t)}function iv(t,e,n){t.j=n?lv(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ov(t,e,n){t.i=n?lv(e,!0):e}function sv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function av(t,e,n){e instanceof yv?(t.h=e,function(t,e){e&&!t.j&&(bv(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(_v(this,e),Cv(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=hv(e,mv)),t.h=new yv(e,t.g))}function uv(t,e,n){t.h.set(e,n)}function cv(t){return uv(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function lv(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function hv(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,fv),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fv(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}nv.prototype.toString=function(){var t=[],e=this.j;e&&t.push(hv(e,dv,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(hv(e,dv,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(hv(n,"/"==n.charAt(0)?gv:pv,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",hv(n,vv)),t.join("")};var dv=/[#\/\?@]/g,pv=/[#\?:]/g,gv=/[#\?]/g,mv=/[#\?@]/g,vv=/#/g;function yv(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function bv(t){t.g||(t.g=new Jm,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function _v(t,e){bv(t),e=Sv(t,e),tv(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,tv((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Zm(t)))}function wv(t,e){return bv(t),e=Sv(t,e),tv(t.g.h,e)}function Cv(t,e,n){_v(t,e),0<n.length&&(t.i=null,t.g.set(Sv(t,e),Qp(n)),t.h+=n.length)}function Sv(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Np=yv.prototype).add=function(t,e){bv(this),this.i=null,t=Sv(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Np.forEach=function(t,e){bv(this),this.g.forEach(function(n,r){$p(n,function(n){t.call(e,n,r,this)},this)},this)},Np.T=function(){bv(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Np.R=function(t){bv(this);var e=[];if("string"==typeof t)wv(this,t)&&(e=Yp(e,this.g.get(Sv(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Yp(e,t[n])}return e},Np.set=function(t,e){return bv(this),this.i=null,wv(this,t=Sv(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Np.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Np.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var xv=function(){return function(t,e){this.h=t,this.g=e}}();function Iv(t){this.l=t||Av,t=Dp.PerformanceNavigationTiming?0<(t=Dp.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Dp.g&&Dp.g.Ea&&Dp.g.Ea()&&Dp.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Av=10;function kv(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Ev(t){return t.h?1:t.g?t.g.size:0}function Tv(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Pv(t,e){t.g?t.g.add(e):t.h=e}function Nv(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ov(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Pp(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Qp(t.i)}function Lv(){}function Dv(){this.g=new Lv}function Mv(t,e,n){var r=n||"";try{Xm(t,function(t,n){var i=t;Fp(t)&&(i=Yg(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(YE){throw e.push(r+"type="+encodeURIComponent("_badmap")),YE}}function Rv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Fv(t){this.l=t.$b||null,this.j=t.ib||!1}function jv(t,e){Gg.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Uv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Iv.prototype.cancel=function(){var t,e;if(this.i=Ov(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Pp(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Lv.prototype.stringify=function(t){return Dp.JSON.stringify(t,void 0)},Lv.prototype.parse=function(t){return Dp.JSON.parse(t,void 0)},zp(Fv,Em),Fv.prototype.g=function(){return new jv(this.l,this.j)},Fv.prototype.i=function(t){return function(){return t}}({}),zp(jv,Gg);var Uv=0;function qv(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Bv(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Vv(t)}function Vv(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Np=jv.prototype).open=function(t,e){if(this.readyState!=Uv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Vv(this)},Np.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Dp).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Np.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bv(this)),this.readyState=Uv},Np.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vv(this)),this.g&&(this.readyState=3,Vv(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Dp.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qv(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Np.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bv(this):Vv(this),3==this.readyState&&qv(this)}},Np.Ua=function(t){this.g&&(this.response=this.responseText=t,Bv(this))},Np.Ta=function(t){this.g&&(this.response=t,Bv(this))},Np.ha=function(){this.g&&Bv(this)},Np.setRequestHeader=function(t,e){this.v.append(t,e)},Np.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Np.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(jv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Hv=Dp.JSON.parse;function zv(t){Gg.call(this),this.headers=new Jm,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Wv,this.K=this.L=!1}zp(zv,Gg);var Wv="",Gv=/^https?$/i,Kv=["POST","PUT"];function $v(t){return"content-type"==t.toLowerCase()}function Yv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Qv(t),Jv(t)}function Qv(t){t.D||(t.D=!0,Kg(t,"complete"),Kg(t,"error"))}function Xv(t){if(t.h&&void 0!==Lp&&(!t.C[1]||4!=ty(t)||2!=t.ba()))if(t.v&&4==ty(t))um(t.Fa,0,t);else if(Kg(t,"readystatechange"),4==ty(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(ev)[1]||null;if(!o&&Dp.self&&Dp.self.location){var s=Dp.self.location.protocol;o=s.substr(0,s.length-1)}i=!Gv.test(o?o.toLowerCase():"")}e=i}if(e)Kg(t,"complete"),Kg(t,"success");else{t.m=6;try{var a=2<ty(t)?t.g.statusText:""}catch(bs){a=""}t.j=a+" ["+t.ba()+"]",Qv(t)}}finally{Jv(t)}}}function Jv(t,e){if(t.g){Zv(t);var n=t.g,r=t.C[0]?Mp:null;t.g=null,t.C=null,e||Kg(t,"ready");try{n.onreadystatechange=r}catch(YE){}}}function Zv(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Dp.clearTimeout(t.A),t.A=null)}function ty(t){return t.g?t.g.readyState:0}function ey(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Wv:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ny(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return ig(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):uv(t,e,n))}function ry(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iy(t){this.za=0,this.l=[],this.h=new gm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ry("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ry("baseRetryDelayMs",5e3,t),this.$a=ry("retryDelaySeedMs",1e4,t),this.Ya=ry("forwardChannelMaxRetries",2,t),this.ra=ry("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Iv(t&&t.concurrentRequestLimit),this.Ca=new Dv,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function oy(t){if(ay(t),3==t.G){var e=t.V++,n=rv(t.F);uv(n,"SID",t.J),uv(n,"RID",e),uv(n,"TYPE","terminate"),hy(t,n),(e=new Mm(t,t.h,e,void 0)).K=2,e.v=cv(rv(n)),n=!1,Dp.navigator&&Dp.navigator.sendBeacon&&(n=Dp.navigator.sendBeacon(e.v.toString(),"")),!n&&Dp.Image&&((new Image).src=e.v,n=!0),n||(e.g=Sy(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Wm(e)}wy(t)}function sy(t){t.g&&(gy(t),t.g.cancel(),t.g=null)}function ay(t){sy(t),t.u&&(Dp.clearTimeout(t.u),t.u=null),vy(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Dp.clearTimeout(t.m),t.m=null)}function uy(t,e){t.l.push(new xv(t.Za++,e)),3==t.G&&cy(t)}function cy(t){kv(t.i)||t.m||(t.m=!0,nm(t.Ha,t),t.C=0)}function ly(t,e){var n;n=e?e.m:t.V++;var r=rv(t.F);uv(r,"SID",t.J),uv(r,"RID",n),uv(r,"AID",t.U),hy(t,r),t.o&&t.s&&ny(r,t.o,t.s),n=new Mm(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=fy(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Pv(t.i,n),qm(n,r,e)}function hy(t,e){t.j&&Xm({},function(t,n){uv(e,n,t)})}function fy(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Vp(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),a=!1;else try{Mv(l,s,"req"+c+"_")}catch(eb){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function dy(t){t.g||t.u||(t.Y=1,nm(t.Ga,t),t.A=0)}function py(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Im(Vp(t.Ga,t),by(t,t.A)),t.A++,0))}function gy(t){null!=t.B&&(Dp.clearTimeout(t.B),t.B=null)}function my(t){t.g=new Mm(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=rv(t.oa);uv(e,"RID","rpc"),uv(e,"SID",t.J),uv(e,"CI",t.N?"0":"1"),uv(e,"AID",t.U),hy(t,e),uv(e,"TYPE","xmlhttp"),t.o&&t.s&&ny(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=cv(rv(e)),n.s=null,n.U=!0,Bm(n,t)}function vy(t){null!=t.v&&(Dp.clearTimeout(t.v),t.v=null)}function yy(t,e){var n=null;if(t.g==e){vy(t),gy(t),t.g=null;var r=2}else{if(!Tv(t.i,e))return;n=e.D,Nv(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Kg(r=bm(),new xm(r,n,e,i)),cy(t)}else dy(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ev(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Im(Vp(t.Ha,t,e),by(t,t.C)),t.C++,0)))}(t,e)||2==r&&py(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:_y(t,5);break;case 4:_y(t,10);break;case 3:_y(t,6);break;default:_y(t,2)}}function by(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function _y(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Vp(t.jb,t);n||(n=new nv("//www.google.com/images/cleardot.gif"),Dp.location&&"http"==Dp.location.protocol||iv(n,"https"),cv(n)),function(t,e){var n=new gm;if(Dp.Image){var r=new Image;r.onload=Hp(Rv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hp(Rv,n,r,"TestLoadImage: error",!1,e),r.onabort=Hp(Rv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hp(Rv,n,r,"TestLoadImage: timeout",!1,e),Dp.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Sm(2);t.G=0,t.j&&t.j.va(e),wy(t),ay(t)}function wy(t){t.G=0,t.I=-1,t.j&&(0==Ov(t.i).length&&0==t.l.length||(t.i.i.length=0,Qp(t.l),t.l.length=0),t.j.ua())}function Cy(t,e,n){var r=function(t){return t instanceof nv?rv(t):new nv(t,void 0)}(n);if(""!=r.i)e&&ov(r,e+"."+r.i),sv(r,r.m);else{var i=Dp.location;r=function(t,e,n,r){var i=new nv(null,void 0);return t&&iv(i,t),e&&ov(i,e),n&&sv(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&ig(t.aa,function(t,e){uv(r,e,t)}),n=t.sa,(e=t.D)&&n&&uv(r,e,n),uv(r,"VER",t.ma),hy(t,r),r}function Sy(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new zv(n&&t.Ba&&!t.qa?new Fv({ib:!0}):t.qa)).L=t.H,e}function xy(){}function Iy(){if(fg&&!(10<=Number(Cg)))throw Error("Environmental error: no available transport.")}function Ay(t,e){Gg.call(this),this.g=new iy(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Xp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xp(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ty(this)}function ky(t){Om.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Ey(){Lm.call(this),this.status=1}function Ty(t){this.g=t}(Np=zv.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pm.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Pm),this.g.onreadystatechange=Vp(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Yv(this,o)}t=n||"";var i=new Jm(this.headers);r&&Xm(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=$v,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Dp.FormData&&t instanceof Dp.FormData,!(0<=Kp(Kv,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Zv(this),0<this.B&&((this.K=function(t){return fg&&function(){return t=wg,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Zp(String(cg)).split("."),n=Zp("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=eg(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||eg(0==o[2].length,0==s[2].length)||eg(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vp(this.pa,this)):this.A=um(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Yv(this,o)}},Np.pa=function(){void 0!==Lp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kg(this,"timeout"),this.abort(8))},Np.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kg(this,"complete"),Kg(this,"abort"),Jv(this))},Np.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jv(this,!0)),zv.Z.M.call(this)},Np.Fa=function(){this.s||(this.F||this.v||this.l?Xv(this):this.cb())},Np.cb=function(){Xv(this)},Np.ba=function(){try{return 2<ty(this)?this.g.status:-1}catch(lg){return-1}},Np.ga=function(){try{return this.g?this.g.responseText:""}catch(lg){return""}},Np.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Hv(e)}},Np.Da=function(){return this.m},Np.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Np=iy.prototype).ma=8,Np.G=1,Np.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Np.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Mm(this,this.h,t,void 0),n=this.s;if(this.P&&(n?ag(n=og(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=fy(this,e,r),uv(i=rv(this.F),"RID",t),uv(i,"CVER",22),this.D&&uv(i,"X-HTTP-Session-Id",this.D),hy(this,i),this.o&&n&&ny(i,this.o,n),Pv(this.i,e),this.Ra&&uv(i,"TYPE","init"),this.ja?(uv(i,"$req",r),uv(i,"SID","null"),e.$=!0,qm(e,i,null)):qm(e,i,r),this.G=2}}else 3==this.G&&(t?ly(this,t):0==this.l.length||kv(this.i)||ly(this))},Np.Ga=function(){if(this.u=null,my(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Im(Vp(this.bb,this),t)}},Np.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Sm(10),sy(this),my(this))},Np.ab=function(){null!=this.v&&(this.v=null,sy(this),py(this),Sm(19))},Np.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Sm(2)):(this.h.info("Failed to ping google.com"),Sm(1))},(Np=xy.prototype).xa=function(){},Np.wa=function(){},Np.va=function(){},Np.ua=function(){},Np.Oa=function(){},Iy.prototype.g=function(t,e){return new Ay(t,e)},zp(Ay,Gg),Ay.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),nm(Vp(t.hb,t,e))),Sm(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Cy(t,null,t.W),cy(t)},Ay.prototype.close=function(){oy(this.g)},Ay.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,uy(this.g,e)}else this.v?((e={}).__data__=Yg(t),uy(this.g,e)):uy(this.g,t)},Ay.prototype.M=function(){this.g.j=null,delete this.j,oy(this.g),delete this.g,Ay.Z.M.call(this)},zp(ky,Om),zp(Ey,Lm),zp(Ty,xy),Ty.prototype.xa=function(){Kg(this.g,"a")},Ty.prototype.wa=function(t){Kg(this.g,new ky(t))},Ty.prototype.va=function(t){Kg(this.g,new Ey(t))},Ty.prototype.ua=function(){Kg(this.g,"b")},Iy.prototype.createWebChannel=Iy.prototype.g,Ay.prototype.send=Ay.prototype.u,Ay.prototype.open=Ay.prototype.m,Ay.prototype.close=Ay.prototype.close,Am.NO_ERROR=0,Am.TIMEOUT=8,Am.HTTP_ERROR=6,km.COMPLETE="complete",Tm.EventType=Nm,Nm.OPEN="a",Nm.CLOSE="b",Nm.ERROR="c",Nm.MESSAGE="d",Gg.prototype.listen=Gg.prototype.N,zv.prototype.listenOnce=zv.prototype.O,zv.prototype.getLastError=zv.prototype.La,zv.prototype.getLastErrorCode=zv.prototype.Da,zv.prototype.getStatus=zv.prototype.ba,zv.prototype.getResponseJson=zv.prototype.Qa,zv.prototype.getResponseText=zv.prototype.ga,zv.prototype.send=zv.prototype.ea;var Py=Am,Ny=km,Oy=vm,Ly=Fv,Dy=Tm,My=zv,Ry=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ry.o=-1;var Fy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},jy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Ip.__extends)(e,t),e}(Error),Uy=new Ep.Logger("@firebase/firestore");function qy(){return Uy.logLevel}function By(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uy.logLevel<=Ep.LogLevel.DEBUG){var r=e.map(zy);Uy.debug.apply(Uy,(0,Ip.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function Vy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uy.logLevel<=Ep.LogLevel.ERROR){var r=e.map(zy);Uy.error.apply(Uy,(0,Ip.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function Hy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Uy.logLevel<=Ep.LogLevel.WARN){var r=e.map(zy);Uy.warn.apply(Uy,(0,Ip.__spreadArray)(["Firestore (8.10.1): "+t],r))}}function zy(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(YE){return t}}function Wy(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Vy(e),new Error(e)}function Gy(t,e){t||Wy()}function Ky(t,e){return t}function $y(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Yy=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=$y(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Qy(t,e){return t<e?-1:t>e?1:0}function Xy(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Jy(t){return t+"\0"}var Zy=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new jy(Fy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new jy(Fy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new jy(Fy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new jy(Fy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Qy(this.nanoseconds,t.nanoseconds):Qy(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),tb=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Zy(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function eb(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function nb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rb(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var ib=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Wy(),void 0===n?n=t.length-e:n>t.length-e&&Wy(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ob=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ip.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new jy(Fy.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ib),sb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ab=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ip.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return sb.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new jy(Fy.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new jy(Fy.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new jy(Fy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new jy(Fy.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ib),ub=function(){function t(t){this.fields=t,t.sort(ab.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Xy(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),cb=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Qy(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();cb.EMPTY_BYTE_STRING=new cb("");var lb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hb(t){if(Gy(!!t),"string"==typeof t){var e=0,n=lb.exec(t);if(Gy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:fb(t.seconds),nanos:fb(t.nanos)}}function fb(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function db(t){return"string"==typeof t?cb.fromBase64String(t):cb.fromUint8Array(t)}function pb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gb(t){var e=t.mapValue.fields.__previous_value__;return pb(e)?gb(e):e}function mb(t){var e=hb(t.mapValue.fields.__local_write_time__.timestampValue);return new Zy(e.seconds,e.nanos)}function vb(t){return null==t}function yb(t){return 0===t&&1/t==-1/0}function bb(t){return"number"==typeof t&&Number.isInteger(t)&&!yb(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var _b=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ob.fromString(e))},t.fromName=function(e){return new t(ob.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ob.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ob.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ob(e.slice()))},t}();function wb(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pb(t)?4:10:Wy()}function Cb(t,e){var n=wb(t);if(n!==wb(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mb(t).isEqual(mb(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=hb(t.timestampValue),r=hb(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return db(t.bytesValue).isEqual(db(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return fb(t.geoPointValue.latitude)===fb(e.geoPointValue.latitude)&&fb(t.geoPointValue.longitude)===fb(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return fb(t.integerValue)===fb(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=fb(t.doubleValue),r=fb(e.doubleValue);return n===r?yb(n)===yb(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Xy(t.arrayValue.values||[],e.arrayValue.values||[],Cb);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(eb(n)!==eb(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Cb(n[i],r[i])))return!1;return!0}(t,e);default:return Wy()}}function Sb(t,e){return void 0!==(t.values||[]).find(function(t){return Cb(t,e)})}function xb(t,e){var n=wb(t),r=wb(e);if(n!==r)return Qy(n,r);switch(n){case 0:return 0;case 1:return Qy(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=fb(t.integerValue||t.doubleValue),r=fb(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ib(t.timestampValue,e.timestampValue);case 4:return Ib(mb(t),mb(e));case 5:return Qy(t.stringValue,e.stringValue);case 6:return function(t,e){var n=db(t),r=db(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Qy(n[i],r[i]);if(0!==o)return o}return Qy(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Qy(fb(t.latitude),fb(e.latitude));return 0!==n?n:Qy(fb(t.longitude),fb(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=xb(n[i],r[i]);if(o)return o}return Qy(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Qy(r[s],o[s]);if(0!==a)return a;var u=xb(n[r[s]],i[o[s]]);if(0!==u)return u}return Qy(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Wy()}}function Ib(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Qy(t,e);var n=hb(t),r=hb(e),i=Qy(n.seconds,r.seconds);return 0!==i?i:Qy(n.nanos,r.nanos)}function Ab(t){return kb(t)}function kb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=hb(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?db(t.bytesValue).toBase64():"referenceValue"in t?_b.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=kb(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+kb(t.fields[o])}return e+"}"}(t.mapValue):Wy();var e}function Eb(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Tb(t){return!!t&&"integerValue"in t}function Pb(t){return!!t&&"arrayValue"in t}function Nb(t){return!!t&&"nullValue"in t}function Ob(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lb(t){return!!t&&"mapValue"in t}function Db(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return nb(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Db(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Db(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Mb=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Lb(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Db(e)},t.prototype.setAll=function(t){var e=this,n=ab.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Db(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Lb(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Cb(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Lb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){nb(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Db(this.value))},t}();function Rb(t){var e=[];return nb(t.fields,function(t,n){var r=new ab([t]);if(Lb(n)){var i=Rb(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new ub(e)}var Fb=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,tb.min(),Mb.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Mb.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Mb.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Mb.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Mb.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),jb=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Ub(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new jb(t,e,n,r,i,o,s)}function qb(t){var e=Ky(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Ab(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),vb(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Zb(e.startAt)),e.endAt&&(n+="|ub:",n+=Zb(e.endAt)),e.h=n}return e.h}function Bb(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!e_(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Cb(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r_(t.startAt,e.startAt)&&r_(t.endAt,e.endAt)}function Vb(t){return _b.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Hb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Ip.__extends)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new zb(t,n,r):"array-contains"===n?new $b(t,r):"in"===n?new Yb(t,r):"not-in"===n?new Qb(t,r):"array-contains-any"===n?new Xb(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Wb(t,n):new Gb(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(xb(e,this.value)):null!==e&&wb(this.value)===wb(e)&&this.m(xb(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Wy()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),zb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=_b.fromName(r.referenceValue),i}return(0,Ip.__extends)(e,t),e.prototype.matches=function(t){var e=_b.comparator(t.key,this.key);return this.m(e)},e}(Hb),Wb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Kb(0,n),r}return(0,Ip.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Hb),Gb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Kb(0,n),r}return(0,Ip.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Hb);function Kb(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return _b.fromName(t.referenceValue)})}var $b=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Ip.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Pb(e)&&Sb(e.arrayValue,this.value)},e}(Hb),Yb=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Ip.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Sb(this.value.arrayValue,e)},e}(Hb),Qb=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Ip.__extends)(e,t),e.prototype.matches=function(t){if(Sb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Sb(this.value.arrayValue,e)},e}(Hb),Xb=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Ip.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Pb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Sb(e.value.arrayValue,t)})},e}(Hb),Jb=function(t,e){this.position=t,this.before=e};function Zb(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Ab(t)}).join(",")}var t_=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function e_(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function n_(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?_b.comparator(_b.fromName(s.referenceValue),n.key):xb(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function r_(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Cb(t.position[n],e.position[n]))return!1;return!0}var i_=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function o_(t,e,n,r,i,o,s,a){return new i_(t,e,n,r,i,o,s,a)}function s_(t){return new i_(t)}function a_(t){return!vb(t.limit)&&"F"===t.limitType}function u_(t){return!vb(t.limit)&&"L"===t.limitType}function c_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function l_(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function h_(t){return null!==t.collectionGroup}function f_(t){var e=Ky(t);if(null===e.p){e.p=[];var n=l_(e),r=c_(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new t_(n)),e.p.push(new t_(ab.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new t_(ab.keyField(),u))}}}return e.p}function d_(t){var e=Ky(t);if(!e.T)if("F"===e.limitType)e.T=Ub(e.path,e.collectionGroup,f_(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=f_(e);r<i.length;r++){var o=i[r];n.push(new t_(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Jb(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Jb(e.startAt.position,!e.startAt.before):null;e.T=Ub(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function p_(t,e,n){return new i_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function g_(t,e){return Bb(d_(t),d_(e))&&t.limitType===e.limitType}function m_(t){return qb(d_(t))+"|lt:"+t.limitType}function v_(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Ab(e.value);var e}).join(", ")+"]"),vb(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Zb(t.startAt)),t.endAt&&(e+=", endAt: "+Zb(t.endAt)),"Target("+e+")"}(d_(t))+"; limitType="+t.limitType+")"}function y_(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):_b.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!n_(t.startAt,f_(t),e)||t.endAt&&n_(t.endAt,f_(t),e))}(t,e)}function b_(t){return function(e,n){for(var r=!1,i=0,o=f_(t);i<o.length;i++){var s=o[i],a=__(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function __(t,e,n){var r=t.field.isKeyField()?_b.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?xb(r,i):Wy()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Wy()}}function w_(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yb(e)?"-0":e}}function C_(t){return{integerValue:""+t}}function S_(t,e){return bb(e)?C_(e):w_(t,e)}var x_=function(){this._=void 0};function I_(t,e,n){return t instanceof E_?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof T_?P_(t,e):t instanceof N_?O_(t,e):function(t,e){var n=k_(t,e),r=D_(n)+D_(t.A);return Tb(n)&&Tb(t.A)?C_(r):w_(t.R,r)}(t,e)}function A_(t,e,n){return t instanceof T_?P_(t,e):t instanceof N_?O_(t,e):n}function k_(t,e){return t instanceof L_?Tb(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var E_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ip.__extends)(e,t),e}(x_),T_=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ip.__extends)(e,t),e}(x_);function P_(t,e){for(var n=M_(e),r=function(t){n.some(function(e){return Cb(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var N_=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Ip.__extends)(e,t),e}(x_);function O_(t,e){for(var n=M_(e),r=function(t){n=n.filter(function(e){return!Cb(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var L_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Ip.__extends)(e,t),e}(x_);function D_(t){return fb(t.integerValue||t.doubleValue)}function M_(t){return Pb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var R_=function(t,e){this.field=t,this.transform=e},F_=function(t,e){this.version=t,this.transformResults=e},j_=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function U_(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var q_=function(){};function B_(t,e,n){t instanceof G_?function(t,e,n){var r=t.value.clone(),i=Y_(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof K_?function(t,e,n){if(U_(t.precondition,e)){var r=Y_(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll($_(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function V_(t,e,n){t instanceof G_?function(t,e,n){if(U_(t.precondition,e)){var r=t.value.clone(),i=Q_(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(W_(e),r).setHasLocalMutations()}}(t,e,n):t instanceof K_?function(t,e,n){if(U_(t.precondition,e)){var r=Q_(t.fieldTransforms,n,e),i=e.data;i.setAll($_(t)),i.setAll(r),e.convertToFoundDocument(W_(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){U_(t.precondition,e)&&e.convertToNoDocument(tb.min())}(t,e)}function H_(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=k_(o.transform,s||null);null!=a&&(null==n&&(n=Mb.empty()),n.set(o.field,a))}return n||null}function z_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Xy(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof T_&&e instanceof T_||t instanceof N_&&e instanceof N_?Xy(t.elements,e.elements,Cb):t instanceof L_&&e instanceof L_?Cb(t.A,e.A):t instanceof E_&&e instanceof E_}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function W_(t){return t.isFoundDocument()?t.version:tb.min()}var G_=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Ip.__extends)(e,t),e}(q_),K_=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,Ip.__extends)(e,t),e}(q_);function $_(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Y_(t,e,n){var r=new Map;Gy(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,A_(s,a,n[i]))}return r}function Q_(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,I_(a,u,e))}return r}var X_,J_,Z_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Ip.__extends)(e,t),e}(q_),tw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Ip.__extends)(e,t),e}(q_),ew=function(t){this.count=t};function nw(t){switch(t){case Fy.OK:return Wy();case Fy.CANCELLED:case Fy.UNKNOWN:case Fy.DEADLINE_EXCEEDED:case Fy.RESOURCE_EXHAUSTED:case Fy.INTERNAL:case Fy.UNAVAILABLE:case Fy.UNAUTHENTICATED:return!1;case Fy.INVALID_ARGUMENT:case Fy.NOT_FOUND:case Fy.ALREADY_EXISTS:case Fy.PERMISSION_DENIED:case Fy.FAILED_PRECONDITION:case Fy.ABORTED:case Fy.OUT_OF_RANGE:case Fy.UNIMPLEMENTED:case Fy.DATA_LOSS:return!0;default:return Wy()}}function rw(t){if(void 0===t)return Vy("GRPC error has no .code"),Fy.UNKNOWN;switch(t){case X_.OK:return Fy.OK;case X_.CANCELLED:return Fy.CANCELLED;case X_.UNKNOWN:return Fy.UNKNOWN;case X_.DEADLINE_EXCEEDED:return Fy.DEADLINE_EXCEEDED;case X_.RESOURCE_EXHAUSTED:return Fy.RESOURCE_EXHAUSTED;case X_.INTERNAL:return Fy.INTERNAL;case X_.UNAVAILABLE:return Fy.UNAVAILABLE;case X_.UNAUTHENTICATED:return Fy.UNAUTHENTICATED;case X_.INVALID_ARGUMENT:return Fy.INVALID_ARGUMENT;case X_.NOT_FOUND:return Fy.NOT_FOUND;case X_.ALREADY_EXISTS:return Fy.ALREADY_EXISTS;case X_.PERMISSION_DENIED:return Fy.PERMISSION_DENIED;case X_.FAILED_PRECONDITION:return Fy.FAILED_PRECONDITION;case X_.ABORTED:return Fy.ABORTED;case X_.OUT_OF_RANGE:return Fy.OUT_OF_RANGE;case X_.UNIMPLEMENTED:return Fy.UNIMPLEMENTED;case X_.DATA_LOSS:return Fy.DATA_LOSS;default:return Wy()}}(J_=X_||(X_={}))[J_.OK=0]="OK",J_[J_.CANCELLED=1]="CANCELLED",J_[J_.UNKNOWN=2]="UNKNOWN",J_[J_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J_[J_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J_[J_.NOT_FOUND=5]="NOT_FOUND",J_[J_.ALREADY_EXISTS=6]="ALREADY_EXISTS",J_[J_.PERMISSION_DENIED=7]="PERMISSION_DENIED",J_[J_.UNAUTHENTICATED=16]="UNAUTHENTICATED",J_[J_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J_[J_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J_[J_.ABORTED=10]="ABORTED",J_[J_.OUT_OF_RANGE=11]="OUT_OF_RANGE",J_[J_.UNIMPLEMENTED=12]="UNIMPLEMENTED",J_[J_.INTERNAL=13]="INTERNAL",J_[J_.UNAVAILABLE=14]="UNAVAILABLE",J_[J_.DATA_LOSS=15]="DATA_LOSS";var iw=function(){function t(t,e){this.comparator=t,this.root=e||sw.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sw.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sw.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new ow(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new ow(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ow(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new ow(this.root,t,this.comparator,!0)},t}(),ow=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),sw=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Wy();if(this.right.isRed())throw Wy();var t=this.left.check();if(t!==this.right.check())throw Wy();return t+(this.isRed()?0:1)},t}();sw.EMPTY=null,sw.RED=!0,sw.BLACK=!1,sw.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Wy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Wy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Wy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Wy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Wy()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new sw(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var aw=function(){function t(t){this.comparator=t,this.data=new iw(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new uw(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new uw(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),uw=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),cw=new iw(_b.comparator);function lw(){return cw}var hw=new iw(_b.comparator);function fw(){return hw}var dw=new iw(_b.comparator);function pw(){return dw}var gw=new aw(_b.comparator);function mw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=gw,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var vw=new aw(Qy);function yw(){return vw}var bw=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,_w.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(tb.min(),r,yw(),lw(),mw())},t}(),_w=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(cb.EMPTY_BYTE_STRING,n,mw(),mw(),mw())},t}(),ww=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Cw=function(t,e){this.targetId=t,this.V=e},Sw=function(t,e,n,r){void 0===n&&(n=cb.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},xw=function(){function t(){this.S=0,this.D=kw(),this.C=cb.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=mw(),e=mw(),n=mw();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Wy()}}),new _w(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=kw()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Iw=function(){function t(t){this.W=t,this.G=new Map,this.H=lw(),this.J=Aw(),this.Y=new aw(Qy)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Wy()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Vb(i))if(0===n){var o=new _b(i.path);this.tt(e,o,Fb.newNoDocument(o,tb.min()))}else Gy(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Vb(o.target)){var s=new _b(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Fb.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=mw();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new bw(t,n,this.Y,this.H,r);return this.H=lw(),this.J=Aw(),this.Y=new aw(Qy),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new xw,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new aw(Qy),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||By("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new xw),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Aw(){return new iw(_b.comparator)}function kw(){return new iw(_b.comparator)}var Ew={asc:"ASCENDING",desc:"DESCENDING"},Tw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pw=function(t,e){this.databaseId=t,this.I=e};function Nw(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ow(t,e){return t.I?e.toBase64():e.toUint8Array()}function Lw(t,e){return Nw(t,e.toTimestamp())}function Dw(t){return Gy(!!t),tb.fromTimestamp(function(t){var e=hb(t);return new Zy(e.seconds,e.nanos)}(t))}function Mw(t,e){return function(t){return new ob(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Rw(t){var e=ob.fromString(t);return Gy(sC(e)),e}function Fw(t,e){return Mw(t.databaseId,e.path)}function jw(t,e){var n=Rw(e);if(n.get(1)!==t.databaseId.projectId)throw new jy(Fy.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new jy(Fy.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _b(Vw(n))}function Uw(t,e){return Mw(t.databaseId,e)}function qw(t){var e=Rw(t);return 4===e.length?ob.emptyPath():Vw(e)}function Bw(t){return new ob(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vw(t){return Gy(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Hw(t,e,n){return{name:Fw(t,e),fields:n.value.mapValue.fields}}function zw(t,e,n){var r=jw(t,e.name),i=Dw(e.updateTime),o=new Mb({mapValue:{fields:e.fields}}),s=Fb.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ww(t,e){var n;if(e instanceof G_)n={update:Hw(t,e.key,e.value)};else if(e instanceof Z_)n={delete:Fw(t,e.key)};else if(e instanceof K_)n={update:Hw(t,e.key,e.data),updateMask:oC(e.fieldMask)};else{if(!(e instanceof tw))return Wy();n={verify:Fw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof E_)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof T_)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof N_)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof L_)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Wy()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Lw(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Wy()}(t,e.precondition)),n}function Gw(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?j_.updateTime(Dw(t.updateTime)):void 0!==t.exists?j_.exists(t.exists):j_.none()}(e.currentDocument):j_.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Gy("REQUEST_TIME"===e.setToServerValue),n=new E_):"appendMissingElements"in e?n=new T_(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new N_(e.removeAllFromArray.values||[]):"increment"in e?n=new L_(t,e.increment):Wy();var r=ab.fromServerFormat(e.fieldPath);return new R_(r,n)}(t,e)}):[];if(e.update){var i=jw(t,e.update.name),o=new Mb({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new ub((t.fieldPaths||[]).map(function(t){return ab.fromServerFormat(t)}))}(e.updateMask);return new K_(i,o,s,n,r)}return new G_(i,o,n,r)}if(e.delete){var a=jw(t,e.delete);return new Z_(a,n)}if(e.verify){var u=jw(t,e.verify);return new tw(u,n)}return Wy()}function Kw(t,e){return{documents:[Uw(t,e.path)]}}function $w(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Uw(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Uw(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Ob(t.value))return{unaryFilter:{field:eC(t.field),op:"IS_NAN"}};if(Nb(t.value))return{unaryFilter:{field:eC(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ob(t.value))return{unaryFilter:{field:eC(t.field),op:"IS_NOT_NAN"}};if(Nb(t.value))return{unaryFilter:{field:eC(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eC(t.field),op:tC(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:eC(t.field),direction:Zw(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||vb(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Xw(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Xw(e.endAt)),n}function Yw(t){var e=qw(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Gy(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Qw(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new t_(nC(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return vb(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Jw(n.startAt));var l=null;return n.endAt&&(l=Jw(n.endAt)),o_(e,i,a,s,u,"F",c,l)}function Qw(t){return t?void 0!==t.unaryFilter?[iC(t)]:void 0!==t.fieldFilter?[rC(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Qw(t)}).reduce(function(t,e){return t.concat(e)}):Wy():[]}function Xw(t){return{before:t.before,values:t.position}}function Jw(t){return new Jb(t.values||[],!!t.before)}function Zw(t){return Ew[t]}function tC(t){return Tw[t]}function eC(t){return{fieldPath:t.canonicalString()}}function nC(t){return ab.fromServerFormat(t.fieldPath)}function rC(t){return Hb.create(nC(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Wy()}}(t.fieldFilter.op),t.fieldFilter.value)}function iC(t){switch(t.unaryFilter.op){case"IS_NAN":var e=nC(t.unaryFilter.field);return Hb.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=nC(t.unaryFilter.field);return Hb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nC(t.unaryFilter.field);return Hb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nC(t.unaryFilter.field);return Hb.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Wy()}}function oC(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function sC(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function aC(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=cC(e)),e=uC(t.get(n),e);return cC(e)}function uC(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function cC(t){return t+"\x01\x01"}function lC(t){var e=t.length;if(Gy(e>=2),2===e)return Gy("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ob.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Wy(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Wy()}o=s+2}return new ob(r)}var hC=function(t,e){this.seconds=t,this.nanoseconds=e},fC=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};fC.store="owner",fC.key="owner";var dC=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};dC.store="mutationQueues",dC.keyPath="userId";var pC=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};pC.store="mutations",pC.keyPath="batchId",pC.userMutationsIndex="userMutationsIndex",pC.userMutationsKeyPath=["userId","batchId"];var gC=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,aC(e)]},t.key=function(t,e,n){return[t,aC(e),n]},t}();gC.store="documentMutations",gC.PLACEHOLDER=new gC;var mC=function(t,e){this.path=t,this.readTime=e},vC=function(t,e){this.path=t,this.version=e},yC=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};yC.store="remoteDocuments",yC.readTimeIndex="readTimeIndex",yC.readTimeIndexPath="readTime",yC.collectionReadTimeIndex="collectionReadTimeIndex",yC.collectionReadTimeIndexPath=["parentPath","readTime"];var bC=function(t){this.byteSize=t};bC.store="remoteDocumentGlobal",bC.key="remoteDocumentGlobalKey";var _C=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};_C.store="targets",_C.keyPath="targetId",_C.queryTargetsIndexName="queryTargetsIndex",_C.queryTargetsKeyPath=["canonicalId","targetId"];var wC=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};wC.store="targetDocuments",wC.keyPath=["targetId","path"],wC.documentTargetsIndex="documentTargetsIndex",wC.documentTargetsKeyPath=["path","targetId"];var CC=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};CC.key="targetGlobalKey",CC.store="targetGlobal";var SC=function(t,e){this.collectionId=t,this.parent=e};SC.store="collectionParents",SC.keyPath=["collectionId","parent"];var xC=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};xC.store="clientMetadata",xC.keyPath="clientId";var IC=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};IC.store="bundles",IC.keyPath="bundleId";var AC=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};AC.store="namedQueries",AC.keyPath="name";var kC=(0,Ip.__spreadArray)((0,Ip.__spreadArray)([],(0,Ip.__spreadArray)((0,Ip.__spreadArray)([],(0,Ip.__spreadArray)((0,Ip.__spreadArray)([],(0,Ip.__spreadArray)((0,Ip.__spreadArray)([],[dC.store,pC.store,gC.store,yC.store,_C.store,fC.store,CC.store,wC.store]),[xC.store])),[bC.store])),[SC.store])),[IC.store,AC.store]),EC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",TC=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),PC=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},NC=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Wy(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),OC=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new PC,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new MC(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=qC(e.target.error);n.ft.reject(new MC(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new MC(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(By("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new FC(e)},t}(),LC=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,kp.getUA)())&&Vy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return By("SimpleDb","Removing database:",t),jC(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,kp.getUA)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(By("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new MC(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new jy(Fy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new MC(t,n))},i.onupgradeneeded=function(t){By("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){By("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,Ip.__generator)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,Ip.__generator)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=OC.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),NC.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return By("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),DC=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return jC(this.Pt.delete())},t}(),MC=function(t){function e(e,n){var r=this;return(r=t.call(this,Fy.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Ip.__extends)(e,t),e}(jy);function RC(t){return"IndexedDbTransactionError"===t.name}var FC=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(By("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(By("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),jC(n)},t.prototype.add=function(t){return By("SimpleDb","ADD",this.store.name,t,t),jC(this.store.add(t))},t.prototype.get=function(t){var e=this;return jC(this.store.get(t)).next(function(n){return void 0===n&&(n=null),By("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return By("SimpleDb","DELETE",this.store.name,t),jC(this.store.delete(t))},t.prototype.count=function(){return By("SimpleDb","COUNT",this.store.name),jC(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){By("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new NC(function(n,r){e.onerror=function(t){var e=qC(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new NC(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new DC(i),s=e(i.primaryKey,i.value,o);if(s instanceof NC){var a=s.catch(function(t){return o.done(),NC.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return NC.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function jC(t){return new NC(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=qC(t.target.error);n(e)}})}var UC=!1;function qC(t){var e=LC._t((0,kp.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new jy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return UC||(UC=!0,setTimeout(function(){throw r},0)),r}}return t}var BC=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Ip.__extends)(e,t),e}(TC);function VC(t,e){var n=Ky(t);return LC.It(n.Mt,e)}var HC=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&B_(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&V_(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&V_(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(tb.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},mw())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Xy(this.mutations,t.mutations,function(t,e){return z_(t,e)})&&Xy(this.baseMutations,t.baseMutations,function(t,e){return z_(t,e)})},t}(),zC=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Gy(e.mutations.length===r.length);for(var i=pw(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),WC=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=tb.min()),void 0===o&&(o=tb.min()),void 0===s&&(s=cb.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),GC=function(t){this.Lt=t};function KC(t,e){if(e.document)return zw(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=_b.fromSegments(e.noDocument.path),r=JC(e.noDocument.readTime),i=Fb.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=_b.fromSegments(e.unknownDocument.path);return r=JC(e.unknownDocument.version),Fb.newUnknownDocument(o,r)}return Wy()}function $C(t,e,n){var r=YC(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Fw(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Nw(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new yC(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=XC(e.version);return s=e.hasCommittedMutations,new yC(null,new mC(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=XC(e.version);return new yC(new vC(c,l),null,null,!0,r,i)}return Wy()}function YC(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function QC(t){var e=new Zy(t[0],t[1]);return tb.fromTimestamp(e)}function XC(t){var e=t.toTimestamp();return new hC(e.seconds,e.nanoseconds)}function JC(t){var e=new Zy(t.seconds,t.nanoseconds);return tb.fromTimestamp(e)}function ZC(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Gw(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Gw(t.Lt,e)}),o=Zy.fromMillis(e.localWriteTimeMs);return new HC(e.batchId,o,n,i)}function tS(t){var e,n,r=JC(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?JC(t.lastLimboFreeSnapshotVersion):tb.min();return void 0!==t.query.documents?(Gy(1===(n=t.query).documents.length),e=d_(s_(qw(n.documents[0])))):e=function(t){return d_(Yw(t))}(t.query),new WC(e,t.targetId,0,t.lastListenSequenceNumber,r,i,cb.fromBase64String(t.resumeToken))}function eS(t,e){var n,r=XC(e.snapshotVersion),i=XC(e.lastLimboFreeSnapshotVersion);n=Vb(e.target)?Kw(t.Lt,e.target):$w(t.Lt,e.target);var o=e.resumeToken.toBase64();return new _C(e.targetId,qb(e.target),r,o,e.sequenceNumber,i,n)}function nS(t){var e=Yw({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?p_(e,e.limit,"L"):e}var rS=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return iS(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:JC(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return iS(t).put({bundleId:(n=e).id,createTime:XC(Dw(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return oS(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:nS(e.bundledQuery),readTime:JC(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return oS(t).put(function(t){return{name:t.name,readTime:XC(Dw(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function iS(t){return VC(t,IC.store)}function oS(t){return VC(t,AC.store)}var sS=function(){function t(){this.Bt=new aS}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),NC.resolve()},t.prototype.getCollectionParents=function(t,e){return NC.resolve(this.Bt.getEntries(e))},t}(),aS=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new aw(ob.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new aw(ob.comparator)).toArray()},t}(),uS=function(){function t(){this.qt=new aS}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:aC(i)};return cS(t).put(o)}return NC.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Jy(e),""],!1,!0);return cS(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(lC(o.parent))}return n})},t}();function cS(t){return VC(t,SC.store)}var lS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hS=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function fS(t,e,n){var r=t.store(pC.store),i=t.store(gC.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Gy(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=gC.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return NC.waitFor(o).next(function(){return c})}function dS(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Wy();e=t.noDocument}return JSON.stringify(e).length}hS.DEFAULT_COLLECTION_PERCENTILE=10,hS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hS.DEFAULT=new hS(41943040,hS.DEFAULT_COLLECTION_PERCENTILE,hS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hS.DISABLED=new hS(-1,0,0);var pS=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Gy(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mS(t).$t({index:pC.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=vS(t),s=mS(t);return s.add({}).next(function(a){Gy("number"==typeof a);for(var u=new HC(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Ww(t.Lt,e)}),i=n.mutations.map(function(e){return Ww(t.Lt,e)});return new pC(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new aw(function(t,e){return Qy(t.canonicalString(),e.canonicalString())}),f=0,d=r;f<d.length;f++){var p=d[f],g=gC.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(g,gC.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=u.keys()}),NC.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return mS(t).get(e).next(function(t){return t?(Gy(t.userId===n.userId),ZC(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?NC.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return mS(t).$t({index:pC.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Gy(e.batchId>=r),o=ZC(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return mS(t).$t({index:pC.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mS(t).Nt(pC.userMutationsIndex,n).next(function(t){return t.map(function(t){return ZC(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=gC.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return vS(t).$t({range:i},function(r,i,s){var a=r[0],u=r[2],c=lC(r[1]);if(a===n.userId&&e.path.isEqual(c))return mS(t).get(u).next(function(t){if(!t)throw Wy();Gy(t.userId===n.userId),o.push(ZC(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new aw(Qy),i=[];return e.forEach(function(e){var o=gC.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=vS(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],u=lC(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),NC.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=gC.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new aw(Qy);return vS(t).$t({range:s},function(t,e,o){var s=t[0],u=t[2],c=lC(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(mS(t).get(e).next(function(t){if(null===t)throw Wy();Gy(t.userId===n.userId),r.push(ZC(n.R,t))}))}),NC.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return fS(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),NC.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return NC.resolve();var r=IDBKeyRange.lowerBound(gC.prefixForUser(e.userId)),i=[];return vS(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=lC(t[1]);i.push(o)}else r.done()}).next(function(){Gy(0===i.length)})})},t.prototype.containsKey=function(t,e){return gS(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return yS(t).get(this.userId).next(function(t){return t||new dC(e.userId,-1,"")})},t}();function gS(t,e,n){var r=gC.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return vS(t).$t({range:o,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function mS(t){return VC(t,pC.store)}function vS(t){return VC(t,gC.store)}function yS(t){return VC(t,dC.store)}var bS=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),_S=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new bS(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return tb.fromTimestamp(new Zy(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return wS(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return Gy(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return wS(t).$t(function(s,a){var u=tS(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return NC.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return wS(t).$t(function(t,n){var r=tS(n);e(r)})},t.prototype.Xt=function(t){return CS(t).get(CC.key).next(function(t){return Gy(null!==t),t})},t.prototype.Zt=function(t,e){return CS(t).put(CC.key,e)},t.prototype.te=function(t,e){return wS(t).put(eS(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=qb(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wS(t).$t({range:r,index:_C.queryTargetsIndexName},function(t,n,r){var o=tS(n);Bb(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=SS(t);return e.forEach(function(e){var s=aC(e.path);i.push(o.put(new wC(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),NC.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=SS(t);return NC.forEach(e,function(e){var o=aC(e.path);return NC.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=SS(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=SS(t),i=mw();return r.$t({range:n,Ft:!0},function(t,e,n){var r=lC(t[1]),o=new _b(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=aC(e.path),r=IDBKeyRange.bound([n],[Jy(n)],!1,!0),i=0;return SS(t).$t({index:wC.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return wS(t).get(e).next(function(t){return t?tS(t):null})},t}();function wS(t){return VC(t,_C.store)}function CS(t){return VC(t,CC.store)}function SS(t){return VC(t,wC.store)}function xS(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){if(t.code!==Fy.FAILED_PRECONDITION||t.message!==EC)throw t;return By("LocalStore","Unexpectedly lost primary lease"),[2]})})}function IS(t,e){var n=t[1],r=e[1],i=Qy(t[0],e[0]);return 0===i?Qy(n,r):i}var AS=function(){function t(t){this.ne=t,this.buffer=new aw(IS),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();IS(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),kS=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;By("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Ip.__awaiter)(e,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return RC(e=n.sent())?(By("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,xS(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),ES=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return NC.resolve(Ry.o);var r=new AS(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(By("LruGarbageCollector","Garbage collection skipped; disabled"),NC.resolve(lS)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(By("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),lS):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(By("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),qy()<=Ep.LogLevel.DEBUG&&By("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),NC.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),TS=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new ES(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return PS(t,n)},t.prototype.removeReference=function(t,e,n){return PS(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return PS(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return yS(t).Ot(function(r){return gS(t,r,e).next(function(t){return t&&(n=!0),NC.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),SS(t).delete([0,aC(s.path)])})});i.push(u)}}).next(function(){return NC.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return PS(t,e)},t.prototype.we=function(t,e){var n,r=SS(t),i=Ry.o;return r.$t({index:wC.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ry.o&&e(new _b(lC(n)),i),i=s,n=o):i=Ry.o}).next(function(){i!==Ry.o&&e(new _b(lC(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function PS(t,e){return SS(t).put(function(t,e){return new wC(0,aC(t.path),e)}(e,t.currentSequenceNumber))}var NS=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){nb(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return rb(this.inner)},t}(),OS=function(){function t(){this.changes=new NS(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:tb.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Fb.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?NC.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),LS=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return RS(t).put(FS(e),n)},t.prototype.removeEntry=function(t,e){var n=RS(t),r=FS(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return RS(t).get(FS(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return RS(t).get(FS(e)).next(function(t){return{document:n.ye(e,t),size:dS(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=lw();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=lw(),i=new iw(_b.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,dS(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return NC.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return RS(t).$t({range:r},function(t,e,r){for(var s=_b.fromSegments(t);o&&_b.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=lw(),o=e.path.length+1,s={};if(n.isEqual(tb.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=YC(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=yC.collectionReadTimeIndex}return RS(t).$t(s,function(t,n,s){if(t.length===o){var a=KC(r.R,n);e.path.isPrefixOf(a.key.path)?y_(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new DS(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return MS(t).get(bC.key).next(function(t){return Gy(!!t),t})},t.prototype.me=function(t,e){return MS(t).put(bC.key,e)},t.prototype.ye=function(t,e){if(e){var n=KC(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(tb.min()))return n}return Fb.newInvalidDocument(t)},t}(),DS=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new NS(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Ip.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new aw(function(t,e){return Qy(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=$C(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=dS(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=$C(e.Ie.R,Fb.newNoDocument(o,tb.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),NC.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(OS);function MS(t){return VC(t,bC.store)}function RS(t){return VC(t,yC.store)}function FS(t){return t.path.toArray()}var jS=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Gy(n<r&&n>=0&&r<=11);var o=new OC("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(fC.store)}(t),function(t){t.createObjectStore(dC.store,{keyPath:dC.keyPath}),t.createObjectStore(pC.store,{keyPath:pC.keyPath,autoIncrement:!0}).createIndex(pC.userMutationsIndex,pC.userMutationsKeyPath,{unique:!0}),t.createObjectStore(gC.store)}(t),US(t),function(t){t.createObjectStore(yC.store)}(t));var s=NC.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(wC.store),t.deleteObjectStore(_C.store),t.deleteObjectStore(CC.store)}(t),US(t)),s=s.next(function(){return function(t){var e=t.store(CC.store),n=new CC(0,0,tb.min().toTimestamp(),0);return e.put(CC.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(pC.store).Nt().next(function(n){t.deleteObjectStore(pC.store),t.createObjectStore(pC.store,{keyPath:pC.keyPath,autoIncrement:!0}).createIndex(pC.userMutationsIndex,pC.userMutationsKeyPath,{unique:!0});var r=e.store(pC.store),i=n.map(function(t){return r.put(t)});return NC.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(xC.store,{keyPath:xC.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(bC.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(yC.store);e.createIndex(yC.readTimeIndex,yC.readTimeIndexPath,{unique:!1}),e.createIndex(yC.collectionReadTimeIndex,yC.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(IC.store,{keyPath:IC.keyPath})}(t),function(t){t.createObjectStore(AC.store,{keyPath:AC.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(yC.store).$t(function(t,n){e+=dS(n)}).next(function(){var n=new bC(e);return t.store(bC.store).put(bC.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(dC.store),r=t.store(pC.store);return n.Nt().next(function(n){return NC.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(pC.userMutationsIndex,i).next(function(r){return NC.forEach(r,function(r){Gy(r.userId===n.userId);var i=ZC(e.R,r);return fS(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(wC.store),n=t.store(yC.store);return t.store(CC.store).get(CC.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new ob(n),s=function(t){return[0,aC(t)]}(o);r.push(e.get(s).next(function(n){return n?NC.resolve():function(n){return e.put(new wC(0,aC(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return NC.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(SC.store,{keyPath:SC.keyPath});var n=e.store(SC.store),r=new aS,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:aC(i)})}};return e.store(yC.store).$t({Ft:!0},function(t,e){var n=new ob(t);return i(n.popLast())}).next(function(){return e.store(gC.store).$t({Ft:!0},function(t,e){var n=lC(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(_C.store);return n.$t(function(t,r){var i=tS(r),o=eS(e.R,i);return n.put(o)})},t}();function US(t){t.createObjectStore(wC.store,{keyPath:wC.keyPath}).createIndex(wC.documentTargetsIndex,wC.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(_C.store,{keyPath:_C.keyPath}).createIndex(_C.queryTargetsIndexName,_C.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(CC.store)}var qS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",BS=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new jy(Fy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TS(this,i),this.Le=n+"main",this.R=new GC(u),this.Be=new LC(this.Le,11,new jS(this.R)),this.qe=new _S(this.referenceDelegate,this.R),this.Ut=new uS,this.Ue=function(t,e){return new LS(t,e)}(this.R,this.Ut),this.Ke=new rS,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Vy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new jy(Fy.FAILED_PRECONDITION,qS);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ry(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Ip.__awaiter)(e,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Ip.__awaiter)(e,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Ip.__awaiter)(e,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return HS(e).put(new xC(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(RC(e))return By("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return By("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return VS(t).get(fC.key).next(function(t){return NC.resolve(e.tn(t))})},t.prototype.en=function(t){return HS(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=VC(t,xC.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return NC.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?NC.resolve(!0):VS(t).get(fC.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new jy(Fy.FAILED_PRECONDITION,qS);return!1}}return!(!e.networkEnabled||!e.inForeground)||HS(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&By("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t=this;return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[fC.store,xC.store],function(e){var n=new BC(e,Ry.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return HS(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return pS.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return By("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",kC,function(o){return r=new BC(o,i.Ne?i.Ne.next():Ry.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Vy("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new jy(Fy.FAILED_PRECONDITION,EC);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return VS(t).get(fC.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new jy(Fy.FAILED_PRECONDITION,qS)})},t.prototype.Ze=function(t){var e=new fC(this.clientId,this.allowTabSynchronization,Date.now());return VS(t).put(fC.key,e)},t.yt=function(){return LC.yt()},t.prototype.Xe=function(t){var e=this,n=VS(t);return n.get(fC.key).next(function(t){return e.tn(t)?(By("IndexedDbPersistence","Releasing primary lease."),n.delete(fC.key)):NC.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Vy("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,kp.isSafari)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return By("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Vy("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Vy("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function VS(t){return VC(t,fC.store)}function HS(t){return VC(t,xC.store)}function zS(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var WS=function(t,e){this.progress=t,this.wn=e},GS=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return _b.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):h_(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new _b(e)).next(function(t){var e=fw();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=fw();return this.Ut.getCollectionParents(t,i).next(function(s){return NC.forEach(s,function(s){var a=function(t,e){return new i_(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Fb.newInvalidDocument(c),r=r.insert(c,l)),V_(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){y_(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=mw(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof K_&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),KS=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=mw(),i=mw(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),$S=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(tb.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(a_(e)||u_(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(qy()<=Ep.LogLevel.DEBUG&&By("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),v_(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new aw(b_(t));return e.forEach(function(e,r){y_(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return qy()<=Ep.LogLevel.DEBUG&&By("QueryEngine","Using full collection scan to execute query:",v_(e)),this.Sn.getDocumentsMatchingQuery(t,e,tb.min())},t}(),YS=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new iw(Qy),this.Fn=new NS(function(t){return qb(t)},Bb),this.$n=tb.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new GS(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function QS(t,e,n,r){return new YS(t,e,n,r)}function XS(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:return n=Ky(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new GS(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=mw(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,m=p.mutations;g<m.length;g++)s=s.add(m[g].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function JS(t,e){var n=Ky(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=NC.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);Gy(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function ZS(t){var e=Ky(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function tx(t,e){var n=Ky(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Gy(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=lw();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(ex(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(tb.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return NC.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=i,t})}function ex(t,e,n,r,i){var o=mw();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=lw();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(tb.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):By("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function nx(t,e){var n=Ky(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function rx(t,e){var n=Ky(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?NC.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new WC(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function ix(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:r=Ky(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!RC(s=a.sent()))throw s;return By("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function ox(t,e,n){var r=Ky(t),i=tb.min(),o=mw();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Ky(t),i=r.Fn.get(n);return void 0!==i?NC.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,d_(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:tb.min(),n?o:mw())}).next(function(t){return{documents:t,Bn:o}})})}function sx(t,e){var n=Ky(t),r=Ky(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function ax(t){var e=Ky(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Ky(t),i=lw(),o=YC(n),s=RS(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:yC.readTimeIndex,range:a},function(t,e){var n=KC(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:QC(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function ux(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){return[2,(e=Ky(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=RS(t),n=tb.min();return e.$t({index:yC.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=QC(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function cx(t,e,n,r){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return(0,Ip.__generator)(this,function(p){switch(p.label){case 0:for(i=Ky(t),o=mw(),s=lw(),a=pw(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,rx(i,function(t){return d_(s_(ob.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return ex(t,f,s,tb.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.qe.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function lx(t,e,n){return void 0===n&&(n=mw()),(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return[4,rx(t,d_(nS(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Ky(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Dw(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(cb.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var hx=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return NC.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Dw(n.createTime)}),NC.resolve()},t.prototype.getNamedQuery=function(t,e){return NC.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:nS(t.bundledQuery),readTime:Dw(t.readTime)}}(e)),NC.resolve()},t}(),fx=function(){function t(){this.Wn=new aw(dx.Gn),this.zn=new aw(dx.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new dx(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new dx(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new _b(new ob([])),r=new dx(n,t),i=new dx(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new _b(new ob([])),n=new dx(e,t),r=new dx(e,t+1),i=mw();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new dx(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),dx=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return _b.comparator(t.key,e.key)||Qy(t.ns,e.ns)},t.Hn=function(t,e){return Qy(t.ns,e.ns)||_b.comparator(t.key,e.key)},t}(),px=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new aw(dx.Gn)}return t.prototype.checkEmpty=function(t){return NC.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new HC(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new dx(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return NC.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return NC.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return NC.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return NC.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return NC.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new dx(e,0),i=new dx(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),NC.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new aw(Qy);return e.forEach(function(t){var e=new dx(t,0),i=new dx(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),NC.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;_b.isDocumentKey(i)||(i=i.child(""));var o=new dx(new _b(i),0),s=new aw(Qy);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),NC.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Gy(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return NC.forEach(e.mutations,function(i){var o=new dx(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new dx(e,0),r=this.rs.firstAfterOrEqual(n);return NC.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return NC.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),gx=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new iw(_b.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return NC.resolve(n?n.document.clone():Fb.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=lw();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Fb.newInvalidDocument(t))}),NC.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=lw(),i=new _b(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||y_(e,u)&&(r=r.insert(u.key,u.clone()))}return NC.resolve(r)},t.prototype.fs=function(t,e){return NC.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new mx(this)},t.prototype.getSize=function(t){return NC.resolve(this.size)},t}(),mx=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Ip.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),NC.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(OS),vx=function(){function t(t){this.persistence=t,this.ds=new NS(function(t){return qb(t)},Bb),this.lastRemoteSnapshotVersion=tb.min(),this.highestTargetId=0,this.ws=0,this._s=new fx,this.targetCount=0,this.ys=bS.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),NC.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return NC.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return NC.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),NC.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),NC.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new bS(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,NC.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),NC.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,NC.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),NC.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return NC.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return NC.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),NC.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),NC.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),NC.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return NC.resolve(n)},t.prototype.containsKey=function(t,e){return NC.resolve(this._s.containsKey(e))},t}(),yx=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ry(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new vx(this),this.Ut=new sS,this.Ue=function(t,e){return new gx(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new GC(e),this.Ke=new hx(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new px(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;By("MemoryPersistence","Starting transaction:",t);var i=new bx(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return NC.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),bx=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Ip.__extends)(e,t),e}(TC),_x=function(){function t(t){this.persistence=t,this.As=new fx,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Wy()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),NC.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),NC.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),NC.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return NC.forEach(this.vs,function(r){var i=_b.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return NC.or([function(){return NC.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),wx=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Cx(t,e){return"firestore_clients_"+t+"_"+e}function Sx(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function xx(t,e){return"firestore_targets_"+t+"_"+e}wx.UNAUTHENTICATED=new wx(null),wx.GOOGLE_CREDENTIALS=new wx("google-credentials-uid"),wx.FIRST_PARTY=new wx("first-party-uid"),wx.MOCK_USER=new wx("mock-user");var Ix=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new jy(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Vy("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ax=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new jy(i.error.code,i.error.message)),o?new t(e,i.state,r):(Vy("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),kx=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=yw(),s=0;i&&s<r.activeTargetIds.length;++s)i=bb(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Vy("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ex=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Vy("SharedClientState","Failed to parse online state: "+e),null)},t}(),Tx=function(){function t(){this.activeTargetIds=yw()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Px=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new iw(Qy),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Cx(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Tx),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,Ip.__generator)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Cx(this.persistenceKey,r)))&&(o=kx.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.$s;u<c.length;u++)this.ks(c[u]);return this.$s=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(xx(this.persistenceKey,t));if(n){var r=Ax.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(xx(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return By("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){By("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){By("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(By("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Vy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Ip.__awaiter)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,Ip.__generator)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Ry.o;if(null!=t)try{var n=JSON.parse(t);Gy("number"==typeof n),e=n}catch(t){Vy("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ry.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Ix(this.currentUser,t,e,n),i=Sx(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Sx(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=xx(this.persistenceKey,t),i=new Ax(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return kx.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Ix.Vs(new wx(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Ax.Vs(r,e)},t.prototype.js=function(t){return Ex.Vs(t)},t.prototype.ii=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(By("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=yw();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Nx=function(){function t(){this.li=new Tx,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Tx,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Ox=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Lx=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){By("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){By("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Dx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mx=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Rx=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,Ip.__extends)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var s=new My;s.listenOnce(Ny.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Py.NO_ERROR:var e=s.getResponseJson();By("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Py.TIMEOUT:By("Connection",'RPC "'+t+'" timed out'),o(new jy(Fy.DEADLINE_EXCEEDED,"Request time out"));break;case Py.HTTP_ERROR:var n=s.getStatus();if(By("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Fy).indexOf(e)>=0?e:Fy.UNKNOWN}(r.status);o(new jy(a,r.message))}else o(new jy(Fy.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new jy(Fy.UNAVAILABLE,"Connection failed."));break;default:Wy()}}finally{By("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Iy,i=bm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ly({})),this.ki(o.initMessageHeaders,e),(0,kp.isMobileCordova)()||(0,kp.isReactNative)()||(0,kp.isElectron)()||(0,kp.isIE)()||(0,kp.isUWP)()||(0,kp.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");By("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Mx({Ei:function(t){c?By("Connection","Not sending because WebChannel is closed:",t):(u||(By("Connection","Opening WebChannel transport."),a.open(),u=!0),By("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Dy.EventType.OPEN,function(){c||By("Connection","WebChannel transport opened.")}),h(a,Dy.EventType.CLOSE,function(){c||(c=!0,By("Connection","WebChannel transport closed"),l.Vi())}),h(a,Dy.EventType.ERROR,function(t){c||(c=!0,Hy("Connection","WebChannel transport errored:",t),l.Vi(new jy(Fy.UNAVAILABLE,"The operation could not be completed")))}),h(a,Dy.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Gy(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){By("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=X_[t];if(void 0!==e)return rw(e)}(i),s=r.message;void 0===o&&(o=Fy.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new jy(o,s)),a.close()}else By("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Oy.STAT_EVENT,function(t){10===t.stat?By("Connection","Detected buffering proxy"):11===t.stat&&By("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);By("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then(function(t){return By("RestConnection","Received: ",t),t},function(e){throw Hy("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Dx[t]},t}());function Fx(){return"undefined"!=typeof window?window:null}function jx(){return"undefined"!=typeof document?document:null}function Ux(t){return new Pw(t,!0)}var qx=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&By("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Bx=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new qx(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Fy.RESOURCE_EXHAUSTED?(Vy(e.toString()),Vy("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Fy.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new jy(Fy.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Ip.__awaiter)(t,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return By("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(By("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Vx=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,Ip.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Wy()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Gy(void 0===e||"string"==typeof e),cb.fromBase64String(e||"")):(Gy(void 0===e||e instanceof Uint8Array),cb.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Fy.UNKNOWN:rw(t.code);return new jy(e,t.message||"")}(a);n=new Sw(r,i,o,s||null)}else if("documentChange"in e){i=jw(t,(r=e.documentChange).document.name),o=Dw(r.document.updateTime);var a=new Mb({mapValue:{fields:r.document.fields}}),u=(s=Fb.newFoundDocument(i,o,a),r.targetIds||[]);n=new ww(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=jw(t,(r=e.documentDelete).document),o=r.readTime?Dw(r.readTime):tb.min(),a=Fb.newNoDocument(i,o),n=new ww([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=jw(t,(r=e.documentRemove).document),n=new ww([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Wy();var c=e.filter;i=new ew(r=c.count||0),n=new Cw(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return tb.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?tb.min():e.readTime?Dw(e.readTime):tb.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Bw(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Vb(r)?{documents:Kw(t,r)}:{query:$w(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Ow(t,e.resumeToken):e.snapshotVersion.compareTo(tb.min())>0&&(n.readTime=Nw(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Wy()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Bw(this.R),e.removeTarget=t,this.cr(e)},e}(Bx),Hx=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,Ip.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Gy(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Gy(void 0!==e),t.map(function(t){return function(t,e){var n=Dw(t.updateTime?t.updateTime:e);return n.isEqual(tb.min())&&(n=Dw(e)),new F_(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Dw(t.commitTime);return this.listener.Tr(n,e)}return Gy(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Bw(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Ww(e.R,t)})};this.cr(n)},e}(Bx),zx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Ip.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new jy(Fy.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Fy.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new jy(Fy.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Fy.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new jy(Fy.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),Wx=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Vy(e),this.Vr=!1):By("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Gx=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Ip.__awaiter)(o,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){switch(t.label){case 0:return eI(this)?(By("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return(e=Ky(t)).Or.add(4),[4,$x(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Kx(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new Wx(n,r)};function Kx(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:if(!eI(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function $x(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Yx(t,e){var n=Ky(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),tI(n)?Zx(n):mI(n).er()&&Xx(n,e))}function Qx(t,e){var n=Ky(t),r=mI(n);n.$r.delete(e),r.er()&&Jx(n,e),0===n.$r.size&&(r.er()?r.ir():eI(n)&&n.Br.set("Unknown"))}function Xx(t,e){t.qr.U(e.targetId),mI(t).mr(e)}function Jx(t,e){t.qr.U(e),mI(t).yr(e)}function Zx(t){t.qr=new Iw({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),mI(t).start(),t.Br.Sr()}function tI(t){return eI(t)&&!mI(t).tr()&&t.$r.size>0}function eI(t){return 0===Ky(t).Or.size}function nI(t){t.qr=void 0}function rI(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){return t.$r.forEach(function(e,n){Xx(t,e)}),[2]})})}function iI(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(n){return nI(t),tI(t)?(t.Br.Nr(e),Zx(t)):t.Br.set("Unknown"),[2]})})}function oI(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Sw&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),By("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,sI(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ww?t.qr.X(e):e instanceof Cw?t.qr.rt(e):t.qr.et(e),n.isEqual(tb.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ZS(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(cb.EMPTY_BYTE_STRING,n.snapshotVersion)),Jx(t,e);var r=new WC(n.target,e,1,n.sequenceNumber);Xx(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return By("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,sI(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function sI(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:if(!RC(e))throw e;return t.Or.add(1),[4,$x(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return ZS(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Ip.__awaiter)(r,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return By("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Kx(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function aI(t,e){return e().catch(function(n){return sI(t,n,e)})}function uI(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:e=Ky(t),n=vI(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return eI(t)&&t.Fr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,nx(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=vI(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,sI(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return cI(e)&&lI(e),[2]}})})}function cI(t){return eI(t)&&!vI(t).tr()&&t.Fr.length>0}function lI(t){vI(t).start()}function hI(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){return vI(t).Ar(),[2]})})}function fI(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ip.__generator)(this,function(i){for(e=vI(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function dI(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=zC.from(r,e,n),[4,aI(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,uI(t)];case 2:return o.sent(),[2]}})})}function pI(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return e&&vI(t).pr?[4,function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return nw(r=e.code)&&r!==Fy.ABORTED?(n=t.Fr.shift(),vI(t).sr(),[4,aI(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,uI(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return cI(t)&&lI(t),[2]}})})}function gI(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return n=Ky(t),e?(n.Or.delete(2),[4,Kx(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,$x(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function mI(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Ky(t);return r.br(),new Vx(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:rI.bind(null,t),Ri:iI.bind(null,t),_r:oI.bind(null,t)}),t.Mr.push(function(n){return(0,Ip.__awaiter)(e,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),tI(t)?Zx(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),nI(t),e.label=3;case 3:return[2]}})})})),t.Ur}function vI(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Ky(t);return r.br(),new Hx(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:hI.bind(null,t),Ri:pI.bind(null,t),Ir:fI.bind(null,t),Tr:dI.bind(null,t)}),t.Mr.push(function(n){return(0,Ip.__awaiter)(e,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,uI(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(By("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var yI=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new PC,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new jy(Fy.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function bI(t,e){if(Vy("AsyncQueue",e+": "+t),RC(t))return new jy(Fy.UNAVAILABLE,e+": "+t);throw t}var _I=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||_b.comparator(e.key,n.key)}:function(t,e){return _b.comparator(t.key,e.key)},this.keyedMap=fw(),this.sortedSet=new iw(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),wI=function(){function t(){this.Qr=new iw(_b.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Wy():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),CI=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,_I.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&g_(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),SI=function(){this.Wr=void 0,this.listeners=[]},xI=function(){this.queries=new NS(function(t){return m_(t)},g_),this.onlineState="Unknown",this.Gr=new Set};function II(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Ip.__generator)(this,function(c){switch(c.label){case 0:if(n=Ky(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new SI),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=bI(a,"Initialization of query '"+v_(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&TI(n),[2]}})})}function AI(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ip.__generator)(this,function(a){return n=Ky(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function kI(t,e){for(var n=Ky(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&TI(n)}function EI(t,e,n){var r=Ky(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function TI(t){t.Gr.forEach(function(t){t.next()})}var PI=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new CI(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=CI.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),NI=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),OI=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return jw(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?zw(this.R,t.document,!1):Fb.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Dw(t)},t}(),LI=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=DI(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new OI(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||mw()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return[4,cx(this.localStore,new OI(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,lx(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new WS(Object.assign({},this.progress),t))]}})})},t}();function DI(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var MI=function(t){this.key=t},RI=function(t){this.key=t},FI=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=mw(),this.mutatedKeys=mw(),this.lo=b_(t),this.fo=new _I(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new wI,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=a_(this.query)&&i.size===this.query.limit?i.last():null,c=u_(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=y_(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),a_(this.query)||u_(this.query))for(;s.size>this.query.limit;){var l=a_(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wy()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new CI(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new wI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=mw(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new RI(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new MI(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=mw();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return CI.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),jI=function(t,e,n){this.query=t,this.targetId=e,this.view=n},UI=function(t){this.key=t,this.bo=!1},qI=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new NS(function(t){return m_(t)},g_),this.Vo=new Map,this.So=new Set,this.Do=new iw(_b.comparator),this.Co=new Map,this.No=new fx,this.xo={},this.ko=new Map,this.Fo=bS.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function BI(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:return n=mA(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,rx(n.localStore,d_(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,VI(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Yx(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function VI(t,e,n,r){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,Ip.__generator)(this,function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,ox(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(eA(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,ox(t.localStore,e,!0)];case 1:return i=l.sent(),o=new FI(e,i.Bn),s=o._o(i.documents),a=_w.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),eA(t,n,u.To),c=new jI(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function HI(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return n=Ky(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!g_(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,ix(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Qx(n.remoteStore,r.targetId),ZI(n,r.targetId)}).catch(xS)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ZI(n,r.targetId),[4,ix(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function zI(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:r=vA(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Ky(t),i=Zy.now(),o=e.reduce(function(t,e){return t.add(e.key)},mw());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=H_(c,n.get(c.key));null!=l&&s.push(new K_(c.key,l,Rb(l.value.mapValue),j_.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new iw(Qy)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,iA(r,i.changes)];case 3:return a.sent(),[4,uI(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=bI(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function WI(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:n=Ky(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,tx(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(Gy(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Gy(r.bo):t.removedDocuments.size>0&&(Gy(r.bo),r.bo=!1))}),[4,iA(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,xS(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function GI(t,e,n){var r=Ky(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Ky(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&TI(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function KI(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,Ip.__generator)(this,function(c){switch(c.label){case 0:return(r=Ky(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new iw(_b.comparator)).insert(o,Fb.newNoDocument(o,tb.min())),a=mw().add(o),u=new bw(tb.min(),new Map,new aw(Qy),s,a),[4,WI(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),rA(r),[3,4];case 2:return[4,ix(r.localStore,e,!1).then(function(){return ZI(r,e,n)}).catch(xS)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function $I(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:n=Ky(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,JS(n.localStore,e)];case 2:return i=o.sent(),JI(n,r,null),XI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,iA(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,xS(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function YI(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:r=Ky(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Ky(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return Gy(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),JI(r,e,n),XI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,iA(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,xS(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function QI(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:eI((n=Ky(t)).remoteStore)||By("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Ky(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=bI(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function XI(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function JI(t,e,n){var r=Ky(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function ZI(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||tA(t,e)})}function tA(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Qx(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),rA(t))}function eA(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof MI?(t.No.addReference(o.key,e),nA(t,o)):o instanceof RI?(By("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||tA(t,o.key)):Wy()}}function nA(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(By("SyncEngine","New document in limbo: "+n),t.So.add(r),rA(t))}function rA(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new _b(ob.fromString(e)),r=t.Fo.next();t.Co.set(r,new UI(n)),t.Do=t.Do.insert(n,r),Yx(t.remoteStore,new WC(d_(s_(n.path)),r,2,Ry.o))}}function iA(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:return r=Ky(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=KS.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,Ip.__generator)(this,function(l){switch(l.label){case 0:n=Ky(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return NC.forEach(e,function(e){return NC.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return NC.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!RC(r=l.sent()))throw r;return By("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.kn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.kn=n.kn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function oA(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return(n=Ky(t)).currentUser.isEqual(e)?[3,3]:(By("SyncEngine","User change. New user:",e.toKey()),[4,XS(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new jy(Fy.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,iA(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function sA(t,e){var n=Ky(t),r=n.Co.get(e);if(r&&r.bo)return mw().add(r.key);var i=mw(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function aA(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return[4,ox((n=Ky(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&eA(n,e.targetId,i.To),i)]}})})}function uA(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){return[2,ax((e=Ky(t)).localStore).then(function(t){return iA(e,t)})]})})}function cA(t,e,n,r){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Ky(t),r=Ky(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):NC.resolve(null)})})}((i=Ky(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,uI(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(JI(i,e,r||null),XI(i,e),function(t,e){Ky(Ky(t)._n).Gt(e)}(i.localStore,e)):Wy(),s.label=4;case 4:return[4,iA(i,o)];case 5:return s.sent(),[3,7];case 6:By("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function lA(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Ip.__generator)(this,function(c){switch(c.label){case 0:return mA(n=Ky(t)),vA(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,hA(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,gI(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)Yx(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return ZI(n,e),ix(n.localStore,e,!0)}),Qx(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,hA(n,a)];case 5:return c.sent(),function(t){var e=Ky(t);e.Co.forEach(function(t,n){Qx(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new iw(_b.comparator)}(n),n.$o=!1,[4,gI(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function hA(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return(0,Ip.__generator)(this,function(g){switch(g.label){case 0:n=Ky(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,rx(n.localStore,d_(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,aA(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,sx(n.localStore,a)];case 8:return p=g.sent(),[4,rx(n.localStore,p)];case 9:return u=g.sent(),[4,VI(n,fA(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function fA(t){return o_(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function dA(t){var e=Ky(t);return Ky(Ky(e.localStore).persistence).fn()}function pA(t,e,n,r){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:return(i=Ky(t)).$o?(By("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,ax(i.localStore)];case 3:return o=a.sent(),s=bw.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,iA(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,ix(i.localStore,e,!0)];case 6:return a.sent(),ZI(i,e,r),[3,8];case 7:Wy(),a.label=8;case 8:return[2]}})})}function gA(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,Ip.__generator)(this,function(f){switch(f.label){case 0:if(!(r=mA(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(By("SyncEngine","Adding an already active target "+s),[3,5]):[4,sx(r.localStore,s)]:[3,6];case 2:return a=f.sent(),[4,rx(r.localStore,a)];case 3:return u=f.sent(),[4,VI(r,fA(a),u.targetId,!1)];case 4:f.sent(),Yx(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,ix(r.localStore,t,!1).then(function(){Qx(r.remoteStore,t),ZI(r,t)}).catch(xS)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function mA(t){var e=Ky(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KI.bind(null,e),e.vo._r=kI.bind(null,e.eventManager),e.vo.Mo=EI.bind(null,e.eventManager),e}function vA(t){var e=Ky(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$I.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YI.bind(null,e),e}function yA(t,e,n){var r=Ky(t);(function(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,Ip.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=c.sent(),[4,function(t,e){var n=Ky(t),r=Dw(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.Ke.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(r)>=0})}(t.localStore,r)];case 2:return c.sent()?[4,e.close()]:[3,4];case 3:return[2,(c.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(DI(r)),i=new LI(r,t.localStore,e.R),[4,e.Lo()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=c.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=c.sent(),[4,iA(t,a.wn,void 0)];case 12:return c.sent(),[4,function(t,e){var n=Ky(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.Ke.saveBundleMetadata(t,e)})}(t.localStore,r)];case 13:return c.sent(),n._completeWith(a.progress),[3,15];case 14:return Hy("SyncEngine","Loading bundle failed with "+(u=c.sent())),n._failWith(u),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var bA=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return this.R=Ux(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return QS(this.persistence,new $S,t.initialUser,this.R)},t.prototype.qo=function(t){return new yx(_x.bs,this.R)},t.prototype.Bo=function(t){return new Nx},t.prototype.terminate=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),_A=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Ip.__extends)(e,t),e.prototype.initialize=function(e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,ux(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,vA(this.Qo.syncEngine)];case 4:return r.sent(),[4,uI(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return QS(this.persistence,new $S,t.initialUser,this.R)},e.prototype.Uo=function(t){return new kS(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=zS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?hS.withCacheSize(this.cacheSizeBytes):hS.DEFAULT;return new BS(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Fx(),jx(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Nx},e}(bA),wA=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Ip.__extends)(e,t),e.prototype.initialize=function(e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Px?(this.sharedClientState.syncEngine={ui:cA.bind(null,n),ai:pA.bind(null,n),hi:gA.bind(null,n),fn:dA.bind(null,n),ci:uA.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Ip.__awaiter)(r,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return[4,lA(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Fx();if(!Px.yt(e))throw new jy(Fy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=zS(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Px(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(_A),CA=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return GI(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=oA.bind(null,this.syncEngine),[4,gI(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new xI},t.prototype.createDatastore=function(t){var e=Ux(t.databaseInfo.databaseId),n=new Rx(t.databaseInfo);return function(t,e,n){return new zx(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return GI(s.syncEngine,t,0)},o=Lx.yt()?new Lx:new Ox,new Gx(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new qI(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return e=Ky(t),By("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,$x(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function SA(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r;return(0,Ip.__generator)(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var xA=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),IA=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new PC,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e,n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new NI(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),AA=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new jy(Fy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Ip.__generator)(this,function(u){switch(u.label){case 0:return n=Ky(t),r=Bw(n.R)+"/documents",i={documents:e.map(function(t){return Fw(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Gy(!!e.found);var n=jw(t,e.found.name),r=Dw(e.found.updateTime),i=new Mb({mapValue:{fields:e.found.fields}});return Fb.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Gy(!!e.missing),Gy(!!e.readTime);var n=jw(t,e.missing),r=Dw(e.readTime);return Fb.newNoDocument(n,r)}(t,e):Wy()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Gy(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Z_(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e=this;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=_b.fromPath(n);e.mutations.push(new tw(r,e.precondition(r)))}),[4,function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return n=Ky(t),r=Bw(n.R)+"/documents",i={writes:e.map(function(t){return Ww(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Wy();e=tb.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new jy(Fy.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?j_.updateTime(e):j_.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(tb.min()))throw new jy(Fy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return j_.updateTime(e)}return j_.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),kA=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new qx(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Ip.__awaiter)(t,void 0,void 0,function(){var t,e,n=this;return(0,Ip.__generator)(this,function(r){return t=new AA(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!vb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!nw(e)}return!1},t}(),EA=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=wx.UNAUTHENTICATED,this.clientId=Yy.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,Ip.__awaiter)(r,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return By("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new jy(Fy.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new PC;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ip.__awaiter)(t,void 0,void 0,function(){var t,n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=bI(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function TA(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i=this;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),By("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,Ip.__awaiter)(i,void 0,void 0,function(){return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,XS(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function PA(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,NA(t)];case 1:return n=i.sent(),By("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return(n=Ky(t)).asyncQueue.verifyOperationInProgress(),By("RemoteStore","RemoteStore received new credentials"),r=eI(n),n.Or.add(3),[4,$x(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Kx(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function NA(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(By("FirestoreClient","Using default OfflineComponentProvider"),[4,TA(t,new bA)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function OA(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(By("FirestoreClient","Using default OnlineComponentProvider"),[4,PA(t,new CA)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function LA(t){return NA(t).then(function(t){return t.persistence})}function DA(t){return NA(t).then(function(t){return t.localStore})}function MA(t){return OA(t).then(function(t){return t.remoteStore})}function RA(t){return OA(t).then(function(t){return t.syncEngine})}function FA(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,OA(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=BI.bind(null,e.syncEngine),n.onUnlisten=HI.bind(null,e.syncEngine),n)]}})})}function jA(t,e,n){var r=this;void 0===n&&(n={});var i=new PC;return t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(r,void 0,void 0,function(){var r;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new xA({next:function(o){e.enqueueAndForget(function(){return AI(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new jy(Fy.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new jy(Fy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new PI(s_(n.path),o,{includeMetadataChanges:!0,so:!0});return II(t,s)},[4,FA(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function UA(t,e,n){var r=this;void 0===n&&(n={});var i=new PC;return t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(r,void 0,void 0,function(){var r;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new xA({next:function(n){e.enqueueAndForget(function(){return AI(t,s)}),n.fromCache&&"server"===r.source?i.reject(new jy(Fy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new PI(n,o,{includeMetadataChanges:!0,so:!0});return II(t,s)},[4,FA(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var qA=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},BA=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),VA=new Map,HA=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},zA=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(wx.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),WA=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),GA=function(){function t(t){var e=this;this.currentUser=wx.UNAUTHENTICATED,this.oc=new PC,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){By("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(By("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(By("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Gy("string"==typeof n.accessToken),new HA(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Ip.__awaiter)(n,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Gy(null===t||"string"==typeof t),new wx(t)},t}(),KA=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=wx.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),$A=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new KA(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(wx.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function YA(t,e,n){if(!n)throw new jy(Fy.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function QA(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new jy(Fy.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function XA(t,e,n,r){if(!0===e&&!0===r)throw new jy(Fy.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function JA(t){if(!_b.isDocumentKey(t))throw new jy(Fy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ZA(t){if(_b.isDocumentKey(t))throw new jy(Fy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function tk(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Wy()}function ek(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new jy(Fy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=tk(t);throw new jy(Fy.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function nk(t,e){if(e<=0)throw new jy(Fy.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var rk=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new jy(Fy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new jy(Fy.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,XA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),ik=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rk({}),this._settingsFrozen=!1,t instanceof BA?(this._databaseId=t,this._credentials=new zA):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new jy(Fy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new BA(t.options.projectId)}(t),this._credentials=new GA(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new jy(Fy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new jy(Fy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rk(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new zA;switch(t.type){case"gapi":var e=t.client;return Gy(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new $A(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new jy(Fy.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=VA.get(this))&&(By("ComponentProvider","Removing Datastore"),VA.delete(this),t.terminate()),Promise.resolve();var t},t}(),ok=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ak(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),sk=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),ak=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,s_(r))||this)._path=r,i.type="collection",i}return(0,Ip.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new ok(this.firestore,null,new _b(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(sk);function uk(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,kp.getModularInstance)(t),YA("collection","path",e),t instanceof ik)return ZA(n=ob.fromString.apply(ob,(0,Ip.__spreadArray)([e],r))),new ak(t,null,n);if(!(t instanceof ok||t instanceof ak))throw new jy(Fy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ZA(n=ob.fromString.apply(ob,(0,Ip.__spreadArray)([t.path],r)).child(ob.fromString(e))),new ak(t.firestore,null,n)}function ck(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,kp.getModularInstance)(t),1===arguments.length&&(e=Yy.u()),YA("doc","path",e),t instanceof ik)return JA(n=ob.fromString.apply(ob,(0,Ip.__spreadArray)([e],r))),new ok(t,null,new _b(n));if(!(t instanceof ok||t instanceof ak))throw new jy(Fy.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return JA(n=t._path.child(ob.fromString.apply(ob,(0,Ip.__spreadArray)([e],r)))),new ok(t.firestore,t instanceof ak?t.converter:null,new _b(n))}function lk(t,e){return t=(0,kp.getModularInstance)(t),e=(0,kp.getModularInstance)(e),(t instanceof ok||t instanceof ak)&&(e instanceof ok||e instanceof ak)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function hk(t,e){return t=(0,kp.getModularInstance)(t),e=(0,kp.getModularInstance)(e),t instanceof sk&&e instanceof sk&&t.firestore===e.firestore&&g_(t._query,e._query)&&t.converter===e.converter}var fk=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new qx(this,"async_queue_retry"),this.Ic=function(){var e=jx();e&&By("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=jx();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=jx();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new PC;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e=this;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!RC(t=n.sent()))throw t;return By("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Vy("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=yI.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Wy()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function dk(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var pk=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new PC,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),gk=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new fk,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Ip.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||vk(this),this._firestoreClient.terminate()},e}(ik);function mk(t){return t._firestoreClient||vk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vk(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new qA(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new EA(t._credentials,t._queue,r)}function yk(t,e,n){var r=this,i=new PC;return t.asyncQueue.enqueue(function(){return(0,Ip.__awaiter)(r,void 0,void 0,function(){var r;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,TA(t,n)];case 1:return o.sent(),[4,PA(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Fy.FAILED_PRECONDITION||t.code===Fy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function bk(t){if(t._initialized||t._terminated)throw new jy(Fy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var _k=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new jy(Fy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ab(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),wk=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(cb.fromBase64String(e))}catch(e){throw new jy(Fy.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(cb.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Ck=function(t){this._methodName=t},Sk=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new jy(Fy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new jy(Fy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Qy(this._lat,t._lat)||Qy(this._long,t._long)},t}(),xk=/^__.*__$/,Ik=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new K_(t,this.data,this.fieldMask,e,this.fieldTransforms):new G_(t,this.data,e,this.fieldTransforms)},t}(),Ak=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new K_(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function kk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wy()}}var Ek=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return $k(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(kk(this.Nc)&&xk.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Tk=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Ux(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Ek({Nc:t,methodName:e,qc:n,path:ab.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Pk(t){var e=t._freezeSettings(),n=Ux(t._databaseId);return new Tk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Nk(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);zk("Data must be an object, but it was:",s,r);var a,u,c=Vk(r,s);if(o.merge)a=new ub(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Wk(e,f[h],n);if(!s.contains(d))throw new jy(Fy.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Yk(l,d)||l.push(d)}a=new ub(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new Ik(new Mb(c),a,u)}var Ok=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ip.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ck);function Lk(t,e,n){return new Ek({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Dk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ip.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new R_(t.path,new E_)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ck),Mk=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Ip.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=Lk(this,t,!0),n=this.Kc.map(function(t){return Bk(t,e)}),r=new T_(n);return new R_(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ck),Rk=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,Ip.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=Lk(this,t,!0),n=this.Kc.map(function(t){return Bk(t,e)}),r=new N_(n);return new R_(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Ck),Fk=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,Ip.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new L_(t.R,S_(t.R,this.Qc));return new R_(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Ck);function jk(t,e,n,r){var i=t.Uc(1,e,n);zk("Data must be an object, but it was:",i,r);var o=[],s=Mb.empty();nb(r,function(t,r){var a=Kk(e,t,n);r=(0,kp.getModularInstance)(r);var u=i.Oc(a);if(r instanceof Ok)o.push(a);else{var c=Bk(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new ub(o);return new Ak(s,a,i.fieldTransforms)}function Uk(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[Wk(e,r,n)],u=[i];if(o.length%2!=0)throw new jy(Fy.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(Wk(e,o[c])),u.push(o[c+1]);for(var l=[],h=Mb.empty(),f=a.length-1;f>=0;--f)if(!Yk(l,a[f])){var d=a[f],p=u[f];p=(0,kp.getModularInstance)(p);var g=s.Oc(d);if(p instanceof Ok)l.push(d);else{var m=Bk(p,g);null!=m&&(l.push(d),h.set(d,m))}}var v=new ub(l);return new Ak(h,v,s.fieldTransforms)}function qk(t,e,n,r){return void 0===r&&(r=!1),Bk(n,t.Uc(r?4:3,e))}function Bk(t,e){if(Hk(t=(0,kp.getModularInstance)(t)))return zk("Unsupported field value:",e,t),Vk(t,e);if(t instanceof Ck)return function(t,e){if(!kk(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Bk(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,kp.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return S_(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Zy.fromDate(t);return{timestampValue:Nw(e.R,n)}}if(t instanceof Zy)return n=new Zy(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Nw(e.R,n)};if(t instanceof Sk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof wk)return{bytesValue:Ow(e.R,t._byteString)};if(t instanceof ok){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Mw(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+tk(t))}(t,e)}function Vk(t,e){var n={};return rb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nb(t,function(t,r){var i=Bk(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Hk(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Zy||t instanceof Sk||t instanceof wk||t instanceof ok||t instanceof Ck)}function zk(t,e,n){if(!Hk(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=tk(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Wk(t,e,n){if((e=(0,kp.getModularInstance)(e))instanceof _k)return e._internalPath;if("string"==typeof e)return Kk(t,e);throw $k("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Gk=new RegExp("[~\\*/\\[\\]]");function Kk(t,e,n){if(e.search(Gk)>=0)throw $k("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(_k.bind.apply(_k,(0,Ip.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(YE){throw $k("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function $k(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new jy(Fy.INVALID_ARGUMENT,(a+=". ")+t+u)}function Yk(t,e){return t.some(function(t){return t.isEqual(e)})}var Qk=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ok(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Jk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Xk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ip.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Qk);function Jk(t,e){return"string"==typeof e?Kk(t,e):e instanceof _k?e._internalPath:e._delegate._internalPath}var Zk=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),tE=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,Ip.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new eE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Jk("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Qk),eE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ip.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(tE),nE=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Zk(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new eE(n._firestore,n._userDataWriter,r.key,r,new Zk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new jy(Fy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new eE(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Zk(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new eE(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Zk(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:rE(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function rE(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wy()}}function iE(t,e){return t instanceof tE&&e instanceof tE?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof nE&&e instanceof nE&&t._firestore===e._firestore&&hk(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function oE(t){if(u_(t)&&0===t.explicitOrderBy.length)throw new jy(Fy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sE=function(){};function aE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var uE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,Ip.__extends)(e,t),e.prototype._apply=function(t){var e=Pk(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new jy(Fy.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){gE(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(pE(r,t,l[c]));a={arrayValue:{values:u}}}else a=pE(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||gE(s,o),a=qk(n,"where",s,"in"===o||"not-in"===o);var h=Hb.create(i,o,a);return function(t,e){if(e.g()){var n=l_(t);if(null!==n&&!n.isEqual(e.field))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=c_(t);null!==r&&mE(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new jy(Fy.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new sk(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new i_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(sE),cE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,Ip.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new t_(e,n);return function(t,e){if(null===c_(t)){var n=l_(t);null!==n&&mE(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new sk(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new i_(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(sE),lE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,Ip.__extends)(e,t),e.prototype._apply=function(t){return new sk(t.firestore,t.converter,p_(t._query,this.Hc,this.Jc))},e}(sE),hE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Ip.__extends)(e,t),e.prototype._apply=function(t){var e=dE(t,this.type,this.Yc,this.Xc);return new sk(t.firestore,t.converter,function(t,e){return new i_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(sE),fE=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,Ip.__extends)(e,t),e.prototype._apply=function(t){var e=dE(t,this.type,this.Yc,this.Xc);return new sk(t.firestore,t.converter,function(t,e){return new i_(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(sE);function dE(t,e,n,r){if(n[0]=(0,kp.getModularInstance)(n[0]),n[0]instanceof Qk)return function(t,e,n,r,i){if(!r)throw new jy(Fy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=f_(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Eb(e,r.key));else{var c=r.data.field(u.field);if(pb(c))throw new jy(Fy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Jb(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Pk(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new jy(Fy.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!h_(t)&&-1!==c.indexOf("/"))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ob.fromString(c));if(!_b.isDocumentKey(l))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new _b(l);a.push(Eb(e,h))}else{var f=qk(n,r,c);a.push(f)}}return new Jb(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function pE(t,e,n){if("string"==typeof(n=(0,kp.getModularInstance)(n))){if(""===n)throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!h_(e)&&-1!==n.indexOf("/"))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ob.fromString(n));if(!_b.isDocumentKey(r))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Eb(t,new _b(r))}if(n instanceof ok)return Eb(t,n._key);throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+tk(n)+".")}function gE(t,e){if(!Array.isArray(t)||0===t.length)throw new jy(Fy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new jy(Fy.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function mE(t,e,n){if(!n.isEqual(e))throw new jy(Fy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var vE=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),wb(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fb(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(db(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Wy()}},t.prototype.convertObject=function(t,e){var n=this,r={};return nb(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Sk(fb(t.latitude),fb(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=gb(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(mb(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=hb(t);return new Zy(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ob.fromString(t);Gy(sC(n));var r=new BA(n.get(1),n.get(3)),i=new _b(n.popFirst(5));return r.isEqual(e)||Vy("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function yE(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var bE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ip.__extends)(e,t),e.prototype.convertBytes=function(t){return new wk(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new ok(this.firestore,null,e)},e}(vE),_E=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Pk(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=wE(t,this._firestore),i=yE(r.converter,e,n),o=Nk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,j_.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=wE(t,this._firestore);return o="string"==typeof(e=(0,kp.getModularInstance)(e))||e instanceof _k?Uk(this._dataReader,"WriteBatch.update",s._key,e,n,r):jk(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,j_.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=wE(t,this._firestore);return this._mutations=this._mutations.concat(new Z_(e._key,j_.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new jy(Fy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function wE(t,e){if((t=(0,kp.getModularInstance)(t)).firestore!==e)throw new jy(Fy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var CE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ip.__extends)(e,t),e.prototype.convertBytes=function(t){return new wk(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new ok(this.firestore,null,e)},e}(vE);function SE(t,e,n){t=ek(t,ok);var r=ek(t.firestore,gk),i=yE(t.converter,e,n);return AE(r,[Nk(Pk(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,j_.none())])}function xE(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ek(t,ok);var o=ek(t.firestore,gk),s=Pk(o);return AE(o,[("string"==typeof(e=(0,kp.getModularInstance)(e))||e instanceof _k?Uk(s,"updateDoc",t._key,e,n,r):jk(s,"updateDoc",t._key,e)).toMutation(t._key,j_.exists(!0))])}function IE(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,kp.getModularInstance)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||dk(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(dk(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof ok)c=ek(t.firestore,gk),l=s_(t._key.path),u={next:function(e){i[a]&&i[a](kE(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=ek(t,sk);c=ek(d.firestore,gk),l=d._query;var p=new CE(c);u={next:function(t){i[a]&&i[a](new nE(c,p,d,t))},error:i[a+1],complete:i[a+2]},oE(t._query)}return function(t,e,n,r){var i=this,o=new xA(r),s=new PI(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(i,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return e=II,[4,FA(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(i,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return e=AI,[4,FA(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(mk(c),l,h,u)}function AE(t,e){return function(t,e){var n=this,r=new PC;return t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(n,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return n=zI,[4,RA(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(mk(t),e)}function kE(t,e,n){var r=n.docs.get(e._key),i=new CE(t);return new tE(t,i,e._key,r,new Zk(n.hasPendingWrites,n.fromCache),e.converter)}var EE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Ip.__extends)(e,t),e.prototype.get=function(e){var n=this,r=wE(e,this._firestore),i=new CE(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new tE(n._firestore,i,r._key,t._document,new Zk(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Pk(t)}return t.prototype.get=function(t){var e=this,n=wE(t,this._firestore),r=new bE(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Wy();var i=t[0];if(i.isFoundDocument())return new Qk(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Qk(e._firestore,r,n._key,null,n.converter);throw Wy()})},t.prototype.set=function(t,e,n){var r=wE(t,this._firestore),i=yE(r.converter,e,n),o=Nk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=wE(t,this._firestore);return o="string"==typeof(e=(0,kp.getModularInstance)(e))||e instanceof _k?Uk(this._dataReader,"Transaction.update",s._key,e,n,r):jk(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=wE(t,this._firestore);return this._transaction.delete(e._key),this},t}());function TE(){if("undefined"==typeof Uint8Array)throw new jy(Fy.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function PE(){if("undefined"==typeof atob)throw new jy(Fy.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var NE=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return PE(),new t(wk.fromBase64String(e))},t.fromUint8Array=function(e){return TE(),new t(wk.fromUint8Array(e))},t.prototype.toBase64=function(){return PE(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return TE(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),OE=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){bk(t=ek(t,gk));var n=mk(t),r=t._freezeSettings(),i=new CA;return yk(n,i,new _A(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){bk(t=ek(t,gk));var e=mk(t),n=t._freezeSettings(),r=new CA;return yk(e,r,new wA(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new jy(Fy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new PC;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Ip.__awaiter)(e,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return LC.yt()?[4,LC.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(zS(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),LE=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof BA||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Hy("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=ek(t,ik))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Hy("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=wx.MOCK_USER;else{s=(0,kp.createMockUserToken)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new jy(Fy.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new wx(u)}t._credentials=new WA(new HA(s,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ip.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,LA(t)];case 1:return e=r.sent(),[4,MA(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Ky(t);return e.Or.delete(0),Kx(e)}(n))]}})})})}(mk(ek(this._delegate,gk)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Ip.__awaiter)(e,void 0,void 0,function(){var e,n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,LA(t)];case 1:return e=r.sent(),[4,MA(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return(e=Ky(t)).Or.add(0),[4,$x(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(mk(ek(this._delegate,gk)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&XA("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new PC;return t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(e,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return e=QI,[4,RA(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(mk(ek(this._delegate,gk)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new xA(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(n,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ky(t).Gr.add(e),e.next()},[4,FA(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(n,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){Ky(t).Gr.delete(e)},[4,FA(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(mk(t=ek(t,gk)),dk(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new jy(Fy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new KE(this,uk(this._delegate,t))}catch(t){throw UE(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new jE(this,ck(this._delegate,t))}catch(t){throw UE(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new zE(this,function(t,e){if(t=ek(t,ik),YA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new jy(Fy.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new sk(t,null,function(t){return new i_(ob.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw UE(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new PC;return t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(n,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return[4,function(t){return OA(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new kA(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(mk(t),function(n){return e(new EE(t,n))})}(this._delegate,function(n){return t(new ME(e,n))})},t.prototype.batch=function(){var t=this;return mk(this._delegate),new RE(new _E(this._delegate,function(e){return AE(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new jy(Fy.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new jy(Fy.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),DE=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Ip.__extends)(e,t),e.prototype.convertBytes=function(t){return new NE(new wk(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return jE.eu(e,this.firestore,null)},e}(vE),ME=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new DE(t)}return t.prototype.get=function(t){var e=this,n=$E(t);return this._delegate.get(n).then(function(t){return new VE(e._firestore,new tE(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=$E(t);return n?(QA("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=$E(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Ip.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=$E(t);return this._delegate.delete(e),this},t}(),RE=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=$E(t);return n?(QA("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=$E(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Ip.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=$E(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),FE=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new eE(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new HE(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new DE(e),n),i.set(n,o)),o},t}();FE.su=new WeakMap;var jE=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new DE(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new jy(Fy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new ok(n._delegate,r,new _b(e)))},t.eu=function(e,n,r){return new t(n,new ok(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new KE(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new KE(this.firestore,uk(this._delegate,t))}catch(t){throw UE(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,kp.getModularInstance)(t))instanceof ok&&lk(this._delegate,t)},t.prototype.set=function(t,e){e=QA("DocumentReference.set",e);try{return e?SE(this._delegate,t,e):SE(this._delegate,t)}catch(t){throw UE(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xE(this._delegate,t):xE.apply(void 0,(0,Ip.__spreadArray)([this._delegate,t,e],n))}catch(t){throw UE(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return AE(ek((t=this._delegate).firestore,gk),[new Z_(t._key,j_.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qE(e),i=BE(e,function(e){return new VE(t.firestore,new tE(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return IE(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ek(t,ok);var e=ek(t.firestore,gk),n=mk(e),r=new CE(e);return function(t,e){var n=this,r=new PC;return t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(n,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Ky(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new jy(Fy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=bI(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,DA(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new tE(e,r,t._key,n,new Zk(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ek(t,ok);var e=ek(t.firestore,gk);return jA(mk(e),t._key,{source:"server"}).then(function(n){return kE(e,t,n)})}(this._delegate):function(t){t=ek(t,ok);var e=ek(t.firestore,gk);return jA(mk(e),t._key).then(function(n){return kE(e,t,n)})}(this._delegate)).then(function(t){return new VE(e.firestore,new tE(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?FE.nu(this.firestore,e):null))},t}();function UE(t,e,n){return t.message=t.message.replace(e,n),t}function qE(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!dk(r))return r}return{}}function BE(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=dk(t[0])?t[0]:dk(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var VE=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new jE(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return iE(this._delegate,t._delegate)},t}(),HE=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Ip.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(VE),zE=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new DE(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,aE(this._delegate,function(t,e,n){var r=e,i=Jk("where",t);return new uE(i,r,n)}(e,n,r)))}catch(e){throw UE(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,aE(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Jk("orderBy",t);return new cE(r,n)}(e,n)))}catch(e){throw UE(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,aE(this._delegate,function(t){return nk("limit",t),new lE("limit",t,"F")}(e)))}catch(e){throw UE(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,aE(this._delegate,function(t){return nk("limitToLast",t),new lE("limitToLast",t,"L")}(e)))}catch(e){throw UE(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,aE(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hE("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw UE(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,aE(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hE("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw UE(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,aE(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fE("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw UE(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,aE(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fE("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw UE(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return hk(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ek(t,sk);var e=ek(t.firestore,gk),n=mk(e),r=new CE(e);return function(t,e){var n=this,r=new PC;return t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(n,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,Ip.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,ox(t,e,!0)];case 1:return a=u.sent(),r=new FI(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=bI(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,DA(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new nE(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ek(t,sk);var e=ek(t.firestore,gk),n=mk(e),r=new CE(e);return UA(n,t._query,{source:"server"}).then(function(n){return new nE(e,r,t,n)})}(this._delegate):function(t){t=ek(t,sk);var e=ek(t.firestore,gk),n=mk(e),r=new CE(e);return oE(t._query),UA(n,t._query).then(function(n){return new nE(e,r,t,n)})}(this._delegate)).then(function(t){return new GE(e.firestore,new nE(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=qE(e),i=BE(e,function(e){return new GE(t.firestore,new nE(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return IE(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?FE.nu(this.firestore,e):null))},t}(),WE=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new HE(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),GE=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new zE(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new HE(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new WE(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new HE(n._firestore,r))})},t.prototype.isEqual=function(t){return iE(this._delegate,t._delegate)},t}(),KE=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Ip.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new jE(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new jE(this.firestore,void 0===t?ck(this._delegate):ck(this._delegate,t))}catch(t){throw UE(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ek(t.firestore,gk),r=ck(t),i=yE(t.converter,e);return AE(n,[Nk(Pk(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,j_.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new jE(e.firestore,t)})},e.prototype.isEqual=function(t){return lk(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?FE.nu(this.firestore,t):null))},e}(zE);function $E(t){return ek(t,ok)}var YE,QE,XE=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(_k.bind.apply(_k,(0,Ip.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(ab.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,kp.getModularInstance)(t))instanceof _k&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),JE=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Dk("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Ok("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Mk("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Rk("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Fk("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),ZE=n(5119),tT={Firestore:LE,GeoPoint:Sk,Timestamp:Zy,Blob:NE,Transaction:ME,WriteBatch:RE,DocumentReference:jE,DocumentSnapshot:VE,Query:zE,QueryDocumentSnapshot:HE,QuerySnapshot:GE,CollectionReference:KE,FieldPath:XE,FieldValue:JE,setLogLevel:function(t){Uy.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new ZE.Component("firestore",function(t){return function(t,e){return new LE(t,new gk(t,e),new OE)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},tT)))})(YE=Ap.default),YE.registerVersion("@firebase/firestore","2.4.1"),(QE=LE).prototype.loadBundle=function(t){return function(t,e){var n=mk(t=ek(t,gk)),r=new pk;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new IA(t,e)}(function(t,e){if(t instanceof Uint8Array)return SA(t,e);if(t instanceof ArrayBuffer)return SA(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,Ux(e));t.asyncQueue.enqueueAndForget(function(){return(0,Ip.__awaiter)(i,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return e=yA,[4,RA(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}})})})}(n,t._databaseId,e,r),r}(this._delegate,t)},QE.prototype.namedQuery=function(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return(0,Ip.__awaiter)(n,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=Ky(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Ke.getNamedQuery(t,e)})},[4,DA(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(mk(e=ek(e,gk)),n).then(function(t){return t?new sk(e,null,t.query):null})).then(function(t){return t?new zE(r,t):null})};var eT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},nT=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return(0,Ip.__extends)(e,t),e}(Error),rT=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function iT(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var oT,sT,aT,uT=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return iT(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?iT(t,function(t){return e.decode(t)}):t},t}(),cT=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new uT,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new rT(e,n),this.cancelAllRequests=new Promise(function(t){s.deleteService=function(){return t()}});try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(YE){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},t.prototype.getAppCheckToken=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h,f;return(0,Ip.__generator)(this,function(d){switch(d.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=d.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new nT("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(n.timeout||7e4),u=a.timer,c=a.promise,[4,Promise.race([lT(u,this.postJSON(r,i,o)),c,lT(u,this.cancelAllRequests)])];case 2:if(!(l=d.sent()))throw new nT("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!eT[a])return new nT("internal","internal");r=eT[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(YE){}return"ok"===r?null:new nT(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new nT("internal","Response is not valid JSON object.");if(void 0===(f=l.json.data)&&(f=l.json.result),void 0===f)throw new nT("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}})})},t}();function lT(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}oT=Ap.default,sT=fetch.bind(self),aT={Functions:cT},oT.INTERNAL.registerComponent(new ZE.Component("functions",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new cT(r,i,s,o,n,sT)},"PUBLIC").setServiceProps(aT).setMultipleInstances(!0)),Ap.default.registerVersion("@firebase/functions","0.6.16");var hT,fT=n(2087),dT="w:0.4.32",pT=((hT={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',hT["not-registered"]="Firebase Installation is not registered.",hT["installation-not-found"]="Firebase Installation not found.",hT["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',hT["app-offline"]="Could not process request. Application offline.",hT["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",hT),gT=new kp.ErrorFactory("installations","Installations",pT);function mT(t){return t instanceof kp.FirebaseError&&t.code.includes("request-failed")}function vT(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function yT(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function bT(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,gT.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function _T(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function wT(t,e){var n=e.refreshToken,r=_T(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function CT(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function ST(t,e){var n=e.fid;return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,r,i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:return e=vT(t),r=_T(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:dT})},[4,CT(function(){return fetch(e,i)})];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:yT(s.authToken)}];case 3:return[4,bT("Create Installation",o)];case 4:throw a.sent()}})})}function xT(t){return new Promise(function(e){setTimeout(e,t)})}var IT=/^[cdef][\w-]{21}$/;function AT(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,(0,Ip.__spreadArray)([],(0,Ip.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return IT.test(e)?e:""}catch(Nk){return""}}function kT(t){return t.appName+"!"+t.appId}var ET=new Map;function TT(t,e){var n=kT(t);PT(n,e),function(t,e){var n=OT();n&&n.postMessage({key:t,fid:e}),LT()}(n,e)}function PT(t,e){var n,r,i=ET.get(t);if(i)try{for(var o=(0,Ip.__values)(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var NT=null;function OT(){return!NT&&"BroadcastChannel"in self&&((NT=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){PT(t.data.key,t.data.fid)}),NT}function LT(){0===ET.size&&NT&&(NT.close(),NT=null)}var DT,MT="firebase-installations-store",RT=null;function FT(){return RT||(RT=(0,fT.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(MT)}})),RT}function jT(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:return n=kT(t),[4,FT()];case 1:return r=a.sent(),i=r.transaction(MT,"readwrite"),[4,(o=i.objectStore(MT)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||TT(t,e.fid),[2,e]}})})}function UT(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return e=kT(t),[4,FT()];case 1:return n=i.sent(),[4,(r=n.transaction(MT,"readwrite")).objectStore(MT).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function qT(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Ip.__generator)(this,function(u){switch(u.label){case 0:return n=kT(t),[4,FT()];case 1:return r=u.sent(),i=r.transaction(MT,"readwrite"),[4,(o=i.objectStore(MT)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||TT(t,a.fid),[2,a]}})})}function BT(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return[4,qT(t,function(n){var r=function(t){return zT(t||{fid:AT(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(gT.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,ST(t,e)];case 1:return n=i.sent(),[2,jT(t,n)];case 2:return mT(r=i.sent())&&409===r.customData.serverCode?[4,UT(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,jT(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:VT(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function VT(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return[4,HT(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,xT(100)];case 3:return o.sent(),[4,HT(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,BT(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}function HT(t){return qT(t,function(t){if(!t)throw gT.create("installation-not-found");return zT(t)})}function zT(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function WT(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,i,o,s,a;return(0,Ip.__generator)(this,function(u){switch(u.label){case 0:return t=function(t,e){var n=e.fid;return vT(t)+"/"+n+"/authTokens:generate"}(n,e),i=wT(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:dT}})},[4,CT(function(){return fetch(t,s)})];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,yT(u.sent())];case 3:return[4,bT("Generate Auth Token",a)];case 4:throw u.sent()}})})}function GT(t,e){return void 0===e&&(e=!1),(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return[4,qT(t.appConfig,function(r){if(!$T(r))throw gT.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return[4,KT(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,xT(100)];case 3:return i.sent(),[4,KT(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,GT(t,e)]:[2,r]}})})}(t,e),r;if(!navigator.onLine)throw gT.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return(0,Ip.__assign)((0,Ip.__assign)({},t),{authToken:e})}(r);return n=function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,WT(t,e)];case 1:return n=o.sent(),i=(0,Ip.__assign)((0,Ip.__assign)({},e),{authToken:n}),[4,jT(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!mT(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,UT(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,Ip.__assign)((0,Ip.__assign)({},e),{authToken:{requestStatus:0}}),[4,jT(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,s),s})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function KT(t){return qT(t,function(t){if(!$T(t))throw gT.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?(0,Ip.__assign)((0,Ip.__assign)({},t),{authToken:{requestStatus:0}}):t})}function $T(t){return void 0!==t&&2===t.registrationStatus}function YT(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return[4,BT(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function QT(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return vT(t)+"/"+n}(t,e),r=wT(t,e),i={method:"DELETE",headers:r},[4,CT(function(){return fetch(n,i)})];case 1:return(o=s.sent()).ok?[3,3]:[4,bT("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function XT(t){return gT.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new ZE.Component("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw XT("App Configuration");if(!t.name)throw XT("App Name");try{for(var r=(0,Ip.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw XT(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return[4,BT(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):GT(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return[4,YT(t.appConfig)];case 1:return n.sent(),[4,GT(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,qT(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw gT.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw gT.create("app-offline");case 3:return[4,QT(e,n)];case 4:return r.sent(),[4,UT(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){OT();var n=kT(t),r=ET.get(n);r||(r=new Set,ET.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=kT(t),r=ET.get(n);r&&(r.delete(e),0===r.size&&ET.delete(n),LT())}(n,e)}}(n,t)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.32")}(Ap.default);var JT=((DT={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',DT["only-available-in-window"]="This method is available in a Window context.",DT["only-available-in-sw"]="This method is available in a service worker context.",DT["permission-default"]="The notification permission was not granted and dismissed instead.",DT["permission-blocked"]="The notification permission was not granted and blocked instead.",DT["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",DT["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",DT["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",DT["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",DT["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",DT["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",DT["token-update-no-token"]="FCM returned no token when updating the user to push.",DT["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",DT["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",DT["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",DT["invalid-vapid-key"]="The public VAPID key must be a string.",DT["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",DT),ZT=new kp.ErrorFactory("messaging","Messaging",JT),tP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eP=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function nP(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,(0,Ip.__spreadArray)([],(0,Ip.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rP(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var iP="fcm_token_details_db",oP="fcm_token_object_Store";function sP(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map(function(t){return t.name}).includes(iP))return[2,null];r.label=2;case 2:return e=null,[4,(0,fT.openDb)(iP,5,function(r){return(0,Ip.__awaiter)(n,void 0,void 0,function(){var n,i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(oP)?[4,(n=r.transaction.objectStore(oP)).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:nP(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:nP(o.auth),p256dh:nP(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:nP(o.vapidKey)}});return[2]}})})})];case 3:return r.sent().close(),[4,(0,fT.deleteDb)(iP)];case 4:return r.sent(),[4,(0,fT.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,(0,fT.deleteDb)("undefined")];case 6:return r.sent(),[2,aP(e)?e:null]}})})}function aP(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var uP="firebase-messaging-store",cP=null;function lP(){return cP||(cP=(0,fT.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(uP)}})),cP}function hP(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return e=pP(t),[4,lP()];case 1:return[4,i.sent().transaction(uP).objectStore(uP).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,sP(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,fP(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function fP(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return n=pP(t),[4,lP()];case 1:return r=o.sent(),[4,(i=r.transaction(uP,"readwrite")).objectStore(uP).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function dP(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return e=pP(t),[4,lP()];case 1:return n=i.sent(),[4,(r=n.transaction(uP,"readwrite")).objectStore(uP).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function pP(t){return t.appConfig.appId}function gP(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:return[4,bP(t)];case 1:n=a.sent(),r=_P(e),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(yP(t.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),ZT.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw ZT.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw ZT.create("token-subscribe-no-token");return[2,o.token]}})})}function mP(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:return[4,bP(t)];case 1:n=a.sent(),r=_P(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(yP(t.appConfig)+"/"+e.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),ZT.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw ZT.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw ZT.create("token-update-no-token");return[2,o.token]}})})}function vP(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:return[4,bP(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(yP(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw ZT.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),ZT.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function yP(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function bP(t){var e=t.appConfig,n=t.installations;return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function _P(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==tP&&(n.web.applicationPubKey=e),n}function wP(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw ZT.create("permission-blocked");return[4,IP(e,n)];case 1:return r=a.sent(),[4,hP(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:nP(r.getKey("auth")),p256dh:nP(r.getKey("p256dh"))},i?[3,3]:[2,xP(t,o)];case 3:if(l=(c=o).endpoint===(u=i.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,vP(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,xP(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,SP({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l})})}function CP(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return[4,hP(t)];case 1:return(n=i.sent())?[4,vP(t,n.token)]:[3,4];case 2:return i.sent(),[4,dP(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function SP(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,mP(e,t)];case 1:return r=s.sent(),i=(0,Ip.__assign)((0,Ip.__assign)({},t),{token:r,createTime:Date.now()}),[4,fP(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,CP(e,n)];case 4:throw s.sent(),o;case 5:return[2]}})})}function xP(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return[4,gP(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,fP(t,r)];case 2:return i.sent(),[2,r.token]}})})}function IP(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rP(e)})]}})})}function AP(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function kP(t){return new Promise(function(e){setTimeout(e,t)})}var EP=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw ZT.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,hP(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:tP,r.label=2;case 2:return[2,wP(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return CP(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw ZT.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw ZT.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw ZT.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw ZT.create("only-available-in-window")},t.prototype.onMessage=function(){throw ZT.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw ZT.create("only-available-in-window")},t.prototype.onPush=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,OP()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,NP(n,e)]:(r=!1,e.notification?[4,LP(TP(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,kP(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,CP(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,hP(this.firebaseDependencies)];case 3:return r=i.sent(),[4,CP(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,wP(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:tP)];case 5:return i.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,Ip.__generator)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(AP(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,PP(o)]):[2]):[2];case 1:return(a=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=u.sent(),[4,kP(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=u.sent(),u.label=6;case 6:return a?(r.messageType=eP.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}})})},t}();function TP(t){var e,n=(0,Ip.__assign)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function PP(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,s,a;return(0,Ip.__generator)(this,function(u){switch(u.label){case 0:return[4,OP()];case 1:e=u.sent();try{for(n=(0,Ip.__values)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(c){s={error:c}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}})})}function NP(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=eP.PUSH_RECEIVED;try{for(var i=(0,Ip.__values)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function OP(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function LP(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var DP=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===eP.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),AP(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw ZT.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,wP(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=tP),[2]})})},t.prototype.updateSwReg=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw ZT.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),ZT.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,CP(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw ZT.create("denied"===t?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw ZT.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw ZT.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw ZT.create("invalid-sw-registration");if(this.swRegistration)throw ZT.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw ZT.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw ZT.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return n=function(t){switch(t){case eP.NOTIFICATION_CLICKED:return"notification_open";case eP.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function MP(t){return ZT.create("missing-app-config-values",{valueName:t})}var RP={isSupported:FP};function FP(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Ap.default.INTERNAL.registerComponent(new ZE.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw MP("App Configuration Object");if(!t.name)throw MP("App Name");var r=t.options;try{for(var i=(0,Ip.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw MP(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!FP())throw ZT.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new EP(n):new DP(n)},"PUBLIC").setServiceProps(RP));var jP="firebasestorage.googleapis.com",UP=function(t){function e(n,r){var i=t.call(this,qP(n),"Firebase Storage: "+r+" ("+qP(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,Ip.__extends)(e,t),e.prototype._codeEquals=function(t){return qP(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(kp.FirebaseError);function qP(t){return"storage/"+t}function BP(){return new UP("unknown","An unknown error occurred, please check the error payload for server response.")}function VP(){return new UP("canceled","User canceled the upload/download.")}function HP(){return new UP("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function zP(t){return new UP("invalid-argument",t)}function WP(){return new UP("app-deleted","The Firebase app was deleted.")}function GP(t){return new UP("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function KP(t,e){return new UP("invalid-format","String does not match format '"+t+"': "+e)}function $P(t){throw new UP("internal-error","Internal error: "+t)}var YP={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},QP=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function XP(t,e){switch(t){case YP.RAW:return new QP(JP(e));case YP.BASE64:case YP.BASE64URL:return new QP(ZP(t,e));case YP.DATA_URL:return new QP((n=new tN(e)).base64?ZP(YP.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(YE){throw KP(YP.DATA_URL,"Malformed data URL.")}return JP(e)}(n.rest),new tN(e).contentType)}var n;throw BP()}function JP(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ZP(t,e){switch(t){case YP.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw KP(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case YP.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw KP(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(YE){throw KP(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var tN=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw KP(YP.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),eN={STATE_CHANGED:"state_changed"},nN={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function rN(t){switch(t){case"running":case"pausing":case"canceling":return nN.RUNNING;case"paused":return nN.PAUSED;case"success":return nN.SUCCESS;case"canceled":return nN.CANCELED;case"error":default:return nN.ERROR}}var iN=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),oN=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=iN.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=iN.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=iN.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw $P("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw $P("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw $P("cannot .getStatus() before sending");try{return this.xhr_.status}catch(YE){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw $P("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),sN=function(){function t(){}return t.prototype.createConnection=function(){return new oN},t}(),aN=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(YE){return new t(e,"")}if(""===r.path)return r;throw new UP("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===jP?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var f=h[l.indices.path];f||(f=""),r=new t(h[l.indices.bucket],f),l.postModify(r);break}}if(null==r)throw function(t){return new UP("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),uN=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function cN(t){return"string"==typeof t||t instanceof String}function lN(t){return hN()&&t instanceof Blob}function hN(){return"undefined"!=typeof Blob}function fN(t,e,n,r){if(r<e)throw zP("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw zP("Invalid value for '"+t+"'. Expected "+n+" or less.")}function dN(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function pN(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var gN=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());!function(t){return void 0!==t}(a)?i():i(a)}catch(YE){o(YE)}else null!==s?((r=BP()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?WP():VP():new UP("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new mN(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new mN(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===iN.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new mN(s,r))}else{var a=r.getErrorCode()===iN.ABORT;e(!1,new mN(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,(0,Ip.__spreadArray)([null,t],e));else{var r;u()||s?l.call.apply(l,(0,Ip.__spreadArray)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),mN=function(){return function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}();function vN(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function yN(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=vN();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(hN())return new Blob(t);throw new UP("unsupported-environment","This browser doesn't seem to support creating Blobs")}var bN=function(){function t(t,e){var n=0,r="";lN(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(lN(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(hN()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(yN.apply(null,r))}var i=e.map(function(t){return cN(t)?XP(YP.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function _N(t){var e;try{e=JSON.parse(t)}catch(YE){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function wN(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function CN(t,e){return e}var SN=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||CN}}(),xN=null;function IN(){if(xN)return xN;var t=[];t.push(new SN("bucket")),t.push(new SN("generation")),t.push(new SN("metageneration")),t.push(new SN("name","fullPath",!0));var e=new SN("name");e.xform=function(t,e){return function(t){return!cN(t)||t.length<2?t:wN(t)}(e)},t.push(e);var n=new SN("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new SN("timeCreated")),t.push(new SN("updated")),t.push(new SN("md5Hash",null,!0)),t.push(new SN("cacheControl",null,!0)),t.push(new SN("contentDisposition",null,!0)),t.push(new SN("contentEncoding",null,!0)),t.push(new SN("contentLanguage",null,!0)),t.push(new SN("contentType",null,!0)),t.push(new SN("metadata","customMetadata",!0)),xN=t}function AN(t,e,n){var r=_N(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new aN(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function kN(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var EN=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function TN(t){if(!t)throw BP()}function PN(t,e){return function(n,r){var i=AN(t,r,e);return TN(null!==i),i}}function NN(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new UP("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new UP("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new UP("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new UP("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function ON(t){var e=NN(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new UP("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function LN(t,e,n){var r=dN(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new EN(r,"GET",PN(t,n),i);return o.errorHandler=ON(e),o}function DN(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var MN=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function RN(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(YE){TN(!1)}return TN(!!n&&-1!==(e||["active"]).indexOf(n)),n}var FN=262144,jN=function(){return function(t,e,n){if(function(t){return"function"==typeof t}(t)||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function UN(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var qN=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=IN(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=DN(e,r,i),a={name:s.fullPath},u=dN(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=kN(s,n),h=new EN(u,"POST",function(t){var e;RN(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(YE){TN(!1)}return TN(cN(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=NN(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new EN(n,"POST",function(t){var e=RN(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(YE){TN(!1)}n||TN(!1);var i=Number(n);return TN(!isNaN(i)),new MN(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=NN(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=FN*this._chunkMultiplier,n=new MN(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var u=new MN(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new UP("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},d=r.slice(h,h+l);if(null===d)throw HP();var p=new EN(n,"POST",function(t,n){var i,s=RN(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?PN(e,o)(t,n):null,new MN(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=NN(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(YE){return t._error=YE,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){FN*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=LN(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=DN(e,r,i),c=kN(u,n),l=bN.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw HP();var h={name:u.fullPath},f=dN(o,t.host),d=t.maxUploadRetryTime,p=new EN(f,"POST",PN(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=NN(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=VP(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=rN(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new jN(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(rN(this._state)){case nN.SUCCESS:UN(this._resolve.bind(null,this.snapshot))();break;case nN.CANCELED:case nN.ERROR:UN(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(rN(this._state)){case nN.RUNNING:case nN.PAUSED:t.next&&UN(t.next.bind(t,this.snapshot))();break;case nN.SUCCESS:t.complete&&UN(t.complete.bind(t))();break;case nN.CANCELED:case nN.ERROR:t.error&&UN(t.error.bind(t,this._error))();break;default:t.error&&UN(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),BN=function(){function t(t,e){this._service=t,this._location=e instanceof aN?e:aN.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new aN(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return wN(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new aN(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw GP(t)},t}();function VN(t){var e={prefixes:[],items:[]};return HN(t,e).then(function(){return e})}function HN(t,e,n){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var r,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:return[4,zN(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,HN(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function zN(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&fN("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=dN(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new EN(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=_N(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new aN(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new aN(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return TN(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=NN(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function WN(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new aN(t._location.bucket,n);return new BN(t.storage,r)}function GN(t){return/^[A-Za-z]+:\/\//.test(t)}function KN(t,e){if(t instanceof QN){var n=t;if(null==n._bucket)throw new UP("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new BN(n,n._bucket);return null!=e?KN(r,e):r}return void 0!==e?WN(t,e):t}function $N(t,e){if(e&&GN(e)){if(t instanceof QN)return new BN(t,e);throw zP("To use ref(service, url), the first argument must be a Storage instance.")}return KN(t,e)}function YN(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:aN.makeFromBucketSpec(n,t)}var QN=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=jP,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?aN.makeFromBucketSpec(i,this._host):YN(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?aN.makeFromBucketSpec(this._url,t):YN(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){fN("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){fN("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new BN(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new uN(WP());var i=function(t,e,n,r,i,o){var s=pN(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new gN(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function XN(t,e){return $N(t=(0,kp.getModularInstance)(t),e)}var JN=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),ZN=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new JN(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new JN(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new JN(t,i,i._ref))}:{next:e.next?function(t){return e.next(new JN(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),tO=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new eO(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new eO(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),eO=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return WN(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new ZN(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new qN(t,new bN(e),n)}(t=(0,kp.getModularInstance)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=YP.RAW),this._throwIfRoot("putString");var r=XP(e,t),i=(0,Ip.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new ZN(new qN(this._delegate,new bN(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return function(t){return VN(t=(0,kp.getModularInstance)(t))}(this._delegate).then(function(e){return new tO(e,t.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return zN(t=(0,kp.getModularInstance)(t),e)}(this._delegate,t||void 0).then(function(t){return new tO(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=LN(t.storage,t._location,IN()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,kp.getModularInstance)(t))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=dN(e.fullServerUrl(),t.host),o=kN(n,r),s=t.maxOperationRetryTime,a=new EN(i,"PATCH",PN(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=ON(e),a}(t.storage,t._location,e,IN()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,kp.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=dN(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new EN(r,"GET",function(t,e){return function(n,r){var i=AN(t,r,e);return TN(null!==i),function(t,e,n){var r=_N(e);if(null===r)return null;if(!cN(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return dN("/b/"+o(t.bucket)+"/o/"+o(r),n)+pN({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=ON(e),o}(t.storage,t._location,IN()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new UP("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=(0,kp.getModularInstance)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=dN(e.fullServerUrl(),t.host),r=new EN(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=ON(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,kp.getModularInstance)(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw GP(t)},t}(),nO=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(GN(t))throw zP("ref() expected a child path but got a URL, use refFromURL instead.");return new eO(XN(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!GN(t))throw zP("refFromURL() expected a full URL but got a child path, use ref() instead.");try{aN.makeFromUrl(t,this._delegate.host)}catch(YE){throw zP("refFromUrl() expected a valid full URL but got an invalid one.")}return new eO(XN(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"==typeof i?i:(0,kp.createMockUserToken)(i,t.app.options.projectId))}(t,e,n,r)}(this._delegate,t,e,n)},t}();function rO(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new nO(r,new QN(r,i,o,new sN,n,Ap.default.SDK_VERSION))}!function(t){var e={TaskState:nN,TaskEvent:eN,StringFormat:YP,Storage:QN,Reference:eO};t.INTERNAL.registerComponent(new ZE.Component("storage",rO,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.7.1")}(Ap.default);var iO,oO,sO,aO="0.4.18",uO=aO,cO="FB-PERF-TRACE-MEASURE",lO="_wt_",hO="_fcp",fO="_fid",dO="@firebase/performance/config",pO="@firebase/performance/configexpire",gO="Performance",mO=((iO={})["trace started"]="Trace {$traceName} was started before.",iO["trace stopped"]="Trace {$traceName} is not running.",iO["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",iO["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",iO["no window"]="Window is not available.",iO["no app id"]="App id is not available.",iO["no project id"]="Project id is not available.",iO["no api key"]="Api key is not available.",iO["invalid cc log"]="Attempted to queue invalid cc event",iO["FB not default"]="Performance can only start when Firebase app instance is the default one.",iO["RC response not ok"]="RC response is not ok",iO["invalid attribute name"]="Attribute name {$attributeName} is invalid.",iO["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",iO["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",iO["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",iO),vO=new kp.ErrorFactory("performance",gO,mO),yO=new Ep.Logger(gO);yO.logLevel=Ep.LogLevel.INFO;var bO,_O=function(){function t(t){if(this.window=t,!t)throw vO.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,kp.isIndexedDBAvailable)()||(yO.info("IndexedDB is not supported by current browswer"),!1):(yO.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===oO&&(oO=new t(sO)),oO},t}();function wO(t,e){var n=t.length-e.length;if(n<0||n>1)throw vO.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var CO,SO=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=wO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=wO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw vO.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw vO.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw vO.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===bO&&(bO=new t),bO},t}();function xO(){return CO}var IO=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),AO=["firebase_","google_","ga_"],kO=new RegExp("^[a-zA-Z]\\w*$");function EO(){var t=_O.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function TO(){switch(_O.getInstance().document.visibilityState){case"visible":return IO.VISIBLE;case"hidden":return IO.HIDDEN;default:return IO.UNKNOWN}}function PO(){var t=_O.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function NO(t){if(!t)return t;var e=SO.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=OO(e.tracesSamplingRate),e.logNetworkAfterSampling=OO(e.networkRequestsSamplingRate),t}function OO(t){return Math.random()<=t}var LO,DO=1;function MO(){return DO=2,LO=LO||function(){var t=_O.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(function(){return(t=SO.getInstance().installationsService.getId()).then(function(t){CO=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=_O.getInstance().localStorage;if(t){var e=t.getItem(pO);if(e&&Number(e)>Date.now()){var n=t.getItem(dO);if(n)try{return JSON.parse(n)}catch(Nk){return}}}}();return e?(NO(e),Promise.resolve()):function(t){return(e=SO.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+SO.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+SO.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:SO.getInstance().getAppId(),app_version:uO,sdk_version:"0.0.1"})});return fetch(r).then(function(t){if(t.ok)return t.json();throw vO.create("RC response not ok")})}).catch(function(){yO.info("Could not fetch config, will use default configs")});var e}(t).then(NO).then(function(t){return function(t){var e=_O.getInstance().localStorage;t&&e&&(e.setItem(dO,JSON.stringify(t)),e.setItem(pO,String(Date.now()+60*SO.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(t)}).then(function(){return RO()},function(){return RO()})}function RO(){DO=3}var FO,jO=1e4,UO=3,qO=[],BO=!1;function VO(t){setTimeout(function(){var t,e;if(0!==UO)return qO.length?(e=(t=qO.splice(0,1e3)).map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=SO.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||yO.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=jO;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(qO=(0,Ip.__spreadArray)((0,Ip.__spreadArray)([],e),qO),yO.info("Retry transport request later.")),UO=3,VO(r)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:SO.getInstance().logSource,log_event:e},t).catch(function(){qO=(0,Ip.__spreadArray)((0,Ip.__spreadArray)([],t),qO),UO--,yO.info("Tries left: "+UO+"."),VO(jO)})):VO(jO)},t)}function HO(t){if(!t.eventTime||!t.message)throw vO.create("invalid cc log");qO=(0,Ip.__spreadArray)((0,Ip.__spreadArray)([],qO),[t])}function zO(t,e){FO||(FO=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];HO({message:t.apply(void 0,e),eventTime:Date.now()})}}(KO)),FO(t,e)}function WO(t){var e=SO.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&_O.getInstance().requiredApisAvailable()&&(t.isAuto&&TO()!==IO.VISIBLE||(3===DO?GO(t):MO().then(function(){return GO(t)},function(){return GO(t)})))}function GO(t){if(xO()){var e=SO.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return zO(t,1)},0)}}function KO(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:$O(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:$O(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function $O(){return{google_app_id:SO.getInstance().getAppId(),app_instance_id:xO(),web_app_info:{sdk_version:uO,page_url:_O.getInstance().getUrl(),service_worker_status:EO(),visibility_state:TO(),effective_connection_type:PO()},application_process_state:0}}var YO=["_fp",hO,fO],QO=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=_O.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw vO.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw vO.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),WO(this)},t.prototype.record=function(t,e,n){if(t<=0)throw vO.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw vO.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=(0,Ip.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}WO(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(i=t).length||i.length>100||!(o&&o.startsWith(lO)&&YO.indexOf(i)>-1)&&i.startsWith("_"))throw vO.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&yO.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||AO.some(function(t){return n.startsWith(t)})||!n.match(kO)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw vO.create("invalid attribute name",{attributeName:t});if(!i)throw vO.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return(0,Ip.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=_O.getInstance().getUrl();if(i){var o=new t(lO+i,!0),s=Math.floor(1e3*_O.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find(function(t){return"first-paint"===t.name});a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find(function(t){return"first-contentful-paint"===t.name});u&&u.startTime&&o.putMetric(hO,Math.floor(1e3*u.startTime)),r&&o.putMetric(fO,Math.floor(1e3*r))}WO(o)}},t.createUserTimingTrace=function(e){WO(new t(e,!1,e))},t}();function XO(t){var e=t;if(e&&void 0!==e.responseStart){var n=_O.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=SO.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return zO(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function JO(){xO()&&(setTimeout(function(){return function(){var t=_O.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){QO.createOobTrace(e,n),r=void 0},5e3);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),QO.createOobTrace(e,n,t))})}else QO.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=_O.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)XO(n[e]);t.setupObserver("resource",XO)}()},0),setTimeout(function(){return function(){for(var t=_O.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)ZO(n[e]);t.setupObserver("measure",ZO)}()},0))}function ZO(t){var e=t.name;e.substring(0,cO.length)!==cO&&QO.createUserTimingTrace(e)}var tL=function(){function t(t){this.app=t,_O.getInstance().requiredApisAvailable()&&(0,kp.validateIndexedDBOpenable)().then(function(t){t&&(BO||(VO(5500),BO=!0),MO().then(JO,JO))}).catch(function(t){yO.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new QO(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return SO.getInstance().instrumentationEnabled},set:function(t){SO.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return SO.getInstance().dataCollectionEnabled},set:function(t){SO.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new ZE.Component("performance",function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw vO.create("FB not default");if("undefined"==typeof window)throw vO.create("no window");return function(t){sO=t}(window),SO.getInstance().firebaseAppInstance=t,SO.getInstance().installationsService=e,new tL(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance",aO)}(Ap.default);var eL,nL="https://www.googletagmanager.com/gtag/js",rL=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),iL=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),oL=new Ep.Logger("@firebase/analytics");function sL(t,e,n,r,i,o){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var s,a,u,c;return(0,Ip.__generator)(this,function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(u=a.find(function(t){return t.measurementId===i}))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),oL.error(c),[3,8];case 8:return t(rL.CONFIG,i,o),[2]}})})}function aL(t,e,n,r,i){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var o,s,a,u,c,l,h;return(0,Ip.__generator)(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),u=function(t){var n=a.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=s;c<l.length&&"break"!==u(l[c]);c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(rL.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),oL.error(h),[3,5];case 5:return[2]}})})}var uL=((eL={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",eL["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",eL["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",eL["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",eL["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",eL["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",eL["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",eL["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',eL["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',eL),cL=new kp.ErrorFactory("analytics","Analytics",uL),lL=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function hL(t){var e;return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Ip.__generator)(this,function(u){switch(u.label){case 0:return n=t.appId,r={method:"GET",headers:(c=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=u.sent()).status||304===o.status)return[3,6];s="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return a=u.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw cL.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}var c})})}function fL(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=lL),(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,s,a,u,c,l,h;return(0,Ip.__generator)(this,function(f){switch(f.label){case 0:e=t.appId,s=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,dL(n,i)];case 2:return f.sent(),[3,4];case 3:if(a=f.sent(),s)return oL.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return f.trys.push([4,6,,7]),[4,hL(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof kp.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),s)return oL.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c}return l=503===Number(c.customData.httpStatus)?(0,kp.calculateBackoffMillis)(o,r.intervalMillis,30):(0,kp.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),oL.debug("Calling attemptFetch again in "+l+" millis"),[2,fL(t,h,n,r)];case 7:return[2]}})})}function dL(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(cL.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var pL,gL,mL=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),vL={},yL=[],bL={},_L="dataLayer",wL="gtag",CL=!1;function SL(t){if(CL)throw cL.create("already-initialized");t.dataLayerName&&(_L=t.dataLayerName),t.gtagName&&(wL=t.gtagName)}var xL="analytics";function IL(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){switch(t.label){case 0:if((0,kp.isBrowserExtension)())return[2,!1];if(!(0,kp.areCookiesEnabled)())return[2,!1];if(!(0,kp.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,(0,kp.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new ZE.Component(xL,function(t){return function(t,e){!function(){var t=[];if((0,kp.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,kp.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=cL.create("invalid-analytics-context",{errorInfo:e});oL.warn(n.message)}}();var n=t.options.appId;if(!n)throw cL.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw cL.create("no-api-key");oL.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=vL[n])throw cL.create("already-exists",{id:n});if(!CL){!function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(_L);var r=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var a;return(0,Ip.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==rL.EVENT?[3,2]:[4,aL(t,e,n,o,s)];case 1:return u.sent(),[3,5];case 2:return i!==rL.CONFIG?[3,4]:[4,sL(t,e,n,r,o,s)];case 3:return u.sent(),[3,5];case 4:t(rL.SET,o),u.label=5;case 5:return[3,7];case 6:return a=u.sent(),oL.error(a),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(vL,yL,bL,_L,wL);gL=r.wrappedGtag,pL=r.gtagCore,CL=!0}return vL[n]=function(t,e,n,r,i,o){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var s,a,u,c,l,h,f;return(0,Ip.__generator)(this,function(d){switch(d.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=lL),(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,u=this;return(0,Ip.__generator)(this,function(c){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw cL.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw cL.create("no-api-key")}return s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new mL,setTimeout(function(){return(0,Ip.__awaiter)(u,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){return a.abort(),[2]})})},6e4),[2,fL({appId:r,apiKey:i,measurementId:o},s,a,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&oL.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return oL.error(t)}),e.push(s),a=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t;return(0,Ip.__generator)(this,function(e){switch(e.label){case 0:return(0,kp.isIndexedDBAvailable)()?[3,1]:(oL.warn(cL.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,kp.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),oL.warn(cL.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([s,a])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(nL))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=nL+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(rL.CONFIG,c.measurementId,h),[2,c.measurementId]}})})}(t,yL,bL,e,pL,_L),{app:t,logEvent:function(t,e,r){(function(t,e,n,r,i){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var o,s;return(0,Ip.__generator)(this,function(a){switch(a.label){case 0:return i&&i.global?(t(rL.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=(0,Ip.__assign)((0,Ip.__assign)({},r),{send_to:o}),t(rL.EVENT,n,s),a.label=3;case 3:return[2]}})})})(gL,vL[n],t,e,r).catch(function(t){return oL.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(rL.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(rL.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(gL,vL[n],t,e).catch(function(t){return oL.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var i;return(0,Ip.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(rL.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(rL.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(gL,vL[n],t,e).catch(function(t){return oL.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,Ip.__generator)(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)i["user_properties."+(a=s[o])]=n[a];return t(rL.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(rL.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(gL,vL[n],t,e).catch(function(t){return oL.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(vL[n],t).catch(function(t){return oL.error(t)})},INTERNAL:{delete:function(){return delete vL[n],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:SL,EventName:iL,isSupported:IL})),t.INTERNAL.registerComponent(new ZE.Component("analytics-internal",function(t){try{return{logEvent:t.getProvider(xL).getImmediate().logEvent}}catch(YE){throw cL.create("interop-component-reg-failed",{reason:YE})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.18")}(Ap.default);var AL,kL=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}})})},t}(),EL=((AL={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",AL["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",AL["registration-api-key"]="Undefined API key. Check Firebase app initialization.",AL["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",AL["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",AL["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",AL["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",AL["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",AL["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",AL["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',AL["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',AL["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",AL["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",AL),TL=new kp.ErrorFactory("remoteconfig","Remote Config",EL),PL=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,s,a,u,c,l,h,f,d,p,g,m;return(0,Ip.__generator)(this,function(v){switch(v.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=v.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===y&&(y=navigator),y.languages&&y.languages[0]||y.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},s=fetch(r,o),a=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),v.label=2;case 2:return v.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return v.sent(),[4,s];case 4:return u=v.sent(),[3,6];case 5:throw c=v.sent(),l="fetch-client-network","AbortError"===c.name&&(l="fetch-timeout"),TL.create(l,{originalErrorMessage:c.message});case 6:if(h=u.status,f=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];g=void 0,v.label=7;case 7:return v.trys.push([7,9,,10]),[4,u.json()];case 8:return g=v.sent(),[3,10];case 9:throw m=v.sent(),TL.create("fetch-client-parse",{originalErrorMessage:m.message});case 10:d=g.entries,p=g.state,v.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(d={}),304!==h&&200!==h)throw TL.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:f,config:d}]}var y})})},t}(),NL=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),OL=["1","true","t","yes","y","on"],LL=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&OL.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),DL=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Ep.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Ep.LogLevel.SILENT;break;default:this._logger.logLevel=Ep.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e,n;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:t=new NL,setTimeout(function(){return(0,Ip.__awaiter)(r,void 0,void 0,function(){return(0,Ip.__generator)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof kp.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){return(0,Ip.__generator)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys((0,Ip.__assign)((0,Ip.__assign)({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new LL("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new LL("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new LL("static"))},t}();function ML(t,e){var n=t.target.error||void 0;return TL.create(e,{originalErrorMessage:n&&n.message})}var RL="app_namespace_store",FL=function(){function t(t,e,n,r){void 0===r&&(r=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(ML(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(RL,{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([RL],"readonly").objectStore(RL),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(ML(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(YE){i(TL.create("storage-get",{originalErrorMessage:YE&&YE.message}))}})]}})})},t.prototype.set=function(t,e){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,Ip.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var s=n.transaction([RL],"readwrite").objectStore(RL),a=r.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(ML(t,"storage-set"))},u.onsuccess=function(){i()}}catch(YE){o(TL.create("storage-set",{originalErrorMessage:YE&&YE.message}))}})]}})})},t.prototype.delete=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,n=this;return(0,Ip.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([RL],"readwrite").objectStore(RL),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(ML(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(YE){i(TL.create("storage-delete",{originalErrorMessage:YE&&YE.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),jL=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function UL(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(TL.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var qL,BL=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e;return(0,Ip.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return(0,Ip.__awaiter)(this,void 0,void 0,function(){var e,i,o;return(0,Ip.__generator)(this,function(s){switch(s.label){case 0:return[4,UL(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof kp.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+(0,kp.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}(),VL="@firebase/remote-config";(qL=Ap.default).INTERNAL.registerComponent(new ZE.Component("remoteConfig",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw TL.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,u=o.appId;if(!s)throw TL.create("registration-project-id");if(!a)throw TL.create("registration-api-key");if(!u)throw TL.create("registration-app-id");var c=new FL(u,r.name,n=n||"firebase"),l=new jL(c),h=new Ep.Logger(VL);h.logLevel=Ep.LogLevel.ERROR;var f=new PL(i,qL.SDK_VERSION,n,s,a,u),d=new BL(f,c),p=new kL(d,c,l,h),g=new DL(r,p,l,c,h);return g.ensureInitialized(),g},"PUBLIC").setMultipleInstances(!0)),qL.registerVersion(VL,"0.1.43"),n(6934);var HL="8.10.1";Ap.default.registerVersion("firebase",HL,"app"),Ap.default.SDK_VERSION=HL,console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Ap.default.registerVersion("firebase","8.10.1");const zL={apiKey:"AIzaSyAQoN-DsMCIRDIz-dwm1UcEZ_3kdIaGBsU",authDomain:"cardenal-cushing.firebaseapp.com",projectId:"cardenal-cushing",storageBucket:"cardenal-cushing.appspot.com",messagingSenderId:"96674615258",appId:"1:96674615258:web:2d5b239761e93c56bcbae3"};class WL{}class GL{}class KL{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof KL?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new KL;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof KL?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class $L{encodeKey(t){return YL(t)}encodeValue(t){return YL(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function YL(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function QL(t){return`${t}`}class XL{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new $L,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new XL({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(QL(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(QL(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class JL{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function ZL(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function tD(t){return"undefined"!=typeof Blob&&t instanceof Blob}function eD(t){return"undefined"!=typeof FormData&&t instanceof FormData}class nD{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new KL),this.context||(this.context=new JL),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new XL,this.urlWithParams=e}serializeBody(){return null===this.body?null:ZL(this.body)||tD(this.body)||eD(this.body)||"string"==typeof this.body?this.body:this.body instanceof XL?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eD(this.body)?null:tD(this.body)?this.body.type||null:ZL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof XL?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new nD(n,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var rD=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class iD{constructor(t,e=200,n="OK"){this.headers=t.headers||new KL,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class oD extends iD{constructor(t={}){super(t),this.type=rD.ResponseHeader}clone(t={}){return new oD({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class sD extends iD{constructor(t={}){super(t),this.type=rD.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new sD({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class aD extends iD{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function uD(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let cD=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof nD)r=t;else{let i,o;i=n.headers instanceof KL?n.headers:new KL(n.headers),n.params&&(o=n.params instanceof XL?n.params:new XL({fromObject:n.params})),r=new nD(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Ul(r).pipe(hh(t=>this.handler.handle(t)));if(t instanceof nD||"events"===n.observe)return i;const o=i.pipe(oh(t=>t instanceof sD));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(M(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(M(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(M(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(M(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new XL).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,uD(n,e))}post(t,e,n={}){return this.request("POST",t,uD(n,e))}put(t,e,n={}){return this.request("PUT",t,uD(n,e))}}return t.\u0275fac=function(e){return new(e||t)(ur(WL))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class lD{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const hD=new Gn("HTTP_INTERCEPTORS");let fD=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const dD=/^\)\]\}',?\n/;let pD=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new KL(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new oD({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(dD,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new sD({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new aD({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new aD({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:rD.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:rD.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:rD.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(ur(ul))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();const gD=new Gn("XSRF_COOKIE_NAME"),mD=new Gn("XSRF_HEADER_NAME");class vD{}let yD=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=$c(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(ur(Wu),ur(Ja),ur(gD))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),bD=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(ur(vD),ur(mD))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),_D=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(hD,[]);this.chain=t.reduceRight((t,e)=>new lD(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(ur(GL),ur(So))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),wD=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:bD,useClass:fD}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:gD,useValue:e.cookieName}:[],e.headerName?{provide:mD,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({providers:[bD,{provide:hD,useExisting:bD,multi:!0},{provide:vD,useClass:yD},{provide:gD,useValue:"XSRF-TOKEN"},{provide:mD,useValue:"X-XSRF-TOKEN"}]}),t})(),CD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({providers:[cD,{provide:WL,useClass:_D},pD,{provide:GL,useExisting:pD}],imports:[[wD.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),SD=(()=>{class t{constructor(t){this.httpClient=t,this.redirectUrl="",this.enableBackground=!0,this.baseUrl="http://localhost/tesis/php",this.getLoggedInName=new Ha,this.messagingObservable=new y(t=>{this.messagingFirebase.onMessage(t=>{if(console.log("mensaje recibido",t),this.enableBackground){const e=JSON.parse(t.data.notification),{title:n}=e,r=(0,Ip.__rest)(e,["title"]);navigator.serviceWorker.getRegistration().then(t=>t[0].showNotification(n,r))}})}),Ap.default.initializeApp(zL),this.messagingFirebase=Ap.default.messaging()}requestPermission(){return new Promise((t,e)=>(0,Ip.__awaiter)(this,void 0,void 0,function*(){if("granted"===(yield Notification.requestPermission())){const e=yield this.messagingFirebase.getToken();t(e)}else e(new Error("no se obtubieron los permisos"))}))}receiveMessage(){return this.messagingObservable}guardarToken(t,e){return this.httpClient.post(this.baseUrl+"/guardarToken.php",{codigo:t,token:e}).pipe(M(t=>t))}listarPersona(){return this.httpClient.get(`${this.baseUrl}/listarPersonas.php`)}listarAlumno(){return this.httpClient.get(`${this.baseUrl}/listarAlumno.php`)}listarDocente(){return this.httpClient.get(`${this.baseUrl}/listarDocente.php`)}AlumnoFilter(){return this.httpClient.get(`${this.baseUrl}/AlumnosFilter.php`)}listarMaterias(t){return this.httpClient.post(this.baseUrl+"/listarMaterias.php",{codigo:t}).pipe(M(t=>t))}getHijos(t){return this.httpClient.post(this.baseUrl+"/mostrarHijos.php",{codigo:t}).pipe(M(t=>t))}personaRegister(t,e,n,r){return this.httpClient.post(this.baseUrl+"/persona.php",{nombre:t,paterno:e,materno:n,telefono:r}).pipe(M(t=>t))}solicitudRegister(t,e,n,r,i){return this.httpClient.post(this.baseUrl+"/solicitud.php",{origen:t,destinatario:e,fecha:n,hora:r,detalle:i}).pipe(M(t=>t))}alumnoRegister(t,e,n,r,i,o,s,a){return this.httpClient.post(this.baseUrl+"/alumno.php",{ci:t,nombre:e,paterno:n,materno:r,telefono:i,nivel:o,curso:s,turno:a}).pipe(M(t=>t))}tutorRegister(t,e,n,r,i,o){return this.httpClient.post(this.baseUrl+"/tutor.php",{nombre:t,paterno:e,materno:n,telefono:r,tipo:i,alumno:o}).pipe(M(t=>t))}listarComunicado(){return this.httpClient.get(`${this.baseUrl}/listarComunicado.php`)}listarCPorCurso(t){return this.httpClient.post(this.baseUrl+"/listarCPorCurso.php",{codigo:t}).pipe(M(t=>t))}listarSolicitud(t){return this.httpClient.post(this.baseUrl+"/listarSolicitud.php",{codigo:t}).pipe(M(t=>t))}SolicitudPendiente(t){return this.httpClient.post(this.baseUrl+"/solicitudesPendientes.php",{codigo:t}).pipe(M(t=>t))}verCitacion(t){return this.httpClient.post(this.baseUrl+"/verCitacion.php",{codigo:t}).pipe(M(t=>t))}listarPendiente(){return this.httpClient.get(`${this.baseUrl}/listaCPendiente.php`)}comunicadoRegister(t,e,n,r,i,o,s,a,u,c){return this.httpClient.post(this.baseUrl+"/comunicado.php",{tipo:t,origen:e,fechap:n,fechae:r,horae:i,descripcion:o,redactor:s,nivel:a,turno:u,curso:c}).pipe(M(t=>t))}comunicadoUpdate(t,e,n,r,i,o){return this.httpClient.post(this.baseUrl+"/publicarComunicado.php",{id:t,fechap:e,fechae:n,horae:r,descripcion:i,verificador:o}).pipe(M(t=>t))}listarUsuario(){return this.httpClient.get(`${this.baseUrl}/listarUsuarios.php`)}listarDias(t){return this.httpClient.post(this.baseUrl+"/listarDias.php",{codigo:t}).pipe(M(t=>t))}entrevistaRegister(t,e,n){return this.httpClient.post(this.baseUrl+"/entrevista.php",{user:t,dia:e,hora:n}).pipe(M(t=>t))}userlogin(t,e){return this.httpClient.post(this.baseUrl+"/login.php",{email:t,password:e}).pipe(M(t=>(this.setToken(t[0].name),this.getLoggedInName.emit(!0),t)))}userregistration(t,e,n,r,i,o){return this.httpClient.post(this.baseUrl+"/register.php",{id:t,username:e,email:n,pwd:r,rol:i,entrevista:o}).pipe(M(t=>t))}setUser(t){let e=JSON.stringify(t);localStorage.setItem("currentUser",e)}getCurrentUser(){let t=localStorage.getItem("currentUser");return void 0!==t?JSON.parse(t):null}setToken(t){localStorage.setItem("token",t)}getToken(){return localStorage.getItem("token")}deleteToken(){localStorage.removeItem("token"),localStorage.removeItem("currentUser")}isLoggedIn(){return null!=this.getToken()}}return t.\u0275fac=function(e){return new(e||t)(ur(cD))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xD=(()=>{class t{constructor(t){this.dataService=t,this.rol=null,this.citaciones={},this.comunicados={},this.i=0,this.c=0,t.requestPermission().then(t=>{this.dataService.guardarToken(this.usuario.id_usuario,t).subscribe(t=>this.usuario=t),console.log("el token se guardo ",t)})}ngOnInit(){this.dataService.receiveMessage().subscribe(t=>{console.log(t)});var t=localStorage.getItem("token");this.rol=t,this.usuario=this.dataService.getCurrentUser(),this.listarCitacion(),this.listarComunicados()}listarCitacion(){this.dataService.SolicitudPendiente(this.usuario.id_usuario).subscribe(t=>{this.citaciones=t,this.contar(this.citaciones,3)})}listarComunicados(){this.dataService.listarCPorCurso(this.usuario.id_usuario).subscribe(t=>{this.comunicados=t,this.contar(this.comunicados,2)})}contar(t,e){let n=Object.entries(t);3==e?n.forEach(t=>{this.i++}):2==e&&n.forEach(t=>{this.c++})}}return t.\u0275fac=function(e){return new(e||t)(Ho(SD))},t.\u0275cmp=zt({type:t,selectors:[["app-inicio"]],decls:67,vars:2,consts:[[1,"list-group"],["id","ico-notificacion","src","https://lh3.googleusercontent.com/ttddO56u2ISI0hdeC-jWi-y3VNTeytT9eDSZq_JB7W51ZtOzkImywh1vhzZP0Loftw=s180-rw"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],["href","citaciones"],[1,"badge","badge-primary","badge-pill"],["href","entrevista"],[1,"container"],["id","cont-imagen"],["src","https://userscontent2.emaze.com/images/cf4f8e9f-39f2-4d7f-a271-27c6c28b5044/1cb5632e93fb95395c7ddd89233e9860.png"],[1,"container2"],["id","logo"],["src","../../../assets/../assets/Imagenes/colegio.jpg"],[1,"texto"],[1,"contenedor-carrusel"],[1,"navbar2"],["id","carrusel","data-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["data-target","#carrusel","data-slide-to","0",1,"active"],["data-target","#carrusel","data-slide-to","1"],["data-target","#carrusel","data-slide-to","2"],[1,"carousel-inner"],[1,"carousel-item","active"],["src","https://4.bp.blogspot.com/-YCJiBgJebsA/WdVFUVI13EI/AAAAAAAAAdU/ecsOsC0jKzAGPdU0OoreHX612Zp-dUlZQCLcBGAs/s1600/KIK_8683.JPG",1,"d-block","w-100"],[1,"carousel-caption","d-none","d-md-block"],[1,"carousel-item"],["src","https://campanas.iglesiasantacruz.org/wp-content/uploads/2019/07/88.jpg",1,"d-block","w-100"],["data-interval","3000",1,"carousel-item"],["src","https://campanas.iglesiasantacruz.org/wp-content/uploads/2019/07/%C3%ADndice-3.jpg",1,"d-block","w-100"],["href","#carrusel","role","button","data-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"sr-only"],["href","#carrusel","role","button","data-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"ul",0),Go(2,"div"),$o(3,"img",1),Ko(),Go(4,"div"),Go(5,"li",2),Go(6,"a",3),ps(7,"Circulares"),Ko(),Go(8,"span",4),ps(9),Ko(),Ko(),Go(10,"li",2),Go(11,"a",3),ps(12,"Novedades"),Ko(),Go(13,"span",4),ps(14,"5"),Ko(),Ko(),Go(15,"li",2),Go(16,"a",5),ps(17,"Citaciones"),Ko(),Go(18,"span",4),ps(19),Ko(),Ko(),Ko(),Ko(),Go(20,"div",6),Go(21,"div",7),$o(22,"img",8),Ko(),Go(23,"div",9),Go(24,"div",10),$o(25,"img",11),Ko(),Go(26,"p",12),ps(27,"COLEGIO CARDENAL CUSHING"),Ko(),Ko(),Ko(),Go(28,"div",13),Go(29,"nav",14),Go(30,"a"),ps(31," NOSOTROS "),Ko(),Ko(),Go(32,"div",15),Go(33,"ol",16),$o(34,"li",17),$o(35,"li",18),$o(36,"li",19),Ko(),Go(37,"div",20),Go(38,"div",21),$o(39,"img",22),Go(40,"div",23),Go(41,"h5"),ps(42,"CREATIVIDAD DE NUESTROS ALUMNOS"),Ko(),Go(43,"p"),ps(44,"nuestros alumnos son los mejores, para que lo sepa"),Ko(),Ko(),Ko(),Go(45,"div",24),$o(46,"img",25),Go(47,"div",23),Go(48,"h5"),ps(49,"NUESTROS DOCENTES"),Ko(),Go(50,"p"),ps(51,"Nuestros docentes son los mejores aunque usted no lo crea"),Ko(),Ko(),Ko(),Go(52,"div",26),$o(53,"img",27),Go(54,"div",23),Go(55,"h5"),ps(56,"ORIENTADORAS"),Ko(),Go(57,"p"),ps(58,"nuestras orientadoras son las mejores y no me contradiga"),Ko(),Ko(),Ko(),Ko(),Go(59,"a",28),$o(60,"span",29),Go(61,"span",30),ps(62,"Anterior"),Ko(),Ko(),Go(63,"a",31),$o(64,"span",32),Go(65,"span",30),ps(66,"Siguiente"),Ko(),Ko(),Ko(),Ko(),Ko()),2&t&&(fi(9),gs(e.c),fi(10),gs(e.i))},styles:['body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 151px)}.list-group[_ngcontent-%COMP%]{position:relative;transform:translate(-50%);margin-top:5%;left:89%;width:160px;z-index:1}#ico-notificacion[_ngcontent-%COMP%]{display:none;position:absolute;right:98%;top:38%;width:35px;height:35px}#btn-ntf[_ngcontent-%COMP%]{display:none}.ico-notificacion[_ngcontent-%COMP%]{display:none;position:relative;top:-10px;left:92%}.ico-notificacion[_ngcontent-%COMP%], .ico-notificacion[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.ico-notificacion[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{cursor:pointer}.container[_ngcontent-%COMP%]{position:relative;padding:0;margin-top:-10%;height:33%;display:flex}#cont-imagen[_ngcontent-%COMP%]{position:relative;max-width:270px;max-height:270px}#cont-imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:scale-down}.container2[_ngcontent-%COMP%]{position:relative;width:60%;height:100%;margin:auto auto 0 0}#logo[_ngcontent-%COMP%]{position:relative;margin:auto;width:20%;height:20%}#logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.texto[_ngcontent-%COMP%]{font-style:oblique;text-align:center;position:relative}.texto[_ngcontent-%COMP%]:after{border-left:2px solid #000;background:#fff;right:0;content:"";width:100%;height:100%;position:absolute;animation:maquinadeescribir 2s steps(24) infinite}@keyframes maquinadeescribir{0%{width:80%}to{width:19%}}p[_ngcontent-%COMP%]{font-size:calc(1em + 1vw)}.navbar2[_ngcontent-%COMP%]{background:#0f55d6}.navbar2[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:5px;color:#fff;-webkit-text-decoration-style:none;text-decoration-style:none}.contenedor-carrusel[_ngcontent-%COMP%]{position:relative;width:90%;height:540px;margin:auto auto 20px}.carousel[_ngcontent-%COMP%]{position:relative;width:100%;height:95%}.carousel-inner[_ngcontent-%COMP%], .carousel-item[_ngcontent-%COMP%], .carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.carousel-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}@media only screen and (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0}p[_ngcontent-%COMP%]{font-size:12px}#ico-notificacion[_ngcontent-%COMP%]{display:block}.list-group[_ngcontent-%COMP%]:hover{margin-right:-70px}.list-group[_ngcontent-%COMP%]{position:fixed;width:150px;top:32px;left:auto;right:0;margin-left:auto;margin-right:-220px;transition:all .5s;z-index:20}.ico-notificacion[_ngcontent-%COMP%]{display:block}.container[_ngcontent-%COMP%]{width:100%;left:0;top:15px;margin:auto}.contenedor-carrusel[_ngcontent-%COMP%]{top:15px;width:90%;height:270px;margin-bottom:20px}.carousel[_ngcontent-%COMP%]{height:88%}}']}),t})();function ID(t,e){if(1&t&&(Go(0,"div",5),Go(1,"div",6),Go(2,"h5",7),ps(3),Ko(),Ko(),Go(4,"div",8),Go(5,"ul",9),Go(6,"li",10),$o(7,"img",11),Go(8,"div",12),Go(9,"p"),ps(10),Ko(),Go(11,"p"),Go(12,"em"),ps(13,"Se realizar\xe1 en fecha: "),Ko(),ps(14),Ko(),Go(15,"p"),Go(16,"em"),ps(17,"A horas: "),Ko(),ps(18),Ko(),Go(19,"p"),Go(20,"em"),ps(21,"Atte: "),Ko(),ps(22),Ko(),Go(23,"footer",13),ps(24),Ko(),Ko(),Ko(),Ko(),Ko(),Ko()),2&t){const t=e.$implicit;fi(3),ms(" ",t.tipo,""),fi(7),ms("",t.descripcion," "),fi(4),ms(" ",t.fEvento,""),fi(4),gs(t.hEvento),fi(4),gs(t.origen),fi(2),gs(t.fPublicacion)}}let AD=(()=>{class t{constructor(t){this.dataService=t}ngOnInit(){this.usuario=this.dataService.getCurrentUser(),this.ListarComunicado()}ListarComunicado(){this.dataService.listarCPorCurso(this.usuario.id_usuario).subscribe(t=>this.comunicado=t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(SD))},t.\u0275cmp=zt({type:t,selectors:[["app-circular"]],decls:19,vars:1,consts:[["class","card border-dark",4,"ngFor","ngForOf"],["aria-label","Page navigation",1,"navegacion"],[1,"pagination"],[1,"page-item"],["href","#",1,"page-link"],[1,"card","border-dark"],[1,"card-header","d-flex","justify-content-center"],[1,"text-uppercase"],[1,"card-body"],[1,"list-unstyled"],[1,"media"],["src","https://www.cobituc.org.ar/wp-content/uploads/2015/04/circulares_icono_destaque.png","width","100","height","100","alt","...",1,"mr-3"],[1,"media-body"],[1,"blockquote-footer","text-right"]],template:function(t,e){1&t&&(Go(0,"body"),Bo(1,ID,25,6,"div",0),Go(2,"nav",1),Go(3,"ul",2),Go(4,"li",3),Go(5,"a",4),ps(6,"Anterior"),Ko(),Ko(),Go(7,"li",3),Go(8,"a",4),ps(9,"1"),Ko(),Ko(),Go(10,"li",3),Go(11,"a",4),ps(12,"2"),Ko(),Ko(),Go(13,"li",3),Go(14,"a",4),ps(15,"3"),Ko(),Ko(),Go(16,"li",3),Go(17,"a",4),ps(18,"Siguiente"),Ko(),Ko(),Ko(),Ko(),Ko()),2&t&&(fi(1),zo("ngForOf",e.comunicado))},directives:[Xc],styles:["body[_ngcontent-%COMP%]{margin-top:29px;padding-top:20px;min-height:calc(100vh - 154px)}.card[_ngcontent-%COMP%]{width:90%;margin:0 auto 2%}.card-header[_ngcontent-%COMP%]{background:rgba(57,205,241,.712)}.media-body[_ngcontent-%COMP%]{text-align:justify}.navegacion[_ngcontent-%COMP%]{position:relative;margin-top:1%;display:flex;flex-wrap:wrap;justify-content:center}.pagination[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0;padding-top:0}.card-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none}.card[_ngcontent-%COMP%]{width:96%}}"]}),t})();function kD(t,e){if(1&t){const t=Yo();Go(0,"div",3),Go(1,"div",4),Go(2,"h2",5),Go(3,"button",6),Jo("click",function(e){return Oe(t),es().verCitacion(e)}),ps(4),Ko(),Ko(),Ko(),Go(5,"div",7),Go(6,"div",8),ps(7),Ko(),Ko(),Ko()}if(2&t){const t=e.$implicit;fi(3),ns("value",t.id),fi(1),ms(" Citacion de ",t.fecha," "),fi(3),ms(" ",t.motivo," ")}}let ED=(()=>{class t{constructor(t){this.dataService=t,this.citaciones=null,this.visto=null}ngOnInit(){this.usuario=this.dataService.getCurrentUser(),this.listarCitacion()}listarCitacion(){this.dataService.listarSolicitud(this.usuario.id_usuario).subscribe(t=>{this.citaciones=t,this.date=this.citaciones.fecha,console.log("npo",this.date)})}verCitacion(t){this.dataService.verCitacion(t.target.value).subscribe(t=>this.visto=t)}consola(t){console.log("esta funcionando prros",t.target.value)}}return t.\u0275fac=function(e){return new(e||t)(Ho(SD))},t.\u0275cmp=zt({type:t,selectors:[["app-citacion"]],decls:5,vars:1,consts:[["id","accordion",1,"accordion"],["class","card",4,"ngFor","ngForOf"],["type","button","id","liveToastBtn",1,"btn","btn-primary"],[1,"card"],["id","headingOne",1,"card-header"],[1,"mb-0"],["id","miBoton","type","button","data-toggle","collapse","data-target","#collapseOne","aria-expanded","false","aria-controls","collapseOne",1,"btn","btn-link","btn-block","text-left",3,"value","click"],["id","collapseOne","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse"],[1,"card-body"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"div",0),Bo(2,kD,8,3,"div",1),Ko(),Go(3,"button",2),ps(4,"Show live toast"),Ko(),Ko()),2&t&&(fi(2),zo("ngForOf",e.citaciones))},directives:[Xc],styles:["body[_ngcontent-%COMP%]{margin-top:56px;min-height:calc(100vh - 154px)}#miBoton[_ngcontent-%COMP%]{color:#000}.card-header[_ngcontent-%COMP%]{background:#e26a6a}.visto[_ngcontent-%COMP%]{background:skyblue}.card-body[_ngcontent-%COMP%]{text-align:justify}@media only screen and (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0}}"]}),t})();function TD(t,e){return new y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=U(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let PD=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(zs),Ho(Vs))},t.\u0275dir=Qt({type:t}),t})(),ND=(()=>{class t extends PD{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Un(t)))(n||t)}}(),t.\u0275dir=Qt({type:t,features:[Io]}),t})();const OD=new Gn("NgValueAccessor"),LD={provide:OD,useExisting:st(()=>DD),multi:!0};let DD=(()=>{class t extends ND{writeValue(t){this.setProperty("checked",t)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Un(t)))(n||t)}}(),t.\u0275dir=Qt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&Jo("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[Ms([LD]),Io]}),t})();const MD={provide:OD,useExisting:st(()=>FD),multi:!0},RD=new Gn("CompositionEventMode");let FD=(()=>{class t extends PD{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=zu()?zu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(zs),Ho(Vs),Ho(RD,8))},t.\u0275dir=Qt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&Jo("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[Ms([MD]),Io]}),t})();function jD(t){return null==t||0===t.length}function UD(t){return null!=t&&"number"==typeof t.length}const qD=new Gn("NgValidators"),BD=new Gn("NgAsyncValidators"),VD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class HD{static min(t){return function(t){return e=>{if(jD(e.value)||jD(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(jD(e.value)||jD(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return zD(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return jD(t.value)||VD.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>jD(e.value)||!UD(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>UD(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return WD;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(jD(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return XD(t)}static composeAsync(t){return ZD(t)}}function zD(t){return jD(t.value)?{required:!0}:null}function WD(t){return null}function GD(t){return null!=t}function KD(t){const e=Qo(t)?U(t):t;return Xo(e),e}function $D(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function YD(t,e){return e.map(e=>e(t))}function QD(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function XD(t){if(!t)return null;const e=t.filter(GD);return 0==e.length?null:function(t){return $D(YD(t,e))}}function JD(t){return null!=t?XD(QD(t)):null}function ZD(t){if(!t)return null;const e=t.filter(GD);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return TD(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return TD(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return TD(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(M(t=>e(...t)))}return TD(t,null)}(YD(t,e).map(KD)).pipe(M($D))}}function tM(t){return null!=t?ZD(QD(t)):null}function eM(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function nM(t){return t._rawValidators}function rM(t){return t._rawAsyncValidators}let iM=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=JD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=tM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t}),t})(),oM=(()=>{class t extends iM{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Un(t)))(n||t)}}(),t.\u0275dir=Qt({type:t,features:[Io]}),t})();class sM extends iM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class aM{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let uM=(()=>{class t extends aM{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(sM,2))},t.\u0275dir=Qt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&us("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[Io]}),t})(),cM=(()=>{class t extends aM{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(oM,10))},t.\u0275dir=Qt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&us("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[Io]}),t})();function lM(t,e){return[...e.path,t]}function hM(t,e){pM(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&mM(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&mM(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function fM(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),gM(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function dM(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pM(t,e){const n=nM(t);null!==e.validator?t.setValidators(eM(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=rM(t);null!==e.asyncValidator?t.setAsyncValidators(eM(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();dM(e._rawValidators,i),dM(e._rawAsyncValidators,i)}function gM(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=nM(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.validator);i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const r=rM(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.asyncValidator);i.length!==r.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return dM(e._rawValidators,r),dM(e._rawAsyncValidators,r),n}function mM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vM(t,e){pM(t,e)}function yM(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function bM(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function _M(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===FD?n=t:Object.getPrototypeOf(t.constructor)===ND?r=t:i=t}),i||r||n||null}function wM(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const CM="VALID",SM="INVALID",xM="PENDING",IM="DISABLED";function AM(t){return(PM(t)?t.validators:t)||null}function kM(t){return Array.isArray(t)?JD(t):t||null}function EM(t,e){return(PM(e)?e.asyncValidators:t)||null}function TM(t){return Array.isArray(t)?tM(t):t||null}function PM(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class NM{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=kM(this._rawValidators),this._composedAsyncValidatorFn=TM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===CM}get invalid(){return this.status===SM}get pending(){return this.status==xM}get disabled(){return this.status===IM}get enabled(){return this.status!==IM}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=kM(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=TM(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=xM,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=IM,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=CM,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==CM&&this.status!==xM||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?IM:CM}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=xM,this._hasOwnPendingAsyncValidator=!0;const e=KD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof LM?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof DM&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ha,this.statusChanges=new Ha}_calculateStatus(){return this._allControlsDisabled()?IM:this.errors?SM:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xM)?xM:this._anyControlsHaveStatus(SM)?SM:CM}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){PM(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class OM extends NM{constructor(t=null,e,n){super(AM(e),EM(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){wM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){wM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class LM extends NM{constructor(t,e,n){super(AM(e),EM(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof OM?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class DM extends NM{constructor(t,e,n){super(AM(e),EM(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof OM?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const MM={provide:oM,useExisting:st(()=>FM)},RM=(()=>Promise.resolve(null))();let FM=(()=>{class t extends oM{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ha,this.form=new LM({},JD(t),tM(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){RM.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),hM(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){RM.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),wM(this._directives,t)})}addFormGroup(t){RM.then(()=>{const e=this._findContainer(t.path),n=new LM({});vM(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){RM.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){RM.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,bM(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(Ho(qD,10),Ho(BD,10))},t.\u0275dir=Qt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Jo("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ms([MM]),Io]}),t})();const jM={provide:sM,useExisting:st(()=>qM)},UM=(()=>Promise.resolve(null))();let qM=(()=>{class t extends sM{constructor(t,e,n,r){super(),this.control=new OM,this._registered=!1,this.update=new Ha,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=_M(0,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),yM(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?lM(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hM(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){UM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;UM.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(Ho(oM,9),Ho(qD,10),Ho(BD,10),Ho(OD,10))},t.\u0275dir=Qt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ms([jM]),Io,le]}),t})(),BM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),VM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({}),t})();const HM=new Gn("NgModelWithFormControlWarning"),zM={provide:oM,useExisting:st(()=>WM)};let WM=(()=>{class t extends oM{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ha,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return hM(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){fM(t.control||null,t,!1),wM(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,bM(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(fM(e||null,t),n instanceof OM&&(hM(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);vM(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return gM(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pM(this.form,this),this._oldForm&&gM(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(Ho(qD,10),Ho(BD,10))},t.\u0275dir=Qt({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Jo("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ms([zM]),Io,le]}),t})();const GM={provide:sM,useExisting:st(()=>KM)};let KM=(()=>{class t extends sM{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new Ha,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=_M(0,r)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),yM(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return lM(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(Ho(oM,13),Ho(qD,10),Ho(BD,10),Ho(OD,10),Ho(HM,8))},t.\u0275dir=Qt({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ms([GM]),Io,le]}),t._ngModelWarningSentOnce=!1,t})();const $M={provide:OD,useExisting:st(()=>QM),multi:!0};function YM(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let QM=(()=>{class t extends ND{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this.setProperty("selectedIndex",-1);const n=YM(e,t);this.setProperty("value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Un(t)))(n||t)}}(),t.\u0275dir=Qt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&Jo("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ms([$M]),Io]}),t})(),XM=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(YM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ho(Vs),Ho(zs),Ho(QM,9))},t.\u0275dir=Qt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const JM={provide:OD,useExisting:st(()=>tR),multi:!0};function ZM(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let tR=(()=>{class t extends ND{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=Un(t)))(n||t)}}(),t.\u0275dir=Qt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&Jo("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ms([JM]),Io]}),t})(),eR=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ZM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ZM(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(Ho(Vs),Ho(zs),Ho(tR,9))},t.\u0275dir=Qt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const nR={provide:qD,useExisting:st(()=>rR),multi:!0};let rR=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?zD(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Qt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&jo("required",e.required?"":null)},inputs:{required:"required"},features:[Ms([nR])]}),t})(),iR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({imports:[[VM]]}),t})(),oR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({imports:[iR]}),t})(),sR=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:HM,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({imports:[iR]}),t})(),aR=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new LM(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new OM(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new DM(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof OM||t instanceof LM||t instanceof DM?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({factory:function(){return new t},token:t,providedIn:sR}),t})();function uR(t,e){if(1&t&&(Go(0,"option",14),ps(1),Ko()),2&t){const t=e.$implicit;ns("value",t.id),fi(1),ys("",t.nombre," ",t.paterno," ",t.materno,"")}}function cR(t,e){if(1&t){const t=Yo();Go(0,"div",3),Go(1,"h6"),ps(2,"Seleccione con quien desea su entrevista"),Ko(),Go(3,"select",15),Jo("change",function(e){return Oe(t),es().ListarMateria(e)}),Go(4,"option",5),ps(5," Seleccione"),Ko(),Go(6,"option",14),ps(7,"DOCENTE"),Ko(),Go(8,"option",16),ps(9,"DIRECCION"),Ko(),Go(10,"option",16),ps(11,"DEP. FINANZA"),Ko(),Go(12,"option",16),ps(13,"DEP. CONSEJERIA"),Ko(),Ko(),Ko()}if(2&t){const t=es();fi(6),ns("value",t.clave)}}function lR(t,e){if(1&t&&(Go(0,"option",14),ps(1),Ko()),2&t){const t=e.$implicit;ns("value",t.id),fi(1),vs("",t.materia," - ",t.docente,"")}}function hR(t,e){if(1&t){const t=Yo();Go(0,"div",17),Go(1,"h6"),ps(2,"Docente:"),Ko(),Go(3,"select",18),Jo("change",function(e){return Oe(t),es().ListarDias(e)}),Go(4,"option",5),ps(5," Seleccione"),Ko(),Bo(6,lR,2,3,"option",6),Ko(),Ko()}if(2&t){const t=es();fi(6),zo("ngForOf",t.materia)}}function fR(t,e){if(1&t&&(Go(0,"option",14),ps(1),Ko()),2&t){const t=e.$implicit;ns("value",t.id),fi(1),vs("",t.dia," - ",t.hora,"")}}function dR(t,e){if(1&t&&(Go(0,"div",19),Go(1,"h6"),ps(2,"Horarios Disponibles:"),Ko(),Go(3,"select",20),Go(4,"option",5),ps(5," Seleccione"),Ko(),Bo(6,fR,2,3,"option",6),Ko(),Ko()),2&t){const t=es();fi(6),zo("ngForOf",t.dia)}}let pR=(()=>{class t{constructor(t){this.dataService=t,this.materia=null,this.dia=null}ngOnInit(){this.usuario=this.dataService.getCurrentUser(),this.obtenerHijos()}obtenerHijos(){this.dataService.getHijos(this.usuario.id_usuario).subscribe(t=>this.hijos=t)}getClave(t){this.clave=t.target.value,console.log(this.clave)}ListarMateria(t){console.log(t.target.value),this.dataService.listarMaterias(t.target.value).subscribe(t=>this.materia=t)}ListarDias(t){this.dataService.listarDias(t.target.value).subscribe(t=>this.dia=t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(SD))},t.\u0275cmp=zt({type:t,selectors:[["app-entrevista"]],decls:24,vars:4,consts:[[1,"container"],[1,"titulo"],[1,"formulario"],[1,"form-group"],["name","hijos",1,"form-control",3,"change"],["selected","",2,"display","none"],[3,"value",4,"ngFor","ngForOf"],["class","form-group",4,"ngIf"],["class","form-group","id","materia",4,"ngIf"],["class","form-group","id","horario1",4,"ngIf"],["rows","3","id","tarea",1,"form-control"],[1,"btn-contenedor"],["type","button","id","Reservar",1,"btn","btn-success"],[1,"text-info"],[3,"value"],["id","area",1,"form-control",3,"change"],["value","1"],["id","materia",1,"form-group"],["id","horario",1,"form-control",3,"change"],["id","horario1",1,"form-group"],["id","h1",1,"form-control"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"div",0),Go(2,"h4",1),ps(3,"Reservar Entrevista"),Ko(),Go(4,"form",2),Go(5,"div",3),Go(6,"h6"),ps(7,"Alumno:"),Ko(),Go(8,"select",4),Jo("change",function(t){return e.getClave(t)}),Go(9,"option",5),ps(10," Seleccione"),Ko(),Bo(11,uR,2,4,"option",6),Ko(),Ko(),Bo(12,cR,14,1,"div",7),Bo(13,hR,7,1,"div",8),Bo(14,dR,7,1,"div",9),Go(15,"div",3),Go(16,"h6"),ps(17,"Motivo"),Ko(),$o(18,"textarea",10),Ko(),Go(19,"div",3),Go(20,"div",11),Go(21,"button",12),ps(22,"Reservar"),Ko(),Ko(),Ko(),Ko(),$o(23,"p",13),Ko(),Ko()),2&t&&(fi(11),zo("ngForOf",e.hijos),fi(1),zo("ngIf",null!=e.clave),fi(1),zo("ngIf",null!=e.materia),fi(1),zo("ngIf",null!=e.dia))},directives:[BM,cM,FM,XM,eR,Xc,Zc],styles:["body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 154px);display:flex}.img-responsive[_ngcontent-%COMP%]{height:90%;width:100%;margin-bottom:0;margin-top:auto}.container[_ngcontent-%COMP%]{padding:0;width:50%}.titulo[_ngcontent-%COMP%]{margin-top:15px;text-align:center;font-style:italic}.formulario[_ngcontent-%COMP%]{max-width:100%;margin-left:0;margin-right:auto;padding:7px;border-radius:5px;background-color:rgba(36,177,241,.897);box-shadow:5px 5px 5px #999}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:1px solid}#Reservar[_ngcontent-%COMP%]{width:30%;transform:translate(-50%);margin-top:10px;margin-left:50%;background:#00ff62;color:#fff;font-style:italic}#Reservar[_ngcontent-%COMP%]:hover{background:#12961d}@media (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0}.container[_ngcontent-%COMP%]{width:90%}.titulo[_ngcontent-%COMP%]{margin-top:0}#Reservar[_ngcontent-%COMP%]{margin-bottom:0}}"]}),t})();function gR(t,e){if(1&t&&(Go(0,"span"),ps(1),Ko()),2&t){const t=es();fi(1),gs(t._placeholder)}}function mR(t,e){if(1&t){const t=Yo();Go(0,"span",15),Go(1,"span",16),Go(2,"span"),ps(3),Ko(),Go(4,"a",17),Jo("click",function(e){const n=Oe(t).$implicit;return es().onItemClick(e,n)}),ps(5,"x"),Ko(),Ko(),Ko()}if(2&t){const t=e.$implicit,n=e.index,r=es();fi(1),zo("hidden",n>r._settings.itemsShowLimit-1),fi(2),ms("",t.text,"\xa0")}}function vR(t,e){if(1&t&&(Go(0,"span",18),ps(1),Ko()),2&t){const t=es();fi(1),ms("+",t.itemShowRemaining(),"")}}function yR(t,e){if(1&t){const t=Yo();Go(0,"li",19),Jo("click",function(){return Oe(t),es().toggleSelectAll()}),$o(1,"input",20),Go(2,"div"),ps(3),Ko(),Ko()}if(2&t){const t=es();fi(1),zo("checked",t.isAllItemsSelected())("disabled",t.disabled||t.isLimitSelectionReached()),fi(2),gs(t.isAllItemsSelected()?t._settings.unSelectAllText:t._settings.selectAllText)}}function bR(t,e){if(1&t){const t=Yo();Go(0,"li",21),Go(1,"input",22),Jo("ngModelChange",function(e){return Oe(t),es().filter.text=e})("ngModelChange",function(e){return Oe(t),es().onFilterTextChange(e)}),Ko(),Ko()}if(2&t){const t=es();fi(1),zo("readOnly",t.disabled)("placeholder",t._settings.searchPlaceholderText)("ngModel",t.filter.text)}}function _R(t,e){if(1&t){const t=Yo();Go(0,"li",23),Jo("click",function(e){const n=Oe(t).$implicit;return es().onItemClick(e,n)}),$o(1,"input",24),Go(2,"div"),ps(3),Ko(),Ko()}if(2&t){const t=e.$implicit,n=es();fi(1),zo("checked",n.isSelected(t))("disabled",n.disabled||n.isLimitSelectionReached()&&!n.isSelected(t)||t.isDisabled),jo("aria-label",t.text),fi(2),gs(t.text)}}function wR(t,e){if(1&t&&(Go(0,"li",25),Go(1,"h5"),ps(2),Ko(),Ko()),2&t){const t=es();fi(2),gs(t._settings.noFilteredDataAvailablePlaceholderText)}}function CR(t,e){if(1&t&&(Go(0,"li",26),Go(1,"h5"),ps(2),Ko(),Ko()),2&t){const t=es();fi(2),gs(t._settings.noDataAvailablePlaceholderText)}}const SR=function(t){return{"dropdown-multiselect--active":t}};class xR{constructor(t){"string"!=typeof t&&"number"!=typeof t||(this.id=this.text=t,this.isDisabled=!1),"object"==typeof t&&(this.id=t.id,this.text=t.text,this.isDisabled=t.isDisabled)}}let IR=(()=>{let t=class{transform(t,e){return t&&e?t.filter(t=>this.applyFilter(t,e)):t}applyFilter(t,e){return"string"==typeof t.text&&"string"==typeof e.text?!(e.text&&t.text&&-1===t.text.toLowerCase().indexOf(e.text.toLowerCase())):!(e.text&&t.text&&-1===t.text.toString().toLowerCase().indexOf(e.text.toString().toLowerCase()))}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=Xt({name:"multiSelectFilter",type:t,pure:!1}),t})();const AR={provide:OD,useExisting:st(()=>ER),multi:!0},kR=()=>{};let ER=(()=>{let t=class{constructor(t,e){this.listFilterPipe=t,this.cdr=e,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new xR(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",noFilteredDataAvailablePlaceholderText:"No filtered data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new Ha,this.onDropDownClose=new Ha,this.onSelect=new Ha,this.onDeSelect=new Ha,this.onSelectAll=new Ha,this.onDeSelectAll=new Ha,this.onTouchedCallback=kR,this.onChangeCallback=kR}set placeholder(t){this._placeholder=t||"Select"}set settings(t){this._settings=t?Object.assign(this.defaultSettings,t):Object.assign(this.defaultSettings)}set data(t){if(t){const e=t[0];this._sourceDataType=typeof e,this._sourceDataFields=this.getFields(e),this._data=t.map(t=>new xR("string"==typeof t||"number"==typeof t?t:{id:t[this._settings.idField],text:t[this._settings.textField],isDisabled:t[this._settings.disabledField]}))}else this._data=[]}onFilterTextChange(t){this.onFilterChange.emit(t)}onItemClick(t,e){if(this.disabled||e.isDisabled)return!1;const n=this.isSelected(e),r=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;n?this.removeSelected(e):r&&this.addSelected(e),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(t){if(null!=t&&t.length>0)if(this._settings.singleSelection)try{if(t.length>=1){const e=t[0];this.selectedItems=[new xR("string"==typeof e||"number"==typeof e?e:{id:e[this._settings.idField],text:e[this._settings.textField],isDisabled:e[this._settings.disabledField]})]}}catch(YE){}else{const e=t.map(t=>new xR("string"==typeof t||"number"==typeof t?t:{id:t[this._settings.idField],text:t[this._settings.textField],isDisabled:t[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?e.splice(0,this._settings.limitSelection):e}else this.selectedItems=[];this.onChangeCallback(t),this.cdr.markForCheck()}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}onTouched(){this.onTouchedCallback()}trackByFn(t,e){return e.id}isSelected(t){let e=!1;return this.selectedItems.forEach(n=>{t.id===n.id&&(e=!0)}),e}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){let t=this.listFilterPipe.transform(this._data,this.filter);const e=t.filter(t=>t.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&t.length===this.selectedItems.length+e}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(t){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(t)):this.selectedItems.push(t),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(t))}removeSelected(t){this.selectedItems.forEach(e=>{t.id===e.id&&this.selectedItems.splice(this.selectedItems.indexOf(e),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(t))}emittedValue(t){const e=[];if(Array.isArray(t))t.map(t=>{e.push(this.objectify(t))});else if(t)return this.objectify(t);return e}objectify(t){if("object"===this._sourceDataType){const e={};return e[this._settings.idField]=t.id,e[this._settings.textField]=t.text,this._sourceDataFields.includes(this._settings.disabledField)&&(e[this._settings.disabledField]=t.isDisabled),e}return"number"===this._sourceDataType?Number(t.id):t.text}toggleDropdown(t){t.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(t=>!t.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(t){const e=[];if("object"!=typeof t)return e;for(const n in t)e.push(n);return e}};return t.\u0275fac=function(e){return new(e||t)(Ho(IR),Ho(da))},t.\u0275cmp=zt({type:t,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(t,e){1&t&&Jo("blur",function(){return e.onTouched()})},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[Ms([AR])],decls:18,vars:23,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item-container",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 15px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-filtered-data",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"selected-item-container"],[1,"selected-item",3,"hidden"],[2,"padding-left","2px","color","white",3,"click"],[2,"padding-right","15px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-filtered-data"],[1,"no-data"]],template:function(t,e){1&t&&(Go(0,"div",0),Jo("blur",function(){return e.onTouched()})("clickOutside",function(){return e.closeDropdown()}),Go(1,"div"),Go(2,"span",1),Jo("click",function(t){return e.toggleDropdown(t)}),Bo(3,gR,2,1,"span",2),Bo(4,mR,6,2,"span",3),Go(5,"span",4),Bo(6,vR,2,1,"span",5),$o(7,"span",6),Ko(),Ko(),Ko(),Go(8,"div",7),Go(9,"ul",8),Bo(10,yR,4,3,"li",9),Bo(11,bR,2,3,"li",10),Ko(),Go(12,"ul",11),Bo(13,_R,4,4,"li",12),qa(14,"multiSelectFilter"),Bo(15,wR,3,1,"li",13),qa(16,"multiSelectFilter"),Bo(17,CR,3,1,"li",14),Ko(),Ko(),Ko()),2&t&&(fi(1),us("disabled",e.disabled),fi(2),zo("ngIf",0==e.selectedItems.length),fi(1),zo("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByFn),fi(1),zo("ngClass",ja(21,SR,e._settings.defaultOpen)),fi(1),zo("ngIf",e.itemShowRemaining()>0),fi(2),zo("hidden",!e._settings.defaultOpen),fi(2),zo("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&!e._settings.singleSelection&&e._settings.enableCheckAll&&-1===e._settings.limitSelection),fi(1),zo("ngIf",(e._data.length>0||e._settings.allowRemoteDataSearch)&&e._settings.allowSearchFilter),fi(1),as("max-height",e._settings.maxHeight+"px"),fi(1),zo("ngForOf",Ba(14,15,e._data,e.filter)),fi(2),zo("ngIf",0!=e._data.length&&0==Ba(16,18,e._data,e.filter).length&&!e._settings.allowRemoteDataSearch),fi(2),zo("ngIf",0==e._data.length&&!e._settings.allowRemoteDataSearch))},directives:function(){return[TR,Zc,Xc,Yc,FD,uM,qM]},pipes:function(){return[IR]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]{display:flex;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left;max-width:100px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0;border-color:#999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotateZ(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),t})(),TR=(()=>{let t=class{constructor(t){this._elementRef=t,this.clickOutside=new Ha}onClick(t,e){e&&(this._elementRef.nativeElement.contains(e)||this.clickOutside.emit(t))}};return t.\u0275fac=function(e){return new(e||t)(Ho(Vs))},t.\u0275dir=Qt({type:t,selectors:[["","clickOutside",""]],hostBindings:function(t,e){1&t&&Jo("click",function(t){return e.onClick(t,t.target)},!1,kr)},outputs:{clickOutside:"clickOutside"}}),t})();var PR;let NR=(()=>{let t=PR=class{static forRoot(){return{ngModule:PR}}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({providers:[IR],imports:[[rl,oR]]}),t})(),OR=(()=>{class t{constructor(t,e){this.fb=t,this.dataService=e,this.today=new Date,this.date="",this.filtroAlumno=null,this.copiaFiltro=null,this.copiaNivel=null,this.copiaCurso=null,this.sw=!1,this.disabled=!0,this.disabledCurso=!0,this.nivel=[],this.curso=[],this.turno=[],this.auxn=[],this.auxc=[],this.auxt=[],this.selectedItemsNivel=[],this.selectedItemsCurso=[],this.selectedItemsTurno=[],this.niveles=[{name:"INICIAL",id:"1"},{name:"PRIMARIA",id:"2"},{name:"SECUNDARIA",id:"3"}],this.cursos=[{name:"KINDER",id:"7",isDisabled:this.disabledCurso},{name:"PRE-KINDER",id:"8",isDisabled:this.disabledCurso},{name:"1-PRIMERO",id:"1"},{name:"2-SEGUNDO",id:"2"},{name:"3-TERCERO",id:"3"},{name:"4-CUARTO",id:"4"},{name:"5-QUINTO",id:"5"},{name:"6-SEXTO",id:"6"}],this.turnos=[{name:"MA\xd1ANA",id:"1"},{name:"TARDE",id:"2"}],this.date=Ec(this.today,"yyyy-MM-dd","en-US")}ngOnInit(){this.usuario=this.dataService.getCurrentUser(),this.ListarAlumno(),this.selectedItemsNivel=[{name:"INICIAL",id:"1"},{name:"PRIMARIA",id:"2"},{name:"SECUNDARIA",id:"3"}],this.selectedItemsCurso=[{name:"KINDER",id:"7"},{name:"PRE-KINDER",id:"8"},{name:"1-PRIMERO",id:"1"},{name:"2-SEGUNDO",id:"2"},{name:"3-TERCERO",id:"3"},{name:"4-CUARTO",id:"4"},{name:"5-QUINTO",id:"5"},{name:"6-SEXTO",id:"6"}],this.cursoSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Marcar Todos",unSelectAllText:"Desmarcar Todos",itemsShowLimit:1,allowSearchFilter:!1,maxHeight:180},this.dropdownSettings={singleSelection:!0,idField:"tutor",textField:"nombre_completo",searchPlaceholderText:"Buscar",allowSearchFilter:!0,closeDropDownOnSelection:!0,noDataAvailablePlaceholderText:"No hay datos disponibles",maxHeight:180},this.comunForm=this.fb.group({tipo:["Seleccione",HD.required],origen:["Seleccione",HD.required],fechap:this.date,fechae:["",HD.required],horae:["",HD.required],descripcion:["",HD.required],redactor:this.usuario.id_usuario,nivel:this.fb.array([]),turno:this.fb.array([]),curso:this.fb.array([])})}postdata(t){4==t.value.tipo?this.dataService.solicitudRegister(this.usuario.id_usuario,this.tutor,t.value.fechae,t.value.horae,t.value.descripcion).pipe(Ch()).subscribe(t=>{console.log("datos enviados",t)},t=>{console.log("ocurrio un error al insertar",t)}):this.dataService.comunicadoRegister(t.value.tipo,t.value.origen,t.value.fechap,t.value.fechae,t.value.horae,t.value.descripcion,t.value.redactor,this.nivel,this.turno,this.curso).pipe(Ch()).subscribe(t=>{console.log("datos enviados",t)},t=>{console.log("ocurrio un error",t)})}ListarAlumno(){this.dataService.AlumnoFilter().subscribe(t=>this.filtroAlumno=t)}onSelectNivel(t){0==this.sw?(this.copiaFiltro=this.filtroAlumno,this.filtroAlumno=this.filtroAlumno.filter(e=>e.nivel==t.target.value),this.copiaNivel=this.filtroAlumno,this.sw=!0,console.log(this.filtroAlumno)):(this.filtroAlumno=this.copiaFiltro,this.filtroAlumno=this.filtroAlumno.filter(e=>e.nivel==t.target.value),this.copiaNivel=this.filtroAlumno,console.log(this.filtroAlumno))}onSelectCurso(t){0==this.sw?(this.copiaFiltro=this.filtroAlumno,this.filtroAlumno=this.filtroAlumno.filter(e=>e.curso==t.target.value),this.sw=!0,console.log(this.filtroAlumno)):this.filtroAlumno=null!=this.copiaNivel?this.copiaNivel:this.copiaFiltro,this.filtroAlumno=this.filtroAlumno.filter(e=>e.curso==t.target.value),this.copiaCurso=this.filtroAlumno,console.log(this.filtroAlumno)}onSelectTurno(t){0==this.sw?(this.copiaFiltro=this.filtroAlumno,this.filtroAlumno=this.filtroAlumno.filter(e=>e.turno==t.target.value),this.sw=!0):this.filtroAlumno=null!=this.copiaCurso?this.copiaCurso:this.copiaFiltro,this.filtroAlumno=this.filtroAlumno.filter(e=>e.turno==t.target.value)}onItemSelect(t){this.tutor=t.tutor,console.log(this.tutor)}NivelSelect(t){1==t.id?this.handleDisableCurso():(this.disabled=!1,this.auxn.push(t.id),this.nivel=[...new Set(this.auxn)],console.log(this.nivel))}NivelDeSelect(t){1==t.id?this.handleDisableCurso():(this.auxn=this.auxn.filter(e=>e!=t.id),this.nivel=this.auxn,console.log(this.nivel))}onNivelAll(t){this.disabled=!1,t.map(t=>{1==t.id?this.handleDisableCurso():this.auxn.push(t.id)}),this.nivel=[...new Set(this.auxn)],console.log(this.nivel)}ofNivelAll(){this.nivel=[],this.auxn=[],this.handleDisableCurso()}CursoSelect(t){this.auxc.push(t.id),this.curso=[...new Set(this.auxc)],console.log(this.curso)}CursoDeSelect(t){this.auxc=this.auxc.filter(e=>e!=t.id),this.curso=this.auxc}onCursoAll(t){t.map(t=>this.auxc.push(t.id)),this.curso=[...new Set(this.auxc)]}ofCursoAll(){this.curso=[],this.auxc=[]}TurnoSelect(t){this.turno=t.id,console.log(this.turno)}TurnoDeSelect(t){this.auxt=this.auxt.filter(e=>e!=t.id),this.turno=this.auxt}onTurnoAll(t){t.map(t=>this.auxt.push(t.id)),this.turno=[...new Set(this.auxt)]}ofTurnoAll(){this.turno=[],this.auxt=[]}handleDisableCurso(){this.disabledCurso=!this.disabledCurso,this.cursos[0].isDisabled=this.disabledCurso,this.cursos[1].isDisabled=this.disabledCurso,this.cursos=[...this.cursos]}}return t.\u0275fac=function(e){return new(e||t)(Ho(aR),Ho(SD))},t.\u0275cmp=zt({type:t,selectors:[["app-nuevo"]],decls:108,vars:14,consts:[[1,"titulo"],["id","formulario",1,"container",3,"formGroup","ngSubmit"],["id","cont1",1,"form-row"],["id","tipo","formControlName","tipo","onchange","mostrartc(this.value)",1,"campos","form-control"],["selected","",2,"display","none"],["value","4"],["value","1"],["value","2"],["value","3"],["id","cont2",1,"form-row",2,"display","none"],["id","origen","formControlName","origen","onchange","mostrar2(this.value);",1,"campos","form-control"],["value","La Direcci\xf3n"],["value","Dep. de Finanzas"],["value","Dep. de Consejer\xeda"],["value","Docente","disabled",""],["id","comunicado2",1,"form-row",2,"display","none"],[1,"campo-nivel"],[1,"multiselect"],[3,"placeholder","settings","data","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],[1,"campo-curso"],[3,"placeholder","settings","data","disabled","onSelect","onDeSelect","onSelectAll","onDeSelectAll"],[1,"campo-turno"],["id","citacion2",1,"form-row",2,"display","none"],[1,"filter"],["name","nivel",1,"campos","col-md-2","form-control",3,"change"],["name","curso",1,"campos","col-md-2","form-control",3,"change"],["value","7"],["value","8"],["value","5"],["value","6"],["name","turno","id","",1,"campos","col-md-2","form-control",3,"change"],[1,"ngx"],[3,"placeholder","settings","data","onSelect"],["id","cont3",1,"form-row",2,"display","none"],[1,"campo-fecha","row","g-2"],["id","date","type","date","name","fechae","formControlName","fechae",1,"form-control"],[1,"campo-hora","row","g-2"],["id","time","type","time","name","horae","formControlName","horae",1,"form-control"],["id","cont4",2,"display","none"],["id","campoDescripcion","name","descripcion","formControlName","descripcion"],["id","boton",1,"btn-contenedor",2,"display","none"],["type","submit","id","btnEnviar",1,"mouse-cursor-gradient-tracking"]],template:function(t,e){1&t&&(Go(0,"html"),Go(1,"body"),Go(2,"h4",0),ps(3,"Nuevo Comunicado"),Ko(),Go(4,"form",1),Jo("ngSubmit",function(){return e.postdata(e.comunForm)}),Go(5,"div",2),Go(6,"label"),ps(7,"Tipo Comunicado:"),Ko(),Go(8,"select",3),Go(9,"option",4),ps(10,"Seleccione "),Ko(),Go(11,"option",5),ps(12,"CITACION"),Ko(),Go(13,"option",6),ps(14,"CIRCULAR"),Ko(),Go(15,"option",7),ps(16,"CONVOCATORIA"),Ko(),Go(17,"option",8),ps(18,"INVITACION"),Ko(),Ko(),Ko(),Go(19,"div",9),Go(20,"label"),ps(21,"Emitido por: "),Ko(),Go(22,"select",10),Go(23,"option",4),ps(24,"Seleccione "),Ko(),Go(25,"option",11),ps(26,"La Direcci\xf3n"),Ko(),Go(27,"option",12),ps(28,"Dep. de Finanzas"),Ko(),Go(29,"option",13),ps(30,"Dep. de Consejer\xeda"),Ko(),Go(31,"option",14),ps(32,"Docente"),Ko(),Ko(),Ko(),Go(33,"div",15),Go(34,"p"),ps(35,"A continuaci\xf3n seleccione el destinatario:"),Ko(),Go(36,"div",16),Go(37,"label"),ps(38,"Nivel:"),Ko(),Go(39,"div",17),Go(40,"ng-multiselect-dropdown",18),Jo("onSelect",function(t){return e.NivelSelect(t)})("onDeSelect",function(t){return e.NivelDeSelect(t)})("onSelectAll",function(t){return e.onNivelAll(t)})("onDeSelectAll",function(){return e.ofNivelAll()}),Ko(),Ko(),Ko(),Go(41,"div",19),Go(42,"label"),ps(43,"Curso:"),Ko(),Go(44,"div",17),Go(45,"ng-multiselect-dropdown",20),Jo("onSelect",function(t){return e.CursoSelect(t)})("onDeSelect",function(t){return e.CursoDeSelect(t)})("onSelectAll",function(t){return e.onCursoAll(t)})("onDeSelectAll",function(){return e.ofCursoAll()}),Ko(),Ko(),Ko(),Go(46,"div",21),Go(47,"label"),ps(48,"Turno:"),Ko(),Go(49,"div",17),Go(50,"ng-multiselect-dropdown",18),Jo("onSelect",function(t){return e.TurnoSelect(t)})("onDeSelect",function(t){return e.TurnoDeSelect(t)})("onSelectAll",function(t){return e.onTurnoAll(t)})("onDeSelectAll",function(){return e.ofTurnoAll()}),Ko(),Ko(),Ko(),Ko(),Go(51,"div",22),Go(52,"p"),ps(53,"La citaci\xf3n se enviar\xe1 al tutor del alumno..."),Ko(),Go(54,"div",23),Go(55,"select",24),Jo("change",function(t){return e.onSelectNivel(t)}),Go(56,"option",4),ps(57,"Nivel "),Ko(),Go(58,"option",6),ps(59,"INICIAL"),Ko(),Go(60,"option",7),ps(61,"PRIMARIA"),Ko(),Go(62,"option",8),ps(63,"SECUNDARIA"),Ko(),Ko(),Go(64,"select",25),Jo("change",function(t){return e.onSelectCurso(t)}),Go(65,"option",4),ps(66,"Curso "),Ko(),Go(67,"option",26),ps(68,"KINDER"),Ko(),Go(69,"option",27),ps(70,"PRE-KINDER"),Ko(),Go(71,"option",6),ps(72,"1-PRIMERO"),Ko(),Go(73,"option",7),ps(74,"2-SEGUNDO"),Ko(),Go(75,"option",8),ps(76,"3-TERCERO"),Ko(),Go(77,"option",5),ps(78,"4-CUARTO"),Ko(),Go(79,"option",28),ps(80,"5-QUINTO"),Ko(),Go(81,"option",29),ps(82,"6-SEXTO"),Ko(),Ko(),Go(83,"select",30),Jo("change",function(t){return e.onSelectTurno(t)}),Go(84,"option",4),ps(85,"Turno "),Ko(),Go(86,"option",6),ps(87,"MA\xd1ANA"),Ko(),Go(88,"option",7),ps(89,"TARDE"),Ko(),Ko(),Go(90,"div",31),Go(91,"ng-multiselect-dropdown",32),Jo("onSelect",function(t){return e.onItemSelect(t)}),Ko(),Ko(),Ko(),Ko(),Go(92,"div",33),Go(93,"div",34),Go(94,"label"),ps(95,"Fecha: "),Ko(),$o(96,"input",35),Ko(),Go(97,"div",36),Go(98,"label"),ps(99,"Hora: "),Ko(),$o(100,"input",37),Ko(),Ko(),Go(101,"div",38),Go(102,"label"),ps(103,"Descripci\xf3n"),Ko(),$o(104,"textarea",39),Ko(),Go(105,"div",40),Go(106,"button",41),ps(107,"Enviar"),Ko(),Ko(),Ko(),Ko(),Ko()),2&t&&(fi(4),zo("formGroup",e.comunForm),fi(36),zo("placeholder","Seleccione")("settings",e.cursoSettings)("data",e.niveles),fi(5),zo("placeholder","Seleccione")("settings",e.cursoSettings)("data",e.cursos)("disabled",e.disabled),fi(5),zo("placeholder","Seleccione")("settings",e.cursoSettings)("data",e.turnos),fi(41),zo("placeholder","Alumno")("settings",e.dropdownSettings)("data",e.filtroAlumno))},directives:[BM,cM,WM,QM,uM,KM,XM,eR,ER,FD],styles:['body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 151px)}label[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{padding:5px 5px 0 0}select[_ngcontent-%COMP%]{color:#000;height:38px;width:150px;margin:0;padding:0}.titulo[_ngcontent-%COMP%]{text-align:center;padding-top:15px;font-style:italic}.container[_ngcontent-%COMP%]{margin:10px auto 20px;padding:0 0 15px;transition:.5s ease;border-radius:5px;min-height:calc(100vh - 220px);width:65%;min-width:600px;background:#279be9;color:#fff;box-shadow:5px 5px 5px #999}#cont1[_ngcontent-%COMP%]{align-items:center}#cont1[_ngcontent-%COMP%], #cont2[_ngcontent-%COMP%]{width:100%;margin:0;padding:2%;border-bottom-color:#fff;border-bottom-style:solid}#cont2[_ngcontent-%COMP%]{flex-direction:row}#comunicado2[_ngcontent-%COMP%]{flex-direction:column;min-width:100%;height:90px;margin:0;padding:6px 2%;border-bottom-color:#fff;border-bottom-style:solid}.campo-nivel[_ngcontent-%COMP%]{margin:34px 0 0}.campo-curso[_ngcontent-%COMP%], .campo-nivel[_ngcontent-%COMP%]{width:21%;display:flex;position:absolute}.campo-curso[_ngcontent-%COMP%]{margin:34px 0 0 21%}.campo-turno[_ngcontent-%COMP%]{width:21%;display:flex;margin:34px 0 0 42%;position:absolute}#citacion2[_ngcontent-%COMP%]{flex-direction:column;height:90px}#citacion2[_ngcontent-%COMP%], #cont3[_ngcontent-%COMP%]{min-width:100%;margin:0;padding:6px 0 0 2%;border-bottom-color:#fff;border-bottom-style:solid}#cont3[_ngcontent-%COMP%]{height:80px}.campo-fecha[_ngcontent-%COMP%], .campo-hora[_ngcontent-%COMP%]{width:40%;height:100%;flex-direction:column;margin:0;padding:15px 100px 0 0}#date[_ngcontent-%COMP%], #time[_ngcontent-%COMP%]{padding:15px 0 15px 2%;min-height:38px;max-width:160px}#cont4[_ngcontent-%COMP%]{height:100%;min-width:100%;margin:0;padding:1% 1% 1% 2%}#campoDescripcion[_ngcontent-%COMP%]{resize:both;min-height:150px;max-width:99%;min-width:98%;border-radius:5px;border:1px solid #000}.multiselect[_ngcontent-%COMP%]{width:-webkit-max-content;width:max-content}.btn-contenedor[_ngcontent-%COMP%]{width:100%}.filter[_ngcontent-%COMP%]{display:flex;margin-top:-8px}.col-md-2[_ngcontent-%COMP%]{margin:0 10px 0 0}[_nghost-%COMP%]    .multiselect-dropdown{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:block;z-index:20}[_nghost-%COMP%]    .multiselect-dropdown .dropdown-btn{color:#000;background:#fff!important;min-width:14vw}[_nghost-%COMP%]    .multiselect-dropdown .dropdown-list{width:-webkit-max-content;width:max-content;z-index:999!important}[_nghost-%COMP%]    .multiselect-dropdown .dropdown-btn .selected-item-container .selected-item{min-width:-webkit-max-content;min-width:max-content;display:inline;z-index:200!important}[_nghost-%COMP%]    .multiselect-dropdown .dropdown-list .item2 .no-filtered-data{color:#000}#btnEnviar[_ngcontent-%COMP%]{width:20%;transform:translate(-50%);margin-top:10px;margin-left:50%;border:none;background:#00ff62;color:#fff;font-style:italic;position:relative;padding:.5rem 1rem;font-size:1.2rem;outline:none;overflow:hidden}.mouse-cursor-gradient-tracking[_ngcontent-%COMP%]:before{--size:0;content:"";position:absolute;left:var(--x);top:var(--y);width:var(--size);height:var(--size);background:radial-gradient(circle closest-side,#f8a9f8,#0000);transform:translate(-50%,-50%);transition:width .2s ease,height .2s ease}.mouse-cursor-gradient-tracking[_ngcontent-%COMP%]:hover:before{--size:200px}@media only screen and (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0}.titulo[_ngcontent-%COMP%]{padding-top:0}.container[_ngcontent-%COMP%]{min-width:90%;padding:0}.campos[_ngcontent-%COMP%], b[_ngcontent-%COMP%], label[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-left:10px}.campos[_ngcontent-%COMP%]{width:96%}#cont2[_ngcontent-%COMP%]{flex-direction:column;display:inline-flex}#citacion1[_ngcontent-%COMP%]{margin-top:10px}#comunicado2[_ngcontent-%COMP%]{height:100%;margin:0;padding-right:10px}#comunicado2[_ngcontent-%COMP%], .filter[_ngcontent-%COMP%]{flex-direction:column}.col-md-2[_ngcontent-%COMP%]{margin-bottom:10px;width:93%}.campo-nivel[_ngcontent-%COMP%]{margin-top:-10px}.campo-curso[_ngcontent-%COMP%], .campo-nivel[_ngcontent-%COMP%], .campo-turno[_ngcontent-%COMP%]{width:100%;flex-direction:column;position:relative;padding-left:10px}.campo-curso[_ngcontent-%COMP%], .campo-turno[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]    .multiselect-dropdown{max-width:100%!important;min-width:100%!important}.multiselect[_ngcontent-%COMP%]{min-width:97%}.alumnos[_ngcontent-%COMP%]{max-width:93%;margin-left:9px;padding-bottom:10px}#cont3[_ngcontent-%COMP%]{padding:0;margin:0}.campo-fecha[_ngcontent-%COMP%]{width:49%;margin:0;padding-left:15px}.campo-hora[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:49%}#date[_ngcontent-%COMP%], #time[_ngcontent-%COMP%]{padding:0;width:100%}#citacion2[_ngcontent-%COMP%]{flex-direction:column;height:100%;min-width:100%;margin:0}#campoDescripcion[_ngcontent-%COMP%]{min-height:100px}#btnEnviar[_ngcontent-%COMP%]{margin-bottom:15px}[_nghost-%COMP%]    .multiselect-dropdown .dropdown-list{width:100%;z-index:999!important}}']}),t})(),LR=(()=>{class t{constructor(t){var e,n;this.router=t,this.navigationExtras={state:{value:null}};const r=this.router.getCurrentNavigation();this.detalle=null===(n=null===(e=null==r?void 0:r.extras)||void 0===e?void 0:e.state)||void 0===n?void 0:n.value}ngOnInit(){void 0===this.detalle&&this.router.navigate(["lista"])}}return t.\u0275fac=function(e){return new(e||t)(Ho(op))},t.\u0275cmp=zt({type:t,selectors:[["app-detalle"]],decls:41,vars:7,consts:[[1,"titulo"],["id","detalle",1,"container"],["id","cont1",1,"form-row"],[1,"form-group"],["type","text","id","campo","disabled","",3,"value"],["id","cont2",1,"form-row"],["id","campo2",1,"form-group"],["id","cont3",1,"form-row"],["type","text","id","campo","disabled","","value","1-A, Secundaria"],["id","cont4",1,"form-colum"],["type","date","id","campof","disabled","",3,"value"],["type","time","id","campoh","disabled","",3,"value"],["id","cont5",1,"form-row"],[1,"texto"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"h4",0),ps(2,"Detalle de Comunicado"),Ko(),Go(3,"div",1),Go(4,"div",2),Go(5,"div",3),Go(6,"b"),ps(7,"Tipo de Comunicado:"),Ko(),$o(8,"input",4),Ko(),Ko(),Go(9,"div",5),Go(10,"div",3),Go(11,"b"),ps(12,"Redactado por:"),Ko(),$o(13,"input",4),Ko(),Go(14,"div",6),Go(15,"b"),ps(16,"Verifiacdo por:"),Ko(),$o(17,"input",4),Ko(),Ko(),Go(18,"div",7),Go(19,"div",3),Go(20,"b"),ps(21,"Origen:"),Ko(),$o(22,"input",4),Ko(),Go(23,"div",6),Go(24,"b"),ps(25,"Destinatario:"),Ko(),$o(26,"input",8),Ko(),Ko(),Go(27,"div",9),Go(28,"div",3),Go(29,"b"),ps(30,"Fecha del Evento:"),Ko(),$o(31,"input",10),Ko(),Go(32,"div",6),Go(33,"b"),ps(34,"Hora:"),Ko(),$o(35,"input",11),Ko(),Ko(),Go(36,"div",12),Go(37,"b"),ps(38,"Descripci\xf3n:"),Ko(),Go(39,"p",13),ps(40),Ko(),Ko(),Ko(),Ko()),2&t&&(fi(8),ns("value",e.detalle.tipo),fi(5),ns("value",e.detalle.redactor),fi(4),ns("value",e.detalle.verificador),fi(5),ns("value",e.detalle.origen),fi(9),ns("value",e.detalle.fecha_Evento),fi(4),ns("value",e.detalle.hora_Evento),fi(5),gs(e.detalle.detalle))},styles:["body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 154px)}b[_ngcontent-%COMP%]{font-size:calc(.5em + 1vw);line-height:1em}.titulo[_ngcontent-%COMP%]{padding-top:15px;text-align:center;font-style:italic}.container[_ngcontent-%COMP%]{margin:auto auto 1em;padding:0;width:50%;height:100%;background:#279be9;color:#fff}input[_ngcontent-%COMP%]{font-size:calc(.5em + 1vw);line-height:1em;background-color:initial;border-style:none;color:#000;margin-left:10px}.texto[_ngcontent-%COMP%]{color:#000;padding:4px}#cont1[_ngcontent-%COMP%], #cont2[_ngcontent-%COMP%], #cont3[_ngcontent-%COMP%], #cont4[_ngcontent-%COMP%]{border-bottom:solid #fff}#cont1[_ngcontent-%COMP%], #cont2[_ngcontent-%COMP%], #cont3[_ngcontent-%COMP%], #cont4[_ngcontent-%COMP%], #cont5[_ngcontent-%COMP%]{width:100%;margin:0;padding-top:1em;padding-left:10px}.btn-contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:50%;margin:auto}#campof[_ngcontent-%COMP%]{max-width:182px}.btn-contenedor2[_ngcontent-%COMP%]{min-width:100%}#btnPublicar[_ngcontent-%COMP%]{transform:translate(-50%);margin-left:50%;margin-bottom:1em}@media only screen and (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0}.titulo[_ngcontent-%COMP%]{padding-top:0}.container[_ngcontent-%COMP%]{width:90%}#estado[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:90px}.btn-contenedor[_ngcontent-%COMP%]{max-width:80%;margin:auto}textarea[_ngcontent-%COMP%]{padding-left:5px}}"]}),t})();var DR=n(4974),MR=n(2279),RR=n.n(MR);function FR(t,e){if(1&t){var n=Yo();Go(0,"a",11),Jo("keyup.enter",function(){return Oe(n),es(3),Vo(1).previous()})("click",function(){return Oe(n),es(3),Vo(1).previous()}),ps(1),Go(2,"span",12),ps(3),Ko(),Ko()}if(2&t){var r=es(3);jo("aria-label",r.previousLabel+" "+r.screenReaderPageLabel),fi(1),ms(" ",r.previousLabel," "),fi(2),gs(r.screenReaderPageLabel)}}function jR(t,e){if(1&t&&(Go(0,"span"),ps(1),Go(2,"span",12),ps(3),Ko(),Ko()),2&t){var n=es(3);fi(1),ms(" ",n.previousLabel," "),fi(2),gs(n.screenReaderPageLabel)}}function UR(t,e){if(1&t&&(Go(0,"li",8),Bo(1,FR,4,3,"a",9),Bo(2,jR,4,2,"span",10),Ko()),2&t){es(2);var n=Vo(1);us("disabled",n.isFirstPage()),fi(1),zo("ngIf",1<n.getCurrent()),fi(1),zo("ngIf",n.isFirstPage())}}function qR(t,e){if(1&t){var n=Yo();Go(0,"a",11),Jo("keyup.enter",function(){Oe(n);var t=es().$implicit;return es(2),Vo(1).setCurrent(t.value)})("click",function(){Oe(n);var t=es().$implicit;return es(2),Vo(1).setCurrent(t.value)}),Go(1,"span",12),ps(2),Ko(),Go(3,"span"),ps(4),qa(5,"number"),Ko(),Ko()}if(2&t){var r=es().$implicit,i=es(2);fi(2),ms("",i.screenReaderPageLabel," "),fi(2),gs("..."===r.label?r.label:Ba(5,2,r.label,""))}}function BR(t,e){if(1&t&&(function(t,e,n){const r=Pe(),i=Ne(),o=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ie(o,undefined),a=Ci(e,20,8,"ng-container",s);return null!==s&&so(a,s,!0),Mi(e,n,a,Ie(o,undefined)),null!==e.queries&&e.queries.elementStart(e,a),a}(0,i,r):i.data[20];Me(o,!0);const s=r[20]=r[11].createComment("");Wr(i,r,s,o),_r(s,r),se(o)&&(Ti(i,r,o),Ei(i,o,r))}(),Go(1,"span",12),ps(2),Ko(),Go(3,"span"),ps(4),qa(5,"number"),Ko(),function(){let t=Le();const e=Ne();Re()?Fe():(t=t.parent,Me(t,!1)),e.firstCreatePass&&(on(e,t),ie(t)&&e.queries.elementEnd(t))}()),2&t){var n=es().$implicit,r=es(2);fi(2),ms("",r.screenReaderCurrentLabel," "),fi(2),gs("..."===n.label?n.label:Ba(5,2,n.label,""))}}function VR(t,e){if(1&t&&(Go(0,"li"),Bo(1,qR,6,5,"a",9),Bo(2,BR,6,5,"ng-container",10),Ko()),2&t){var n=e.$implicit;es(2);var r=Vo(1);us("current",r.getCurrent()===n.value)("ellipsis","..."===n.label),fi(1),zo("ngIf",r.getCurrent()!==n.value),fi(1),zo("ngIf",r.getCurrent()===n.value)}}function HR(t,e){if(1&t){var n=Yo();Go(0,"a",11),Jo("keyup.enter",function(){return Oe(n),es(3),Vo(1).next()})("click",function(){return Oe(n),es(3),Vo(1).next()}),ps(1),Go(2,"span",12),ps(3),Ko(),Ko()}if(2&t){var r=es(3);jo("aria-label",r.nextLabel+" "+r.screenReaderPageLabel),fi(1),ms(" ",r.nextLabel," "),fi(2),gs(r.screenReaderPageLabel)}}function zR(t,e){if(1&t&&(Go(0,"span"),ps(1),Go(2,"span",12),ps(3),Ko(),Ko()),2&t){var n=es(3);fi(1),ms(" ",n.nextLabel," "),fi(2),gs(n.screenReaderPageLabel)}}function WR(t,e){if(1&t&&(Go(0,"li",13),Bo(1,HR,4,3,"a",9),Bo(2,zR,4,2,"span",10),Ko()),2&t){es(2);var n=Vo(1);us("disabled",n.isLastPage()),fi(1),zo("ngIf",!n.isLastPage()),fi(1),zo("ngIf",n.isLastPage())}}function GR(t,e){if(1&t&&(Go(0,"ul",3),Bo(1,UR,3,4,"li",4),Go(2,"li",5),ps(3),Ko(),Bo(4,VR,3,6,"li",6),Bo(5,WR,3,4,"li",7),Ko()),2&t){var n=es(),r=Vo(1);us("responsive",n.responsive),jo("aria-label",n.screenReaderPaginationLabel),fi(1),zo("ngIf",n.directionLinks),fi(2),vs(" ",r.getCurrent()," / ",r.getLastPage()," "),fi(1),zo("ngForOf",r.pages)("ngForTrackBy",n.trackByIndex),fi(1),zo("ngIf",n.directionLinks)}}var KR=function(){function t(){this.change=new Ha,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return t.prototype.defaultId=function(){return this.DEFAULT_ID},t.prototype.register=function(t){return null==t.id&&(t.id=this.DEFAULT_ID),this.instances[t.id]?this.updateInstance(t):(this.instances[t.id]=t,!0)},t.prototype.updateInstance=function(t){var e=!1;for(var n in this.instances[t.id])t[n]!==this.instances[t.id][n]&&(this.instances[t.id][n]=t[n],e=!0);return e},t.prototype.getCurrentPage=function(t){if(this.instances[t])return this.instances[t].currentPage},t.prototype.setCurrentPage=function(t,e){if(this.instances[t]){var n=this.instances[t];e<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=e&&(this.instances[t].currentPage=e,this.change.emit(t))}},t.prototype.setTotalItems=function(t,e){this.instances[t]&&0<=e&&(this.instances[t].totalItems=e,this.change.emit(t))},t.prototype.setItemsPerPage=function(t,e){this.instances[t]&&(this.instances[t].itemsPerPage=e,this.change.emit(t))},t.prototype.getInstance=function(t){return void 0===t&&(t=this.DEFAULT_ID),this.instances[t]?this.clone(this.instances[t]):{}},t.prototype.clone=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=dt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),$R=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},YR=Number.MAX_SAFE_INTEGER,QR=function(){function t(t){this.service=t,this.state={}}return t.prototype.transform=function(t,e){if(!(t instanceof Array)){var n=e.id||this.service.defaultId();return this.state[n]?this.state[n].slice:t}var r,i,o=e.totalItems&&e.totalItems!==t.length,s=this.createInstance(t,e),a=s.id,u=s.itemsPerPage,c=this.service.register(s);if(!o&&t instanceof Array){if(this.stateIsIdentical(a,t,r=(s.currentPage-1)*(u=+u||YR),i=r+u))return this.state[a].slice;var l=t.slice(r,i);return this.saveState(a,t,l,r,i),this.service.change.emit(a),l}return c&&this.service.change.emit(a),this.saveState(a,t,t,r,i),t},t.prototype.createInstance=function(t,e){return this.checkConfig(e),{id:null!=e.id?e.id:this.service.defaultId(),itemsPerPage:+e.itemsPerPage||0,currentPage:+e.currentPage||1,totalItems:+e.totalItems||t.length}},t.prototype.checkConfig=function(t){var e=["itemsPerPage","currentPage"].filter(function(e){return!(e in t)});if(0<e.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+e.join(", "))},t.prototype.saveState=function(t,e,n,r,i){this.state[t]={collection:e,size:e.length,slice:n,start:r,end:i}},t.prototype.stateIsIdentical=function(t,e,n,r){var i=this.state[t];return!!i&&!(i.size!==e.length||i.start!==n||i.end!==r)&&i.slice.every(function(t,r){return t===e[n+r]})},(t=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$R("design:paramtypes",[KR])],t)).\u0275fac=function(e){return new(e||t)(Ho(KR,16))},t.\u0275pipe=Xt({name:"paginate",type:t,pure:!1}),t}(),XR=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},JR=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};function ZR(t){return!!t&&"false"!==t}var tF=function(){function t(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new Ha,this.pageBoundsCorrection=new Ha,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(t.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(t){this._directionLinks=ZR(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHide",{get:function(){return this._autoHide},set:function(t){this._autoHide=ZR(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive},set:function(t){this._responsive=ZR(t)},enumerable:!0,configurable:!0}),t.prototype.trackByIndex=function(t){return t},XR([za(),JR("design:type",String)],t.prototype,"id",void 0),XR([za(),JR("design:type",Number)],t.prototype,"maxSize",void 0),XR([za(),JR("design:type",Boolean),JR("design:paramtypes",[Boolean])],t.prototype,"directionLinks",null),XR([za(),JR("design:type",Boolean),JR("design:paramtypes",[Boolean])],t.prototype,"autoHide",null),XR([za(),JR("design:type",Boolean),JR("design:paramtypes",[Boolean])],t.prototype,"responsive",null),XR([za(),JR("design:type",String)],t.prototype,"previousLabel",void 0),XR([za(),JR("design:type",String)],t.prototype,"nextLabel",void 0),XR([za(),JR("design:type",String)],t.prototype,"screenReaderPaginationLabel",void 0),XR([za(),JR("design:type",String)],t.prototype,"screenReaderPageLabel",void 0),XR([za(),JR("design:type",String)],t.prototype,"screenReaderCurrentLabel",void 0),XR([Wa(),JR("design:type",Ha)],t.prototype,"pageChange",void 0),XR([Wa(),JR("design:type",Ha)],t.prototype,"pageBoundsCorrection",void 0),t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,e){if(1&t&&(Go(0,"pagination-template",0,1),Jo("pageChange",function(t){return e.pageChange.emit(t)})("pageBoundsCorrection",function(t){return e.pageBoundsCorrection.emit(t)}),Bo(2,GR,6,9,"ul",2),Ko()),2&t){var n=Vo(1);zo("id",e.id)("maxSize",e.maxSize),fi(2),zo("ngIf",!(e.autoHide&&n.pages.length<=1))}},directives:function(){return[rF,Zc,Xc]},pipes:function(){return[nl]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),t}(),eF=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},nF=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},rF=function(){function t(t,e){var n=this;this.service=t,this.changeDetectorRef=e,this.maxSize=7,this.pageChange=new Ha,this.pageBoundsCorrection=new Ha,this.pages=[],this.changeSub=this.service.change.subscribe(function(t){n.id===t&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())})}return t.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},t.prototype.ngOnChanges=function(t){this.updatePageLinks()},t.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},t.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},t.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},t.prototype.isFirstPage=function(){return 1===this.getCurrent()},t.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},t.prototype.setCurrent=function(t){this.pageChange.emit(t)},t.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},t.prototype.getLastPage=function(){var t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)},t.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},t.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},t.prototype.updatePageLinks=function(){var t=this,e=this.service.getInstance(this.id),n=this.outOfBoundCorrection(e);n!==e.currentPage?setTimeout(function(){t.pageBoundsCorrection.emit(n),t.pages=t.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,t.maxSize)}):this.pages=this.createPageArray(e.currentPage,e.itemsPerPage,e.totalItems,this.maxSize)},t.prototype.outOfBoundCorrection=function(t){var e=Math.ceil(t.totalItems/t.itemsPerPage);return e<t.currentPage&&0<e?e:t.currentPage<1?1:t.currentPage},t.prototype.createPageArray=function(t,e,n,r){r=+r;for(var i=[],o=Math.max(Math.ceil(n/e),1),s=Math.ceil(r/2),a=t<=s,u=o-s<t,c=!a&&!u,l=r<o,h=1;h<=o&&h<=r;){var f=this.calculatePageNumber(h,t,r,o);i.push({label:l&&(2===h&&(c||u)||h===r-1&&(c||a))?"...":f,value:f}),h++}return i},t.prototype.calculatePageNumber=function(t,e,n,r){var i=Math.ceil(n/2);return t===n?r:1===t?t:n<r?r-i<e?r-n+t:i<e?e-i+t:t:t},eF([za(),nF("design:type",String)],t.prototype,"id",void 0),eF([za(),nF("design:type",Number)],t.prototype,"maxSize",void 0),eF([Wa(),nF("design:type",Ha)],t.prototype,"pageChange",void 0),eF([Wa(),nF("design:type",Ha)],t.prototype,"pageBoundsCorrection",void 0),(t=eF([nF("design:paramtypes",[KR,da])],t)).\u0275fac=function(e){return new(e||t)(Ho(KR),Ho(da))},t.\u0275dir=Qt({type:t,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[le]}),t}(),iF=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({providers:[KR],imports:[[rl]]}),t}();function oF(t,e){if(1&t){const t=Yo();Go(0,"tr"),Go(1,"td",27),ps(2),Ko(),Go(3,"td",28),ps(4),Ko(),Go(5,"td",29),ps(6),Ko(),Go(7,"td",30),ps(8),Ko(),Go(9,"td",31),ps(10),Ko(),Go(11,"td"),Go(12,"div",24),Go(13,"button",32),Jo("click",function(){const e=Oe(t).$implicit;return es().detalle(e)}),ps(14,"Detalles"),Ko(),Go(15,"button",33),ps(16,"Eliminar"),Ko(),Ko(),Ko(),Ko()}if(2&t){const t=e.$implicit;fi(2),gs(t.tipo),fi(2),gs(t.origen),fi(2),gs(t.destinatario),fi(2),gs(t.fecha_Publicacion),fi(2),gs(t.fecha_Evento)}}function sF(t,e){if(1&t&&(Go(0,"tr"),Go(1,"td",27),ps(2),Ko(),Go(3,"td",28),ps(4),Ko(),Go(5,"td",29),ps(6),Ko(),Go(7,"td",30),ps(8),Ko(),Go(9,"td",31),ps(10),Ko(),Go(11,"td",31),ps(12),Ko(),Ko()),2&t){const t=e.$implicit;fi(2),gs(t.tipo),fi(2),gs(t.origen),fi(2),gs(t.destinatario),fi(2),gs(t.fecha_Publicacion),fi(2),gs(t.fecha_Evento),fi(2),gs(t.redactor)}}const aF=function(t){return{itemsPerPage:5,currentPage:t}};let uF=(()=>{class t{constructor(t,e){this.dataService=t,this.router=e,this.p=1,this.navigationExtras={state:{value:null}}}ngOnInit(){this.ListarComunicado()}ListarComunicado(){this.dataService.listarComunicado().subscribe(t=>this.comunicado=t)}detalle(t){this.navigationExtras.state.value=t,this.router.navigate(["detalles"],this.navigationExtras)}obtenerDatos(){let t=[];document.querySelectorAll(".table tbody tr").forEach(function(e){let n={tipo:e.querySelector(".tipo").textContent,origen:e.querySelector(".origen").textContent,varios:e.querySelector(".varios").textContent,publicacion:e.querySelector(".publicacion").textContent,evento:e.querySelector(".evento").textContent};t.push(n)})}getPDF(){const t=new DR.default;RR()(t,{html:"#tablaReport"}),t.save("table.pdf")}}return t.\u0275fac=function(e){return new(e||t)(Ho(SD),Ho(op))},t.\u0275cmp=zt({type:t,selectors:[["app-lista"]],decls:77,vars:7,consts:[[1,"titulo"],["id","contenedor1",1,"form-row"],[1,"subtitulo"],[1,"col-md-2"],["id","tipoCom","onchange","BuscarTc(this.value)",1,"buscador","form-control"],["value","","selected","",2,"display","none"],["value","citaci\xf3n"],["value","circular"],["value","convocatoria"],["value","invitacion"],["id","Origen","onchange","BuscarOrigen(this.value)",1,"buscador","form-control"],["selected","",2,"display","none"],["value","direcci\xf3n"],["value","finanza"],["value","consejero"],["value","docente","disabled",""],[1,"col-md-2","rangos"],["for",""],["type","date","id","fechaP","onchange","BuscarFechaPublicacion(this.value)",1,"buscador","form-control"],["type","date","id","fechaE","onchange","BuscarFechaEvento(this.value)",1,"buscador","form-control"],["id","tblComunicado",1,"table","table-responsive","table-hover","table-striped","table-bordered"],[1,"coll"],[4,"ngFor","ngForOf"],[3,"pageChange"],[1,"btn-group"],["type","button",1,"btn","btn-danger",3,"click"],["id","tablaReport","hidden","",1,"table","table-responsive","table-hover","table-striped","table-bordered"],[1,"tipo"],[1,"origen"],[1,"varios"],[1,"publicacion"],[1,"evento"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button","onclick","Eliminar(item.id)",1,"btn","btn-outline-danger"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"h4",0),ps(2,"Lista de Comunicados"),Ko(),Go(3,"div",1),Go(4,"label",2),ps(5,"Buscar"),Ko(),Go(6,"div",3),Go(7,"select",4),Go(8,"option",5),ps(9,"Tipo Comunicado "),Ko(),Go(10,"option",6),ps(11,"CITACION"),Ko(),Go(12,"option",7),ps(13,"CIRCULAR"),Ko(),Go(14,"option",8),ps(15,"CONVOCATORIA"),Ko(),Go(16,"option",9),ps(17,"INVITACION"),Ko(),Ko(),Ko(),Go(18,"div",3),Go(19,"select",10),Go(20,"option",11),ps(21,"Origen "),Ko(),Go(22,"option",12),ps(23,"DIRECCION"),Ko(),Go(24,"option",13),ps(25,"DEP. FINANZIERO"),Ko(),Go(26,"option",14),ps(27,"DEP. CONSEJERIA"),Ko(),Go(28,"option",15),ps(29,"DOCENTE"),Ko(),Ko(),Ko(),Go(30,"div",16),Go(31,"label",17),ps(32,"Pub."),Ko(),$o(33,"input",18),Ko(),Go(34,"div",16),Go(35,"label",17),ps(36,"Ev."),Ko(),$o(37,"input",19),Ko(),Ko(),Go(38,"table",20),Go(39,"thead"),Go(40,"tr"),Go(41,"th",21),ps(42,"Tipo de Comunicado"),Ko(),Go(43,"th"),ps(44,"Origen"),Ko(),Go(45,"th"),ps(46,"Destinatario"),Ko(),Go(47,"th"),ps(48,"Fecha de Publicaci\xf3n"),Ko(),Go(49,"th"),ps(50,"Fecha de Evento"),Ko(),Go(51,"th"),ps(52,"Operaciones"),Ko(),Ko(),Ko(),Go(53,"tbody"),Bo(54,oF,17,5,"tr",22),qa(55,"paginate"),Ko(),Ko(),Go(56,"pagination-controls",23),Jo("pageChange",function(t){return e.p=t}),Ko(),Go(57,"div",24),Go(58,"button",25),Jo("click",function(){return e.getPDF()}),ps(59,"Exportar a PDF"),Ko(),Ko(),Go(60,"table",26),Go(61,"thead"),Go(62,"tr"),Go(63,"th"),ps(64,"Tipo de Comunicado"),Ko(),Go(65,"th"),ps(66,"Origen"),Ko(),Go(67,"th"),ps(68,"Destinatario"),Ko(),Go(69,"th"),ps(70,"Fecha de Publicaci\xf3n"),Ko(),Go(71,"th"),ps(72,"Fecha de Evento"),Ko(),Go(73,"th"),ps(74,"Redaccion"),Ko(),Ko(),Ko(),Go(75,"tbody"),Bo(76,sF,13,6,"tr",22),Ko(),Ko(),Ko()),2&t&&(fi(54),zo("ngForOf",Ba(55,2,e.comunicado,ja(5,aF,e.p))),fi(22),zo("ngForOf",e.comunicado))},directives:[XM,eR,Xc,tF],pipes:[QR],styles:["body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 151px)}.titulo[_ngcontent-%COMP%]{width:100%;padding-top:2%;text-align:center;font-style:italic}.rangos[_ngcontent-%COMP%]{flex-direction:row;display:flex;position:relative}.rangos[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:150px}label[_ngcontent-%COMP%]{margin:6px 0 5px 5px}#contenedor1[_ngcontent-%COMP%]{margin:auto;width:90%;justify-content:center}.buscador[_ngcontent-%COMP%]{margin-bottom:10px}.table[_ngcontent-%COMP%]{width:90%;margin:0 0 0 15%;border-style:none}thead[_ngcontent-%COMP%]{background-color:#00bfff}pagination-controls[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0}*[_ngcontent-%COMP%]{font-size:calc(.5em + 1vw);line-height:1em}#contenedor1[_ngcontent-%COMP%]{flex-direction:column;margin:auto}.buscador[_ngcontent-%COMP%]{width:100%;margin-left:0}.table[_ngcontent-%COMP%]{width:90%;margin:auto}}"]}),t})();function cF(t,e){if(1&t){const t=Yo();Go(0,"tr"),Go(1,"td"),ps(2),Ko(),Go(3,"td"),ps(4),Ko(),Go(5,"td"),ps(6),Ko(),Go(7,"td"),ps(8,"Varios"),Ko(),Go(9,"td"),ps(10),Ko(),Go(11,"td"),ps(12),Ko(),Go(13,"td",5),Go(14,"div",6),Go(15,"button",7),Jo("click",function(){const e=Oe(t).$implicit;return es().detalle(e)}),ps(16,"Detalles"),Ko(),Ko(),Go(17,"div",6),Go(18,"button",8),ps(19,"Eliminar"),Ko(),Ko(),Ko(),Ko()}if(2&t){const t=e.$implicit;fi(2),gs(t.id),fi(2),gs(t.fPublicacion),fi(2),gs(t.origen),fi(4),gs(t.tipo),fi(2),gs(t.redactor)}}const lF=function(t){return{itemsPerPage:5,currentPage:t}};let hF=(()=>{class t{constructor(t,e){this.dataService=t,this.router=e,this.p=1,this.navigationExtras={state:{value:null}}}ngOnInit(){this.ListarPendiente()}ListarPendiente(){this.dataService.listarPendiente().subscribe(t=>this.comunicado=t)}detalle(t){this.navigationExtras.state.value=t,this.router.navigate(["detallePendiente"],this.navigationExtras)}}return t.\u0275fac=function(e){return new(e||t)(Ho(SD),Ho(op))},t.\u0275cmp=zt({type:t,selectors:[["app-pendiente"]],decls:24,vars:6,consts:[[1,"container"],[1,"titulo"],[1,"table","table-responsive","table-hover","table-striped","table-bordered"],[4,"ngFor","ngForOf"],[3,"pageChange"],[1,"botones"],[1,"btn-group"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button","onchange","Eliminar(this.value)",1,"btn","btn-outline-danger"]],template:function(t,e){1&t&&(Go(0,"div",0),Go(1,"h4",1),ps(2,"Lista de Comunicados Pendientes"),Ko(),Go(3,"table",2),Go(4,"thead"),Go(5,"tr"),Go(6,"th"),ps(7,"ID"),Ko(),Go(8,"th"),ps(9,"Fecha"),Ko(),Go(10,"th"),ps(11,"Origen"),Ko(),Go(12,"th"),ps(13,"Destinatario"),Ko(),Go(14,"th"),ps(15,"Tipo de comunicado"),Ko(),Go(16,"th"),ps(17,"Redacci\xf3n"),Ko(),Go(18,"th"),ps(19,"Operaciones"),Ko(),Ko(),Ko(),Go(20,"tbody"),Bo(21,cF,20,5,"tr",3),qa(22,"paginate"),Ko(),Ko(),Go(23,"pagination-controls",4),Jo("pageChange",function(t){return e.p=t}),Ko(),Ko()),2&t&&(fi(21),zo("ngForOf",Ba(22,1,e.comunicado,ja(4,lF,e.p))))},directives:[Xc,tF],pipes:[QR],styles:[".container[_ngcontent-%COMP%]{margin:29px auto auto;min-height:calc(100vh - 151px)}.titulo[_ngcontent-%COMP%]{width:100%;padding-top:2%;text-align:center;font-style:italic}.table[_ngcontent-%COMP%]{border-style:none;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:auto}thead[_ngcontent-%COMP%]{background-color:#00bfff}.btn-group[_ngcontent-%COMP%]{margin-left:5px}pagination-controls[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width:700px){*[_ngcontent-%COMP%]{font-size:calc(.5em + 1vw);line-height:1em}.titulo[_ngcontent-%COMP%]{padding-top:0}.container[_ngcontent-%COMP%]{margin-top:0}.table[_ngcontent-%COMP%]{width:100%}.btn-group[_ngcontent-%COMP%]{margin-top:2px;margin-bottom:2px}}"]}),t})(),fF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["app-mision-vision"]],decls:38,vars:0,consts:[[1,"container"],[1,"item"],["id","list-tab","role","tablist",1,"list-group"],["onclick","cambiar(0)","id","list-mision-list","data-toggle","list","href","#list-mision","role","tab","aria-controls","mision",1,"list-group-item","list-group-item-action","active"],["onclick","cambiar(1)","id","list-vision-list","data-toggle","list","href","#list-vision","role","tab","aria-controls","vision",1,"list-group-item","list-group-item-action"],["onclick","cambiar(2)","id","list-objetivos-list","data-toggle","list","href","#list-objetivos","role","tab","aria-controls","objetivos",1,"list-group-item","list-group-item-action"],[1,"logo"],["id","logo","src","../../../../assets/Imagenes/logo-mision.png"],[1,"descripcion"],[1,"tab-content"],["id","list-mision","role","tabpanel","aria-labelledby","list-mision-list",1,"tab-pane","fade","show","active"],["id","list-vision","role","tabpanel","aria-labelledby","list-vision-list",1,"tab-pane","fade"],["id","list-objetivos","role","tabpanel","aria-labelledby","list-objetivos-list",1,"tab-pane","fade"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"div",0),Go(2,"div",1),Go(3,"div",2),Go(4,"a",3),ps(5,"MISION"),Ko(),Go(6,"a",4),ps(7,"VISION"),Ko(),Go(8,"a",5),ps(9,"VALORES"),Ko(),Ko(),Go(10,"div",6),$o(11,"img",7),Ko(),Ko(),Go(12,"div",8),Go(13,"div",9),Go(14,"div",10),ps(15,"\u201cEl CBDS Instituci\xf3n Educativa confiable, con un sistema de doble escolaridad bajo est\xe1ndares de calidad internacional, formando integralmente a los estudiantes con una base s\xf3lida para la educaci\xf3n superior, llevado a cabo por talento humano comprometido con nuestro modelo educativo\u201d"),Ko(),Go(16,"div",11),ps(17,"\u201cSer reconocidos a nivel nacional como una instituci\xf3n educativa biling\xfce, con est\xe1ndares internacionales de calidad en la formaci\xf3n integral de estudiantes para una educaci\xf3n superior\u201d."),Ko(),Go(18,"div",12),Go(19,"p"),ps(20," * Formar la personalidad y la capacidad de asumir con responsabilidad y autonom\xeda sus derechos y deberes. "),Ko(),Go(21,"p"),ps(22," * Proporcionar una s\xf3lida formaci\xf3n \xe9tica, moral, y fomentar la pr\xe1ctica del respeto a los derechos humanos. "),Ko(),Go(23,"p"),ps(24," * Fomentar en la instituci\xf3n educativa, pr\xe1cticas democr\xe1ticas para el aprendizaje de los principios, valores de la participaci\xf3n y organizaci\xf3n ciudadana, estimular la autonom\xeda y la responsabilidad social. "),Ko(),Go(25,"p"),ps(26," * Desarrollar una sana sexualidad que promueva el conocimiento de s\xed mismo y la autoestima, la construcci\xf3n de la identidad sexual dentro del respeto por la equidad de los sexos, la afectividad, el respeto mutuo y prepararse para una vida familiar arm\xf3nica y responsable. "),Ko(),Go(27,"p"),ps(28," * Crear y fomentar una conciencia de solidaridad internacional "),Ko(),Go(29,"p"),ps(30," * Fundamentar cimientos en los futuros universitarios y/o profesionales, capaces de ejercer a cabalidad dentro y fuera del pa\xeds. "),Ko(),Go(31,"p"),ps(32," * Desarrollar acciones de orientaci\xf3n escolar, profesional y ocupacional. "),Ko(),Go(33,"p"),ps(34," * Formar una conciencia educativa para el esfuerzo y el trabajo "),Ko(),Go(35,"p"),ps(36," * Fomentar el inter\xe9s y el respeto por la identidad cultural de los grupos \xe9tnicos. "),Ko(),ps(37," * Incrementar las nuevas tecnolog\xedas como recursos de apoyo para el aprendizaje de nuestros estudiantes desde nivel inicial hasta finalizaci\xf3n del bachillerato. "),Ko(),Ko(),Ko(),Ko(),Ko())},styles:["body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 151px);display:flex}.container[_ngcontent-%COMP%]{min-width:100%!important;min-height:100%!important;padding:0;margin:0;display:flex}.item[_ngcontent-%COMP%]{min-width:30%;padding:3%}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.tab-content[_ngcontent-%COMP%]{text-align:justify;margin:5%}@media only screen and (max-width:700px){.container[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin-top:0}.container[_ngcontent-%COMP%]{flex-direction:column;padding:0 20px 20px}.item[_ngcontent-%COMP%]{width:100%;display:flex;padding-right:0;justify-content:center}.list-group[_ngcontent-%COMP%]{min-width:47%}.logo[_ngcontent-%COMP%]{position:relative;margin-top:15px;right:-10px}.tab-content[_ngcontent-%COMP%]{margin:2% 0 0}}"]}),t})(),dF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["app-novedades"]],decls:48,vars:0,consts:[[1,"card","mb-3"],["src","https://1.bp.blogspot.com/-VGah7InqCLU/VlcRT4uGvtI/AAAAAAAAAY4/4HwWmnpIivk/s1600/IMG-20151125-WA0030.jpg",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"text-muted"],["src","https://c1.staticflickr.com/8/7608/16387484843_cddbc2048a_c.jpg",1,"card-img-top"],["src","https://4.bp.blogspot.com/-HL4yksjn78E/U3pxJJNMjVI/AAAAAAAAAPY/fCX7qqrf9Ks/s1600/140514+ced+SC.jpg",1,"card-img-top"],["aria-label","Page navigation",1,"navegacion"],[1,"pagination"],[1,"page-item"],["href","#",1,"page-link"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"div",0),$o(2,"img",1),Go(3,"div",2),Go(4,"h5",3),ps(5,"PROMO 2019"),Ko(),Go(6,"p",4),ps(7,"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."),Ko(),Go(8,"p",4),Go(9,"small",5),ps(10,"Last updated 3 mins ago"),Ko(),Ko(),Ko(),Ko(),Go(11,"div",0),$o(12,"img",6),Go(13,"div",2),Go(14,"h5",3),ps(15,"NUESTAS ACTIVIDADES"),Ko(),Go(16,"p",4),ps(17,"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."),Ko(),Go(18,"p",4),Go(19,"small",5),ps(20,"Last updated 3 mins ago"),Ko(),Ko(),Ko(),Ko(),Go(21,"div",0),$o(22,"img",7),Go(23,"div",2),Go(24,"h5",3),ps(25,"Card title"),Ko(),Go(26,"p",4),ps(27,"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."),Ko(),Go(28,"p",4),Go(29,"small",5),ps(30,"Last updated 3 mins ago"),Ko(),Ko(),Ko(),Ko(),Go(31,"nav",8),Go(32,"ul",9),Go(33,"li",10),Go(34,"a",11),ps(35,"Anterior"),Ko(),Ko(),Go(36,"li",10),Go(37,"a",11),ps(38,"1"),Ko(),Ko(),Go(39,"li",10),Go(40,"a",11),ps(41,"2"),Ko(),Ko(),Go(42,"li",10),Go(43,"a",11),ps(44,"3"),Ko(),Ko(),Go(45,"li",10),Go(46,"a",11),ps(47,"Siguiente"),Ko(),Ko(),Ko(),Ko(),Ko())},styles:["body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 154px)}.card[_ngcontent-%COMP%]{background:skyblue;width:70%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;position:relative;transform:translate(-50%);left:50%;margin-top:5%}.card-img-top[_ngcontent-%COMP%]{width:100%;max-height:480px}.card-text[_ngcontent-%COMP%]{text-align:justify}.navegacion[_ngcontent-%COMP%]{position:relative;margin-top:1%;display:flex;flex-wrap:wrap;justify-content:center}.pagination[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width:700px){.card[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin-top:0}.card[_ngcontent-%COMP%]{width:80%}.card-img-top[_ngcontent-%COMP%]{max-height:200px}}"]}),t})();function pF(t,e){1&t&&(Go(0,"button",35),ps(1,"Editar"),Ko())}function gF(t,e){1&t&&(Go(0,"button",35),ps(1,"Editar"),Ko())}let mF=(()=>{class t{constructor(t){this.dataService=t,t.getLoggedInName.subscribe(t=>this.changeName(t)),this.dataService.isLoggedIn()?(this.loginbtn=!1,this.logoutbtn=!0):(this.loginbtn=!0,this.logoutbtn=!1)}changeName(t){this.logoutbtn=t,this.loginbtn=!t}logout(){this.dataService.deleteToken(),window.location.href=window.location.href}}return t.\u0275fac=function(e){return new(e||t)(Ho(SD))},t.\u0275cmp=zt({type:t,selectors:[["app-docente"]],decls:99,vars:2,consts:[["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css","rel","stylesheet"],["href","https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css","rel","stylesheet"],[1,"container"],[1,"container-card"],[1,"col"],[1,"card"],["src","https://i0.pngocean.com/files/688/151/727/computer-icons-teacher-icon-design-education-applause.jpg","alt","...",1,"card-img"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["type","button","class","btn btn-warning","id","edit","data-toggle","modal","data-target","#modal1",4,"ngIf"],["type","button","id","edit",1,"btn","btn-warning"],["id","modal1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","close",1,"close"],[1,"modal-body"],["type","file","name","archivo",2,"width","100%"],[1,"form-group","has-feedback"],[1,"fa","fa-address-card","form-control-feedback"],["type","text","placeholder","Nombre",1,"form-control"],["type","text","placeholder","Apellido Paterno",1,"form-control"],["type","text","placeholder","Apellido Materno",1,"form-control"],[1,"fa","fa-book","form-control-feedback"],["name","materia","id","",1,"form-control"],["value","","hidden",""],["value","1"],["value","2"],["value","3"],[1,"fa","fa-briefcase","form-control-feedback"],[1,"modal-footer"],["type","button","data-dismiss","modal","disabled","",1,"btn","btn-info"],["type","button",1,"btn","btn-primary"],["type","button","id","edit","data-toggle","modal","data-target","#modal1",1,"btn","btn-warning"]],template:function(t,e){1&t&&($o(0,"link",0),$o(1,"link",1),Go(2,"body"),$o(3,"div",2),Go(4,"div",3),Go(5,"div",4),Go(6,"div",5),$o(7,"img",6),Go(8,"div",7),Go(9,"h5",8),ps(10,"Carlos Daniel Flores Alvarez"),Ko(),Go(11,"p",9),ps(12,"Informatica"),Ko(),Bo(13,pF,2,0,"button",10),Ko(),Ko(),Ko(),Go(14,"div",4),Go(15,"div",5),$o(16,"img",6),Go(17,"div",7),Go(18,"h5",8),ps(19,"Anahi Sidney Ramirez Poma"),Ko(),Go(20,"p",9),ps(21,"la Serce"),Ko(),Bo(22,gF,2,0,"button",10),Ko(),Ko(),Ko(),Go(23,"div",4),Go(24,"div",5),$o(25,"img",6),Go(26,"div",7),Go(27,"h5",8),ps(28,"Nombre"),Ko(),Go(29,"p",9),ps(30,"Materia"),Ko(),Go(31,"button",11),ps(32,"Editar"),Ko(),Ko(),Ko(),Ko(),Go(33,"div",4),Go(34,"div",5),$o(35,"img",6),Go(36,"div",7),Go(37,"h5",8),ps(38,"Nombre"),Ko(),Go(39,"p",9),ps(40,"Materia"),Ko(),Go(41,"button",11),ps(42,"Editar"),Ko(),Ko(),Ko(),Ko(),Go(43,"div",4),Go(44,"div",5),$o(45,"img",6),Go(46,"div",7),Go(47,"h5",8),ps(48,"Nombre"),Ko(),Go(49,"p",9),ps(50,"Materia"),Ko(),Go(51,"button",11),ps(52,"Editar"),Ko(),Ko(),Ko(),Ko(),Ko(),Go(53,"div",12),Go(54,"div",13),Go(55,"div",14),Go(56,"div",15),Go(57,"h5",16),ps(58,"Datos del Docente"),Ko(),Go(59,"button",17),ps(60," \xd7 "),Ko(),Ko(),Go(61,"div",18),Go(62,"p"),ps(63," Sube una imagen: "),$o(64,"input",19),Ko(),Go(65,"div",20),$o(66,"i",21),$o(67,"input",22),Ko(),Go(68,"div",20),$o(69,"i",21),$o(70,"input",23),Ko(),Go(71,"div",20),$o(72,"i",21),$o(73,"input",24),Ko(),Go(74,"div",20),$o(75,"i",25),Go(76,"select",26),Go(77,"option",27),ps(78,"Materia"),Ko(),Go(79,"option",28),ps(80,"materia 1"),Ko(),Go(81,"option",29),ps(82,"materia 2"),Ko(),Go(83,"option",30),ps(84,"materia 3"),Ko(),Ko(),Ko(),Go(85,"div",20),$o(86,"i",31),Go(87,"select",26),Go(88,"option",27),ps(89,"Estado"),Ko(),Go(90,"option",28),ps(91,"Activo"),Ko(),Go(92,"option",29),ps(93,"Inactivo"),Ko(),Ko(),Ko(),Ko(),Go(94,"div",32),Go(95,"button",33),ps(96," Cerrar"),Ko(),Go(97,"button",34),ps(98,"Guardar"),Ko(),Ko(),Ko(),Ko(),Ko(),Ko()),2&t&&(fi(13),zo("ngIf",e.logoutbtn),fi(9),zo("ngIf",e.logoutbtn))},directives:[Zc,XM,eR],styles:["body[_ngcontent-%COMP%]{margin-top:29px;padding:0;min-height:calc(100vh - 151px)}.container[_ngcontent-%COMP%]{margin-left:1.5rem}#agregar[_ngcontent-%COMP%]{width:150px;margin-top:2%}#agregar[_ngcontent-%COMP%], #edit[_ngcontent-%COMP%]{color:#fff}.container-card[_ngcontent-%COMP%]{width:100%;padding:10px;margin:0 auto auto;text-align:center;display:flex;flex-wrap:wrap;justify-content:flex-end;align-content:flex-start;position:relative}.card[_ngcontent-%COMP%]{background:rgba(57,205,241,.712);min-width:210px;max-width:210px;padding-top:10%;margin-top:10px;align-items:center}h5[_ngcontent-%COMP%]{font-size:calc(.7em + 1vw)}.card-img[_ngcontent-%COMP%]{width:80%;border-radius:50%}.form-control-feedback[_ngcontent-%COMP%]{position:absolute;padding:10px;pointer-events:none}.form-control[_ngcontent-%COMP%]{padding-left:35px!important}@media (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0}.container[_ngcontent-%COMP%]{top:0;margin-left:0;justify-content:center;align-items:center;display:flex}.row[_ngcontent-%COMP%]{margin-top:0;padding:0}.card[_ngcontent-%COMP%]{min-width:150px;margin:15px auto auto}}"]}),t})();function vF(t,e){if(1&t&&(Go(0,"tr"),Go(1,"th",6),ps(2),Ko(),Go(3,"td"),ps(4),Ko(),Go(5,"td"),ps(6),Ko(),Go(7,"td"),ps(8),Ko(),Go(9,"td"),ps(10),Ko(),Go(11,"td",7),Go(12,"div",8),Go(13,"button",9),ps(14,"Detalles"),Ko(),Ko(),Go(15,"div",8),Go(16,"button",10),ps(17,"Eliminar"),Ko(),Ko(),Ko(),Ko()),2&t){const t=e.$implicit;fi(2),gs(t.id),fi(2),gs(t.username),fi(2),gs(t.dia),fi(2),gs(t.hora),fi(2),gs(t.estado)}}let yF=(()=>{class t{constructor(t,e){this.dataService=t,this.fb=e,this.entrevista=null,this.filtroAlumno=null,this.copiaFiltro=null,this.copiaNivel=null,this.copiaCurso=null,this.sw=!1,this.selectedItems=[]}ngOnInit(){this.ListarAlumno(),this.dropdownSettings={singleSelection:!1,idField:"id",textField:"nombre_completo",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:5,allowSearchFilter:!0}}onSelectNivel(t){0==this.sw?(this.copiaFiltro=this.filtroAlumno,this.filtroAlumno=this.filtroAlumno.filter(e=>e.nivel==t.target.value),this.copiaNivel=this.filtroAlumno,this.sw=!0,console.log(this.filtroAlumno)):(this.filtroAlumno=this.copiaFiltro,this.filtroAlumno=this.filtroAlumno.filter(e=>e.nivel==t.target.value),this.copiaNivel=this.filtroAlumno,console.log(this.filtroAlumno))}onSelectCurso(t){0==this.sw?(this.copiaFiltro=this.filtroAlumno,this.filtroAlumno=this.filtroAlumno.filter(e=>e.curso==t.target.value),this.sw=!0,console.log(this.filtroAlumno)):null!=this.copiaNivel?(this.filtroAlumno=this.copiaNivel,console.log("entro al curso con datos de nivel null")):this.filtroAlumno=this.copiaFiltro,this.filtroAlumno=this.filtroAlumno.filter(e=>e.curso==t.target.value),this.copiaCurso=this.filtroAlumno,console.log(this.filtroAlumno)}onSelectTurno(t){0==this.sw?(this.copiaFiltro=this.filtroAlumno,this.filtroAlumno=this.filtroAlumno.filter(e=>e.turno==t.target.value),this.sw=!0,console.log(this.filtroAlumno)):this.filtroAlumno=null!=this.copiaCurso?this.copiaCurso:this.copiaFiltro,this.filtroAlumno=this.filtroAlumno.filter(e=>e.turno==t.target.value),console.log(this.filtroAlumno)}onItemSelect(t){console.log(t.nombre_completo)}onSelectAll(t){console.log(t)}ListarAlumno(){this.dataService.AlumnoFilter().subscribe(t=>this.filtroAlumno=t)}selectEvent(t){}onChangeSearch(t){}onFocused(t){}}return t.\u0275fac=function(e){return new(e||t)(Ho(SD),Ho(aR))},t.\u0275cmp=zt({type:t,selectors:[["app-history"]],decls:20,vars:5,consts:[[1,"table","table-responsive","table-hover","table-striped","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[1,"mb-1"],[3,"placeholder","settings","data","ngModel","ngModelChange","onSelect","onSelectAll"],[1,"ngx"],["scope","row"],[1,"botones"],[1,"btn-group"],["type","button",1,"btn","btn-outline-success"],["type","button",1,"btn","btn-outline-danger"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"table",0),Go(2,"thead"),Go(3,"tr"),Go(4,"th",1),ps(5,"#"),Ko(),Go(6,"th",1),ps(7,"Usuario"),Ko(),Go(8,"th",1),ps(9,"Dia"),Ko(),Go(10,"th",1),ps(11,"Hora"),Ko(),Go(12,"th",1),ps(13,"Estado"),Ko(),Ko(),Ko(),Go(14,"tbody"),Bo(15,vF,18,5,"tr",2),Ko(),Ko(),Go(16,"div",3),Go(17,"ng-multiselect-dropdown",4),Jo("ngModelChange",function(t){return e.selectedItems=t})("onSelect",function(t){return e.onItemSelect(t)})("onSelectAll",function(t){return e.onSelectAll(t)}),Ko(),Ko(),Go(18,"div",5),ps(19,"aqui"),Ko(),Ko()),2&t&&(fi(15),zo("ngForOf",e.entrevista),fi(2),zo("placeholder","custom placeholder")("settings",e.dropdownSettings)("data",e.filtroAlumno)("ngModel",e.selectedItems))},directives:[Xc,ER,uM,qM],styles:['body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 154px)}.img-responsive[_ngcontent-%COMP%]{width:50%;height:50%}.ngx[_ngcontent-%COMP%]{height:400px;width:400px;text-align:center;margin:auto;background:url(https://cdn.iconscout.com/icon/premium/png-256-thumb/search-3948721-3274303.png) 0 no-repeat fit-content!important}[_nghost-%COMP%]    .multiselect-dropdown .dropdown-list .item1 .filter-textbox:before{font-family:Font Awesome\\ 5 Free;content:"\\f002"}@media (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0}}']}),t})(),bF=(()=>{class t{constructor(t,e,n){var r,i;this.fb=t,this.dataService=e,this.router=n,this.horas=[];const o=this.router.getCurrentNavigation();this.persona=null===(i=null===(r=null==o?void 0:o.extras)||void 0===r?void 0:r.state)||void 0===i?void 0:i.value}ngOnInit(){void 0===this.persona&&console.log("sin datos para mostrar"),this.userForm=this.fb.group({id:this.persona.id,username:this.persona.nombre,email:["",[HD.required,HD.email]],password:["",HD.required],rol:["",HD.required],entrevista:["",HD.required]}),this.dataForm=this.fb.group({user:this.persona.id,dia:this.fb.array([]),hora:this.fb.array([])})}createUser(t){this.dataService.userregistration(t.value.id,t.value.username,t.value.email,t.value.password,t.value.rol,t.value.entrevista).pipe(Ch()).subscribe(t=>{this.router.navigate(["adminUsuario"]),console.log("datos",t)},t=>{alert("error")}),console.log("formulario ",this.userForm.value)}createEntrevista(t){console.log("formulario =>",this.dataForm.value)}onCheckboxChange(t){const e=this.dataForm.get("dia");if(t.target.checked)e.push(new OM(t.target.value));else{let n=0;e.controls.forEach(r=>{r.value!=t.target.value?n++:e.removeAt(n)})}}get getHoras(){return this.dataForm.get("hora")}Addhoras(){this.dataForm.get("hora").push(this.fb.group({hora:[]}))}capturar(t){console.log("datos =>",t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(aR),Ho(SD),Ho(op))},t.\u0275cmp=zt({type:t,selectors:[["app-nuevo-usuario"]],decls:91,vars:8,consts:[[1,"container"],[1,"formulario",3,"formGroup","ngSubmit"],["id","titulo"],[1,"form-group"],["type","text","name","id","hidden","",1,"datos",3,"value"],["src","../../../../assets/Imagenes/usuario.png","id","img-usuario"],["type","text","name","username",1,"datos",3,"value"],["src","../../../../assets/Imagenes/correo.png","id","img-email"],["type","email","name","email","formControlName","email","placeholder","Email",1,"datos"],["src","../../../../assets/Imagenes/llave.png","id","img-contrase\xf1a"],["type","password","name","password","formControlName","password","placeholder","Contrase\xf1a",1,"datos"],["src","../../../../assets/Imagenes/entrar.png","id","img-tipo"],["id","tipo","name","rol","formControlName","rol"],["selected","",2,"display","none"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"entrevista"],[1,"checkbox-JASoft"],["type","checkbox","id","checkAvanzado","name","checkvista","formControlName","entrevista","onchange","javascript:showContent()"],["for","checkAvanzado"],["id","contenedor-boton",2,"display","none"],["type","button","data-toggle","modal","data-target","#modal1","id","agregar",1,"btn","btn-info"],["type","submit","name","ingresar",1,"btn","btn-guardar"],[1,"alert"],["id","modal1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","close",1,"close"],[3,"formGroup","ngSubmit"],[1,"modal-body","row","g-3"],[1,"col-md-6"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","cbxLunes","value","Lunes",1,"custom-control-input",3,"change"],["for","cbxLunes",1,"custom-control-label"],["type","checkbox","id","cbxMartes","value","Martes",1,"custom-control-input",3,"change"],["for","cbxMartes",1,"custom-control-label"],["type","checkbox","id","cbxMiercoles","value","Miercoles",1,"custom-control-input",3,"change"],["for","cbxMiercoles",1,"custom-control-label"],["type","checkbox","id","cbxJueves","value","Jueves",1,"custom-control-input",3,"change"],["for","cbxJueves",1,"custom-control-label"],["type","checkbox","id","cbxViernes","value","Viernes",1,"custom-control-input",3,"change"],["for","cbxViernes",1,"custom-control-label"],[1,"contHora"],["type","time","id","time",3,"ngModel","ngModelChange"],["type","button","id","agregarHora",1,"btn","btn-outline-success"],["id","contenedorH"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"div",0),Go(2,"form",1),Jo("ngSubmit",function(){return e.createUser(e.userForm)}),Go(3,"h3",2),ps(4,"NUEVO USUARIO"),Ko(),Go(5,"div",3),$o(6,"input",4),Ko(),Go(7,"div",3),$o(8,"img",5),$o(9,"input",6),Ko(),Go(10,"div",3),$o(11,"img",7),$o(12,"input",8),Ko(),Go(13,"div",3),$o(14,"img",9),$o(15,"input",10),Ko(),Go(16,"div",3),$o(17,"img",11),Go(18,"select",12),Go(19,"option",13),ps(20,"--Seleccione--"),Ko(),Go(21,"option",14),ps(22,"Adminstrador"),Ko(),Go(23,"option",15),ps(24,"Docente"),Ko(),Go(25,"option",16),ps(26,"Secretaria"),Ko(),Go(27,"option",17),ps(28,"Tutor"),Ko(),Ko(),Ko(),Go(29,"div",18),Go(30,"label"),ps(31,"\xbfRecibir\xe1 entrevista?"),Ko(),Go(32,"div",19),$o(33,"input",20),$o(34,"label",21),Ko(),Ko(),Go(35,"div",22),Go(36,"button",23),ps(37,"Agregar"),Ko(),Ko(),Go(38,"button",24),ps(39,"Guardar"),Ko(),$o(40,"p",25),Ko(),Ko(),Go(41,"div",26),Go(42,"div",27),Go(43,"div",28),Go(44,"div",29),Go(45,"h5",30),Go(46,"b"),ps(47,"D\xedas de Entrevista"),Ko(),Ko(),Go(48,"button",31),ps(49," \xd7 "),Ko(),Ko(),Go(50,"form",32),Jo("ngSubmit",function(){return e.createEntrevista(e.dataForm)}),Go(51,"div",33),Go(52,"div",34),Go(53,"label"),Go(54,"b"),ps(55,"D\xedas disponibles:"),Ko(),Ko(),Go(56,"div",35),Go(57,"input",36),Jo("change",function(t){return e.onCheckboxChange(t)}),Ko(),Go(58,"label",37),ps(59,"Lunes"),Ko(),Ko(),Go(60,"div",35),Go(61,"input",38),Jo("change",function(t){return e.onCheckboxChange(t)}),Ko(),Go(62,"label",39),ps(63,"Martes"),Ko(),Ko(),Go(64,"div",35),Go(65,"input",40),Jo("change",function(t){return e.onCheckboxChange(t)}),Ko(),Go(66,"label",41),ps(67,"Miercoles"),Ko(),Ko(),Go(68,"div",35),Go(69,"input",42),Jo("change",function(t){return e.onCheckboxChange(t)}),Ko(),Go(70,"label",43),ps(71,"Jueves"),Ko(),Ko(),Go(72,"div",35),Go(73,"input",44),Jo("change",function(t){return e.onCheckboxChange(t)}),Ko(),Go(74,"label",45),ps(75,"Viernes"),Ko(),Ko(),Ko(),Go(76,"div",34),Go(77,"label"),Go(78,"b"),ps(79,"Horarios Disponibles:"),Ko(),Ko(),Go(80,"div",46),Go(81,"input",47),Jo("ngModelChange",function(t){return e.horas=t}),Ko(),Go(82,"button",48),ps(83,"Agregar"),Ko(),Ko(),Go(84,"div",49),ps(85),Ko(),Ko(),Ko(),Go(86,"div",50),Go(87,"button",51),ps(88,"Cerrar"),Ko(),Go(89,"button",52),ps(90,"Guardar"),Ko(),Ko(),Ko(),Ko(),Ko(),Ko(),Ko()),2&t&&(fi(2),zo("formGroup",e.userForm),fi(4),ns("value",e.persona.id),fi(3),is("value","",e.persona.nombre," ",e.persona.paterno," ",e.persona.materno,""),fi(41),zo("formGroup",e.dataForm),fi(31),zo("ngModel",e.horas),fi(4),gs(e.horas))},directives:[BM,cM,WM,FD,uM,KM,QM,XM,eR,DD,qM],styles:['body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 151px);justify-content:center;align-items:center;display:flex}.formulario[_ngcontent-%COMP%]{margin:auto;background:#0e1766;transition:.5s ease;border-radius:5px;border:solid #000;width:70%;max-width:400px;min-height:50%}#titulo[_ngcontent-%COMP%]{text-align:center;font-family:georgia;color:#fff;margin-top:15px;margin-bottom:20px;font-size:calc(.7em + 1vw)}#img-contrase\xf1a[_ngcontent-%COMP%], #img-email[_ngcontent-%COMP%], #img-tipo[_ngcontent-%COMP%], #img-usuario[_ngcontent-%COMP%]{width:45px;height:35px;padding-left:2%;position:relative}.datos[_ngcontent-%COMP%]{background-color:#0000;color:#fff;width:84%;height:45px;font-style:oblique;text-align:start;padding-right:2%;margin:0;border-style:none;border-bottom:solid #000;outline:none}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#fff;text-align:right}input#cont[_ngcontent-%COMP%]:hover{background-color:#00040680;border-right:5px solid #00bfff}.btn-guardar[_ngcontent-%COMP%]{background-color:#129fe1;width:90%;border-radius:1px;border-color:#000;margin-left:5%;font-size:20px;font-style:italic;color:#fff}.btn-guardar[_ngcontent-%COMP%]:hover{background-color:#00bfff;color:#fff}.formulario[_ngcontent-%COMP%]:hover{box-shadow:0 0 40px 10px #fff}.alert[_ngcontent-%COMP%]{text-align:center;color:#f72323}select#tipo[_ngcontent-%COMP%]{background-color:#0000;color:#fff;width:84%;height:45px;border-radius:10px;border-color:#000;border-style:solid;border-width:1px 1px thick thick;font-size:17px;font-style:oblique;outline:none}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{color:#000;background:#fff}select#tipo[_ngcontent-%COMP%]:hover{background-color:#00040680}.entrevista[_ngcontent-%COMP%]{margin:10px 18px;color:#fff;display:flex}#contenedor-boton[_ngcontent-%COMP%]{margin:10px 18px;display:flex;text-align:right}#contenedor-boton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:10px}input[type=checkbox][_ngcontent-%COMP%]{visibility:hidden}.checkbox-JASoft[_ngcontent-%COMP%]{margin-left:auto;margin-right:0;display:inline-block;position:relative;width:70px;height:30px;background:#0cdb51;border-radius:15px;box-shadow:inset 0 1px 1px #0009,0 1px 0 #ffffff4d}.checkbox-JASoft[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;width:34px;height:20px;border-radius:17px;box-shadow:0 2px 5px 0 #00000059;background:#fcfff4;background:linear-gradient(0deg,#fcfff4 0,#dfe5d7 40%,#b3bead);cursor:pointer;position:absolute;top:5px;left:5px;z-index:1;transition:all .4s ease;overflow:hidden;text-indent:35px;transition:text-indent 0s}.checkbox-JASoft[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{left:auto;right:5px}.checkbox-JASoft[_ngcontent-%COMP%]:after{content:"NO";right:10px;text-shadow:1px 1px 0 #fff3}.checkbox-JASoft[_ngcontent-%COMP%]:after, .checkbox-JASoft[_ngcontent-%COMP%]:before{font:12px/30px Arial,sans-serif;color:#fff;position:absolute;z-index:0;font-weight:700}.checkbox-JASoft[_ngcontent-%COMP%]:before{content:"S\xcd";left:10px}.contededordias[_ngcontent-%COMP%]{display:flow-root}@media only screen and (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0;align-items:flex-start}.formulario[_ngcontent-%COMP%]{margin:0 0 0 2%;width:96%}#img-contrase\xf1a[_ngcontent-%COMP%], #img-email[_ngcontent-%COMP%], #img-tipo[_ngcontent-%COMP%], #img-usuario[_ngcontent-%COMP%]{width:35px;height:26px;padding-left:3%}select#tipo[_ngcontent-%COMP%]{width:82%;height:45px}#cont[_ngcontent-%COMP%]{background-color:#0000;color:#fff;width:82%;padding-right:4%}}']}),t})();function _F(t,e){if(1&t&&(Go(0,"tr"),Go(1,"th",3),ps(2),Ko(),Go(3,"td"),ps(4),Ko(),Go(5,"td"),ps(6),Ko(),Go(7,"td"),ps(8),Ko(),Go(9,"td"),ps(10),Ko(),Go(11,"td"),ps(12),Ko(),Go(13,"td"),ps(14),Ko(),Go(15,"td",4),Go(16,"div",5),Go(17,"button",6),ps(18,"Detalles"),Ko(),Ko(),Go(19,"div",5),Go(20,"button",7),ps(21,"Eliminar"),Ko(),Ko(),Ko(),Ko()),2&t){const t=e.$implicit;fi(2),gs(t.id_usuario),fi(2),gs(t.username),fi(2),gs(t.email),fi(2),gs(t.PASSWORD),fi(2),gs(t.rol),fi(2),gs(t.estado),fi(2),gs(t.fecha_creacion)}}let wF=(()=>{class t{constructor(t){this.dataService=t,this.usuarios=null,this.user={id:null,name:null,email:null,password:null,rol:null}}ngOnInit(){this.ListarUsuario()}ListarUsuario(){this.dataService.listarUsuario().subscribe(t=>this.usuarios=t)}}return t.\u0275fac=function(e){return new(e||t)(Ho(SD))},t.\u0275cmp=zt({type:t,selectors:[["app-administrar-usuario"]],decls:22,vars:1,consts:[[1,"table","table-responsive","table-hover","table-striped","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"botones"],[1,"btn-group"],["type","button",1,"btn","btn-outline-success"],["type","button",1,"btn","btn-outline-danger"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"table",0),Go(2,"thead"),Go(3,"tr"),Go(4,"th",1),ps(5,"#"),Ko(),Go(6,"th",1),ps(7,"Nombre"),Ko(),Go(8,"th",1),ps(9,"Email"),Ko(),Go(10,"th",1),ps(11,"Password"),Ko(),Go(12,"th",1),ps(13,"Rol"),Ko(),Go(14,"th",1),ps(15,"Estado"),Ko(),Go(16,"th",1),ps(17,"Fecha Creacion"),Ko(),Go(18,"th"),ps(19,"Operaciones"),Ko(),Ko(),Ko(),Go(20,"tbody"),Bo(21,_F,22,7,"tr",2),Ko(),Ko(),Ko()),2&t&&(fi(21),zo("ngForOf",e.usuarios))},directives:[Xc],styles:["body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 152px)}table[_ngcontent-%COMP%]{width:90%;margin:auto;padding-top:50px;border:none}"]}),t})(),CF=(()=>{class t{constructor(t,e,n){this.fb=t,this.dataService=e,this.router=n,this.userForm=this.fb.group({email:["",[HD.required,HD.email]],password:["",HD.required]})}ngOnInit(){null!=typeof this.user&&this.router.navigate(["inicio"])}login(t){this.dataService.userlogin(t.value.email,t.value.password).pipe(Ch()).subscribe(t=>{this.dataService.setUser(t[0]),this.dataService.setToken(t[0].rol),this.router.navigate([this.dataService.redirectUrl?this.dataService.redirectUrl:"/inicio"]),this.locationreload()},t=>{alert("Usuario o contrase\xf1a incorrecto")})}locationreload(){location.reload()}}return t.\u0275fac=function(e){return new(e||t)(Ho(aR),Ho(SD),Ho(op))},t.\u0275cmp=zt({type:t,selectors:[["app-login"]],decls:24,vars:1,consts:[[1,"container"],[1,"formulario",3,"formGroup","ngSubmit"],["src","../../../assets/Imagenes/user.png","id","img-logo"],["id","titulo"],[1,"form-group"],["src","../../../assets/Imagenes/email.png","id","img-usuario"],["id","cont","type","email","name","email","formControlName","email","placeholder","Email","required",""],["src","../../../assets/Imagenes/padlock.png","id","img-contrase\xf1a"],["id","pass","type","password","name","password","formControlName","password","autocomplete","off","placeholder","Password","required",""],[1,"cont-check"],["id","check","type","checkbox","onclick","myFunction()"],["for","check"],["id","img-check","src","../../../assets/Imagenes/eye.png",1,"img-check"],["type","submit","name","ingresar",1,"btn"],["id","ccheck"],["type","checkbox","id","cbox1","checked","true"],["hidden","",1,"alert"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"div",0),Go(2,"form",1),Jo("ngSubmit",function(){return e.login(e.userForm)}),$o(3,"img",2),Go(4,"p",3),ps(5,"INICIAR SESION"),Ko(),Go(6,"div",4),$o(7,"img",5),$o(8,"input",6),Ko(),Go(9,"div",4),$o(10,"img",7),$o(11,"input",8),Go(12,"div",9),$o(13,"input",10),Go(14,"label",11),$o(15,"img",12),Ko(),Ko(),Ko(),Go(16,"button",13),ps(17,"Ingresar"),Ko(),Go(18,"div",14),Go(19,"label"),$o(20,"input",15),ps(21,"Recordarme"),Ko(),Ko(),Go(22,"p",16),ps(23,"usuario o contrase\xf1a incoreccto"),Ko(),Ko(),Ko(),Ko()),2&t&&(fi(2),zo("formGroup",e.userForm))},directives:[BM,cM,WM,FD,uM,KM,rR],styles:["body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 151px);background:url(fondologin.aa24763df3b33bff7875.jpg)50% no-repeat;background-size:cover;-moz-background-size:cover;-webkit-background-size:cover;-o-background-size:cover;justify-content:center;align-items:center;display:flex}.formulario[_ngcontent-%COMP%]{margin:auto;background:#00bfff23;transition:.5s ease;border-radius:5px;width:70%;max-width:350px;min-height:60%}#img-logo[_ngcontent-%COMP%]{margin-left:42%;margin-top:10px;width:60px;height:60px}#titulo[_ngcontent-%COMP%]{text-align:center;font-family:georgia;color:#fff;margin-bottom:20px;font-size:calc(1em + 1vw)}#img-contrase\xf1a[_ngcontent-%COMP%], #img-usuario[_ngcontent-%COMP%]{padding-right:5px;width:30px;height:25px}.form-group[_ngcontent-%COMP%]{margin-right:7%;text-align:right}#pass[_ngcontent-%COMP%], input#cont[_ngcontent-%COMP%]{background-color:#0000;color:#fff;width:84%;height:45px;font-style:oblique;text-align:start;padding-right:7px;border-style:none;border-bottom:solid #00bfff;outline:none}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#fff;text-align:right}#cont[_ngcontent-%COMP%]:hover, #pass[_ngcontent-%COMP%]:hover{background-color:#00040680;border-right:5px solid #00bfff}#check[_ngcontent-%COMP%]{display:none}.cont-check[_ngcontent-%COMP%]{width:32px;height:20px;margin-left:auto;margin-right:7px}.img-check[_ngcontent-%COMP%]{width:100%;height:60%;object-fit:cover}#ccheck[_ngcontent-%COMP%]{margin:10px 18px;color:#fff}#cbox1[_ngcontent-%COMP%]{margin-right:4px}button[_ngcontent-%COMP%]{background-color:#0989d3;width:88%;border-radius:1px;border-color:#000;margin-left:6%;font-size:20px;color:#fff}button.btn[_ngcontent-%COMP%]:hover{background-color:rgba(2,190,253,.863);color:#fff}input.boton[_ngcontent-%COMP%]:focus{background-color:#00bfff}.formulario[_ngcontent-%COMP%]:hover{box-shadow:0 0 40px 10px #fff}.alert[_ngcontent-%COMP%]{text-align:center;margin-top:-10px;margin-bottom:0;color:#f72323}@media only screen and (max-width:700px){body[_ngcontent-%COMP%]{margin-top:-15px}.formulario[_ngcontent-%COMP%]{margin:10px auto auto;width:96%}#img-contrase\xf1a[_ngcontent-%COMP%], #img-usuario[_ngcontent-%COMP%]{width:25px;height:20px}}"]}),t})(),SF=(()=>{class t{constructor(t,e,n){var r,i;this.fb=t,this.dataService=e,this.router=n,this.today=new Date,this.date="",this.navigationExtras={state:{value:null}};const o=this.router.getCurrentNavigation();this.detalle=null===(i=null===(r=null==o?void 0:o.extras)||void 0===r?void 0:r.state)||void 0===i?void 0:i.value,this.date=Ec(this.today,"yyyy-MM-dd","en-US")}ngOnInit(){void 0===this.detalle&&this.router.navigate(["pendientes"]),this.user=this.dataService.getCurrentUser(),this.conumicado=this.fb.group({id:this.detalle.id,fechap:this.date,fechae:[this.detalle.fecha_Evento,[HD.required]],horae:[this.detalle.hora_Evento,[HD.required]],descripcion:[this.detalle.detalle,[HD.required]],verificador:this.user.id_usuario})}updateComunicado(t){this.dataService.comunicadoUpdate(t.value.id,t.value.fechap,t.value.fechae,t.value.horae,t.value.descripcion,t.value.verificador).pipe(Ch()).subscribe(t=>{this.router.navigate(["lista"]),console.log("datos enviados",t)},t=>{alert("Ha ocurrido un error al insertar")})}}return t.\u0275fac=function(e){return new(e||t)(Ho(aR),Ho(SD),Ho(op))},t.\u0275cmp=zt({type:t,selectors:[["app-detalle-pendiente"]],decls:55,vars:4,consts:[[1,"titulo"],[1,"autor"],["type","text","disabled","",3,"value"],["id","detalle",1,"container",3,"formGroup","ngSubmit"],["id","cont1",1,"form-row"],[1,"form-group"],["type","text","id","campo","disabled","",3,"value"],["id","cont2",1,"form-row"],["id","campo2",1,"form-group"],["type","text","id","campo","disabled","","value","Varios"],["id","cont3",1,"form-colum"],["type","date","id","campof","formControlName","fechae"],["type","time","id","campoh","formControlName","horae"],["id","cont4",1,"form-row"],["id","campo-descripcion","formControlName","descripcion"],[1,"btn-contenedor"],["type","submit","id","btnPublicar",1,"mouse-cursor-gradient-tracking"],["type","button","id","btnEditar",1,"btn","btn-outline-warning"],["id","modal1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","close",1,"close"],[1,"modal-body"],[1,"form-group","has-feedback"],["name","obs","cols","10","rows","3","placeholder","Escriba aqui las observaciones",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-primary"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"h4",0),ps(2,"Comunicado Pendiente"),Ko(),Go(3,"div",1),Go(4,"b"),ps(5,"Redactado por:"),Ko(),$o(6,"input",2),Ko(),Go(7,"form",3),Jo("ngSubmit",function(){return e.updateComunicado(e.conumicado)}),Go(8,"div",4),Go(9,"div",5),Go(10,"b"),ps(11,"Tipo de Comunicado:"),Ko(),$o(12,"input",6),Ko(),Ko(),Go(13,"div",7),Go(14,"div",5),Go(15,"b"),ps(16,"Origen:"),Ko(),$o(17,"input",6),Ko(),Go(18,"div",8),Go(19,"b"),ps(20,"Destinatario:"),Ko(),$o(21,"input",9),Ko(),Ko(),Go(22,"div",10),Go(23,"div",5),Go(24,"b"),ps(25,"Fecha del Evento:"),Ko(),$o(26,"input",11),Ko(),Go(27,"div",8),Go(28,"b"),ps(29,"Hora:"),Ko(),$o(30,"input",12),Ko(),Ko(),Go(31,"div",13),Go(32,"b"),ps(33,"Descripci\xf3n:"),Ko(),$o(34,"textarea",14),Ko(),Go(35,"div",15),Go(36,"button",16),ps(37,"Publicar"),Ko(),Ko(),Ko(),Go(38,"div",15),Go(39,"button",17),ps(40,"Para Corregir"),Ko(),Ko(),Go(41,"div",18),Go(42,"div",19),Go(43,"div",20),Go(44,"div",21),Go(45,"h5",22),ps(46,"Observaciones"),Ko(),Go(47,"button",23),ps(48," \xd7 "),Ko(),Ko(),Go(49,"div",24),Go(50,"div",25),$o(51,"textarea",26),Ko(),Ko(),Go(52,"div",27),Go(53,"button",28),ps(54,"Enviar"),Ko(),Ko(),Ko(),Ko(),Ko(),Ko()),2&t&&(fi(6),ns("value",e.detalle.redactor),fi(1),zo("formGroup",e.conumicado),fi(5),ns("value",e.detalle.tipo),fi(5),ns("value",e.detalle.origen))},directives:[BM,cM,WM,FD,uM,KM],styles:['body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 154px)}.hover-underline-animation[_ngcontent-%COMP%]{display:inline-block;position:relative;color:#0087ca}.hover-underline-animation[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;transform:scaleX(0);height:2px;bottom:0;left:0;background-color:#0087ca;transform-origin:bottom right;transition:transform .25s ease-out}.hover-underline-animation[_ngcontent-%COMP%]:hover:after{transform:scaleX(1);transform-origin:bottom left}.titulo[_ngcontent-%COMP%]{padding-top:15px;text-align:center;font-style:italic}.autor[_ngcontent-%COMP%]{max-width:330px;margin:auto auto auto 25%;padding-left:10px;background:#279be9}.autor[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#fff}.container[_ngcontent-%COMP%]{margin:auto auto 1em;padding:0;width:50%;height:100%;background:#279be9;color:#fff}input[_ngcontent-%COMP%]{border-style:none;margin-left:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background-color:initial;color:#000}textarea[_ngcontent-%COMP%]{max-width:100%;min-width:98%;min-height:80px;border:1px solid #fff;padding-left:10px;margin-top:10px;margin-bottom:10px}textarea[_ngcontent-%COMP%]::placeholder{color:#000}#cont1[_ngcontent-%COMP%]{width:100%;margin:0;padding-top:1em;padding-left:10px}#cont2[_ngcontent-%COMP%]{border-top:solid #fff}#cont2[_ngcontent-%COMP%], #cont3[_ngcontent-%COMP%]{border-bottom:solid #fff}#cont2[_ngcontent-%COMP%], #cont3[_ngcontent-%COMP%], #cont4[_ngcontent-%COMP%]{width:100%;margin:0;padding-top:1em;padding-left:10px}.btn-contenedor[_ngcontent-%COMP%]{max-width:50%;margin:auto}#campof[_ngcontent-%COMP%]{max-width:182px}#btnEditar[_ngcontent-%COMP%]{margin-bottom:1em}#btnEditar[_ngcontent-%COMP%]:hover{color:#fff}#btnPublicar[_ngcontent-%COMP%]{transform:translate(-50%);margin-left:40%;margin-bottom:1em;background:#00ff62;width:40%;min-width:130px;border:none;color:#fff;font-style:italic;padding:.5rem 1rem;font-size:1.2rem;outline:none;overflow:hidden}#btnPublicar[_ngcontent-%COMP%], .mouse-cursor-gradient-tracking[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative}.mouse-cursor-gradient-tracking[_ngcontent-%COMP%]:before{--size:0;content:"";position:absolute;left:var(--x);top:var(--y);width:var(--size);height:var(--size);background:radial-gradient(circle closest-side,#f8a9f8,#0000);transform:translate(-50%,-50%);transition:width .2s ease,height .2s ease}.mouse-cursor-gradient-tracking[_ngcontent-%COMP%]:hover:before{--size:200px}@media only screen and (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0}*[_ngcontent-%COMP%]{font-size:calc(.5em + 1vw);line-height:1em}.titulo[_ngcontent-%COMP%]{padding-top:0}.container[_ngcontent-%COMP%]{width:80%}#estado[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:90px}.autor[_ngcontent-%COMP%]{max-width:250px;margin:auto;background:#279be9}.btn-contenedor[_ngcontent-%COMP%]{max-width:80%;margin:auto}textarea[_ngcontent-%COMP%]{padding-left:5px}}']}),t})(),xF=(()=>{class t{constructor(t,e){this.dataService=t,this.router=e}canActivate(t,e){return this.isLogin(e.url)}isLogin(t){if(this.dataService.isLoggedIn())return!0;this.router.navigate(["/login"],{queryParams:{returnUrl:t}})}}return t.\u0275fac=function(e){return new(e||t)(ur(SD),ur(op))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),IF=(()=>{class t{constructor(t,e){this.dataService=t,this.router=e,this.autorice=!1}canActivate(t,e){return this.checkUserLogin(t)}checkUserLogin(t){this.user=this.dataService.getCurrentUser();for(let e of t.data.guards)this.user.rol.includes(e)&&(this.autorice=!0);return!0===this.autorice||(this.router.navigate(["/inicio"],{queryParams:{returnUrl:t}}),!1)}}return t.\u0275fac=function(e){return new(e||t)(ur(SD),ur(op))},t.\u0275prov=dt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const AF="1",kF="3",EF="4";let TF=(()=>{class t{constructor(t,e,n){this.fb=t,this.dataService=e,this.router=n,this.personaForm=this.fb.group({nombre:["",HD.required],paterno:["",HD.required],materno:["",HD.required],telefono:["",HD.required]})}ngOnInit(){}postdata(t){this.dataService.personaRegister(t.value.nombre,t.value.paterno,t.value.materno,t.value.telefono).pipe(Ch()).subscribe(t=>{this.router.navigate(["adminUsuario"])},t=>{})}}return t.\u0275fac=function(e){return new(e||t)(Ho(aR),Ho(SD),Ho(op))},t.\u0275cmp=zt({type:t,selectors:[["app-persona"]],decls:20,vars:1,consts:[[1,"container"],[1,"formulario",3,"formGroup","ngSubmit"],["id","titulo"],[1,"form-group"],["src","../../../../assets/Imagenes/usuario.png","id","img-usuario"],["type","text","id","cont","name","name","formControlName","nombre","placeholder","Nombre(s)"],["src","../../../../assets/Imagenes/usuario.png","id","img-email"],["type","text","id","cont","name","paterno","formControlName","paterno","placeholder","Apellido Paterno"],["src","../../../../assets/Imagenes/usuario.png","id","img-contrase\xf1a"],["type","text","id","cont","name","materno","formControlName","materno","placeholder","Apellido Materno"],["src","../../../../assets/Imagenes/usuario.png","id","img-tipo"],["type","text","id","cont","name","materno","formControlName","telefono","placeholder","Telefono"],["type","submit","name","ingresar",1,"btn"],[1,"alert"]],template:function(t,e){1&t&&(Go(0,"body"),Go(1,"div",0),Go(2,"form",1),Jo("ngSubmit",function(){return e.postdata(e.personaForm)}),Go(3,"h3",2),ps(4,"NUEVO REGISTRO"),Ko(),Go(5,"div",3),$o(6,"img",4),$o(7,"input",5),Ko(),Go(8,"div",3),$o(9,"img",6),$o(10,"input",7),Ko(),Go(11,"div",3),$o(12,"img",8),$o(13,"input",9),Ko(),Go(14,"div",3),$o(15,"img",10),$o(16,"input",11),Ko(),Go(17,"button",12),ps(18,"Guardar"),Ko(),$o(19,"p",13),Ko(),Ko(),Ko()),2&t&&(fi(2),zo("formGroup",e.personaForm))},directives:[BM,cM,WM,FD,uM,KM],styles:["body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 154px);justify-content:center;align-items:center;display:flex}.formulario[_ngcontent-%COMP%]{margin:auto;background:#f7f7f7;transition:.5s ease;border-radius:5px;border:solid #000;width:70%;max-width:400px;min-height:50%}#titulo[_ngcontent-%COMP%]{text-align:center;font-family:Cambria,Cochin,Georgia,Times,Times New Roman,serif;color:#000;margin-top:15px;margin-bottom:20px;font-size:calc(.7em + 1vw)}#img-contrase\xf1a[_ngcontent-%COMP%], #img-email[_ngcontent-%COMP%], #img-tipo[_ngcontent-%COMP%], #img-usuario[_ngcontent-%COMP%]{width:45px;height:35px;padding-left:2%;position:relative}#cont[_ngcontent-%COMP%]{background-color:#0000;color:#000;width:84%;height:45px;font-style:oblique;text-align:start;padding-right:2%;margin:0;border-style:none;border-bottom:solid #000;outline:none}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#000;text-align:right}input#cont[_ngcontent-%COMP%]:hover{background-color:rgba(0,4,6,.151);border-right:5px solid #00bfff;border-bottom:5px solid #00bfff}button[_ngcontent-%COMP%]{background-color:#129fe1;width:90%;border-radius:1px;border-color:#000;margin-left:5%;font-size:20px;font-style:italic;color:#fff}button.btn[_ngcontent-%COMP%]:hover{color:#fff}button.btn[_ngcontent-%COMP%]:hover, input.boton[_ngcontent-%COMP%]:focus{background-color:#00bfff}.formulario[_ngcontent-%COMP%]:hover{box-shadow:0 0 40px 10px #fff}.alert[_ngcontent-%COMP%]{text-align:center;color:#f72323}select#tipo[_ngcontent-%COMP%]{background-color:#0000;color:#fff;width:84%;height:45px;border-radius:10px;border-color:#000;border-style:solid;border-width:1px 1px thick thick;font-size:17px;font-style:oblique;outline:none}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:hover{color:#000;background:#fff}select#tipo[_ngcontent-%COMP%]:hover{background-color:#00040680}@media only screen and (max-width:700px){body[_ngcontent-%COMP%]{margin-top:0;align-items:flex-start}.formulario[_ngcontent-%COMP%]{margin:0 0 0 2%;width:96%}#img-contrase\xf1a[_ngcontent-%COMP%], #img-email[_ngcontent-%COMP%], #img-tipo[_ngcontent-%COMP%], #img-usuario[_ngcontent-%COMP%]{width:35px;height:26px;padding-left:3%}select#tipo[_ngcontent-%COMP%]{width:82%;height:45px}#cont[_ngcontent-%COMP%]{background-color:#0000;color:#fff;width:82%;padding-right:4%}}"]}),t})(),PF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["app-reportes"]],decls:2,vars:0,template:function(t,e){1&t&&(Go(0,"p"),ps(1,"reportes works!"),Ko())},styles:[""]}),t})(),NF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["app-citas"]],decls:2,vars:0,template:function(t,e){1&t&&(Go(0,"p"),ps(1,"citas works!"),Ko())},styles:[""]}),t})(),OF=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["app-mi-perfil"]],decls:2,vars:0,template:function(t,e){1&t&&(Go(0,"p"),ps(1,"mi-perfil works!"),Ko())},styles:[""]}),t})();function LF(t,e){if(1&t){const t=Yo();Go(0,"tr"),Go(1,"th",59),ps(2),Ko(),Go(3,"td"),ps(4),Ko(),Go(5,"td"),ps(6),Ko(),Go(7,"td"),ps(8),Ko(),Go(9,"td"),ps(10),Ko(),Go(11,"td"),ps(12),Ko(),Go(13,"td",60),Go(14,"div",61),Go(15,"button",62),Jo("click",function(){const e=Oe(t).$implicit;return es().detalle(e)}),ps(16,"Ver"),Ko(),Ko(),Go(17,"div",61),Go(18,"button",63),ps(19,"Editar"),Ko(),Ko(),Go(20,"div",61),Go(21,"button",64),ps(22,"Eliminar"),Ko(),Ko(),Ko(),Ko()}if(2&t){const t=e.$implicit;fi(2),gs(t.id),fi(2),gs(t.carnet),fi(2),ys("",t.nombre," ",t.paterno," ",t.materno,""),fi(2),gs(t.nivel),fi(2),gs(t.curso),fi(2),gs(t.turno)}}const DF=function(t){return{itemsPerPage:5,currentPage:t}};function MF(t,e){if(1&t){const t=Yo();Go(0,"tr"),Go(1,"th",30),ps(2),Ko(),Go(3,"td"),ps(4),Ko(),Go(5,"td"),ps(6),Ko(),Go(7,"td"),ps(8),Ko(),Go(9,"td"),$o(10,"img",31),Ko(),Go(11,"td",32),Go(12,"div",33),Go(13,"button",34),Jo("click",function(){const e=Oe(t).$implicit;return es().detalle(e)}),ps(14,"Ver"),Ko(),Ko(),Go(15,"div",33),Go(16,"button",35),ps(17,"Editar"),Ko(),Ko(),Go(18,"div",33),Go(19,"button",36),ps(20,"Eliminar"),Ko(),Ko(),Ko(),Ko()}if(2&t){const t=e.$implicit;fi(2),gs(t.id),fi(2),gs(t.carnet),fi(2),ys("",t.nombre," ",t.paterno," ",t.materno,""),fi(2),gs(t.materia),fi(2),ns("src",t.foto,br)}}const RF=function(t){return{itemsPerPage:5,currentPage:t}},FF=mp.forRoot([{path:"",component:xD,canActivate:[xF]},{path:"inicio",component:xD,canActivate:[xF]},{path:"novedades",component:dF,data:{guards:[EF]},canActivate:[xF,IF]},{path:"mision",component:fF,canActivate:[xF]},{path:"maestros",component:mF,canActivate:[xF]},{path:"historia",component:yF,canActivate:[xF]},{path:"circulares",component:AD,data:{guards:[EF]},canActivate:[xF,IF]},{path:"citaciones",component:ED,data:{guards:[EF]},canActivate:[xF,IF]},{path:"entrevista",component:pR,data:{guards:[EF]},canActivate:[xF,IF]},{path:"comunicado",component:OR,data:{guards:[AF,kF]},canActivate:[xF,IF]},{path:"lista",component:uF,data:{guards:[AF,kF]},canActivate:[xF,IF]},{path:"detalles",component:LR,data:{guards:[AF,kF]},canActivate:[xF,IF]},{path:"reportes",component:PF,data:{guards:[AF,kF]},canActivate:[xF,IF]},{path:"detallePendiente",component:SF,data:{guards:[AF]},canActivate:[xF,IF]},{path:"pendientes",component:hF,data:{guards:[AF,kF]},canActivate:[xF,IF]},{path:"NuevoUsuario",component:bF,data:{guards:[AF]},canActivate:[xF,IF]},{path:"adminUsuario",component:wF,data:{guards:[AF]},canActivate:[xF,IF]},{path:"NuevoRegistro",component:TF,data:{guards:[AF]},canActivate:[xF,IF]},{path:"alumnos",component:(()=>{class t{constructor(t,e,n){this.fb=t,this.dataService=e,this.router=n,this.idAlumno=null,this.p=1,this.navigationExtras={state:{value:null}},this.alumnoForm=this.fb.group({ci:["",HD.required],nombre:["",HD.required],paterno:["",HD.required],materno:["",HD.required],telefono:["",HD.required],nivel:["nivel",HD.required],curso:["curso",HD.required],turno:["turno",HD.required]}),this.tutorForm=this.fb.group({CIt:["",HD.required],nombret:["",HD.required],paternot:["",HD.required],maternot:["",HD.required],telefonot:["",HD.required],direcciont:["",HD.required],tipot:["",HD.required],alumnot:["",HD.required]})}ngOnInit(){this.ListarPersona()}ListarPersona(){this.dataService.listarAlumno().subscribe(t=>this.alumno=t)}obtnerUltimo(){let t=this.alumno;for(var e=0;e<t.length;e++)this.alumno=Object.values(this.alumno)[e];this.idAlumno=this.alumno.id,console.log("dato",this.idAlumno)}detalle(t){this.navigationExtras.state.value=t,this.router.navigate(["NuevoUsuario"],this.navigationExtras)}addAlumno(t){this.dataService.alumnoRegister(t.value.ci,t.value.nombre,t.value.paterno,t.value.materno,t.value.telefono,t.value.nivel,t.value.curso,t.value.turno).pipe(Ch()).subscribe(t=>{alert("registro exitoso"),this.ListarPersona()},t=>{console.log(t)})}addTutor(t){this.dataService.tutorRegister(t.value.nombret,t.value.paternot,t.value.maternot,t.value.telefonot,t.value.tipot,this.idAlumno).pipe(Ch()).subscribe(t=>{alert("registro exitoso"),this.ListarPersona()},t=>{alert("registro falido"),console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(Ho(aR),Ho(SD),Ho(op))},t.\u0275cmp=zt({type:t,selectors:[["app-alunmo-manager"]],decls:129,vars:8,consts:[["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css","rel","stylesheet"],["href","https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css","rel","stylesheet"],[1,"titulo"],[1,"row","g-3","subtitle"],[1,"col-md-5"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Buscar...",1,"form-control","textSearch"],[1,"col-md-6"],["type","button","data-toggle","collapse","data-target","#collapseAlumno","aria-expanded","false",1,"btn","btn-new","btn-primary"],["id","collapseAlumno",1,"collapse"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-md-3"],["type","text","formControlName","ci","placeholder","ci",1,"form-control"],["type","text","formControlName","nombre","placeholder","Nombre(s)","onkeyup","mayus(this);",1,"form-control"],["type","text","formControlName","paterno","placeholder","Ap Paterno","onkeyup","mayus(this);",1,"form-control"],["type","text","formControlName","materno","placeholder","Ap Materno","onkeyup","mayus(this);",1,"form-control"],["type","text","formControlName","telefono","placeholder","Telefono",1,"form-control"],["type","text","formControlName","nivel",1,"form-control"],["selected","",2,"display","none"],["value","1"],["value","2"],["value","3"],["type","text","formControlName","curso",1,"form-control"],["value","4"],["value","5"],["value","6"],["type","text","formControlName","turno",1,"form-control"],[1,"row","g-3","contButtons"],["type","submit",1,"btn","btn-success"],["type","button","data-toggle","modal","data-target","#modal1",1,"btn","btn-info",3,"click"],[1,"table","table-responsive","table-hover","table-striped","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[3,"pageChange"],["id","modal1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","close",1,"close"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"form-group","has-feedback"],[1,"fa","fa-address-card","form-control-feedback"],["type","text","formControlName","CIt","placeholder","CI",1,"form-control"],["type","text","formControlName","nombret","placeholder","Nombre",1,"form-control"],["type","text","formControlName","paternot","placeholder","Apellido Paterno",1,"form-control"],["type","text","formControlName","maternot","placeholder","Apellido Materno",1,"form-control"],["type","text","formControlName","telefonot","placeholder","telefono",1,"form-control"],[1,"fa","fa-book","form-control-feedback"],["name","materia","formControlName","tipot",1,"form-control"],["value","","hidden",""],["value","Padre"],["value","Madre"],["value","Hermano(a)"],["value","tio"],["value","otros"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["scope","row"],[1,"botones"],[1,"btn-group"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-warning"],["type","button",1,"btn","btn-outline-danger"]],template:function(t,e){1&t&&($o(0,"link",0),$o(1,"link",1),Go(2,"body"),Go(3,"H2",2),ps(4,"Registro de Alumnos"),Ko(),Go(5,"div",3),Go(6,"div",4),$o(7,"i",5),$o(8,"input",6),Ko(),Go(9,"div",7),Go(10,"button",8),ps(11,"Nuevo Registro"),Ko(),Ko(),Ko(),Go(12,"div",9),Go(13,"form",10),Jo("ngSubmit",function(){return e.addAlumno(e.alumnoForm)}),Go(14,"div",11),$o(15,"input",12),Ko(),Go(16,"div",11),$o(17,"input",13),Ko(),Go(18,"div",11),$o(19,"input",14),Ko(),Go(20,"div",11),$o(21,"input",15),Ko(),Go(22,"div",11),$o(23,"input",16),Ko(),Go(24,"div",11),Go(25,"select",17),Go(26,"option",18),ps(27," Nivel"),Ko(),Go(28,"option",19),ps(29,"INICIAL"),Ko(),Go(30,"option",20),ps(31,"PRIMARIA"),Ko(),Go(32,"option",21),ps(33,"SECUNDARIA"),Ko(),Ko(),Ko(),Go(34,"div",11),Go(35,"select",22),Go(36,"option",18),ps(37," Curso"),Ko(),Go(38,"option",19),ps(39,"1-PRIMERO"),Ko(),Go(40,"option",20),ps(41,"2-SEGUNDO"),Ko(),Go(42,"option",21),ps(43,"3-TERCERO"),Ko(),Go(44,"option",23),ps(45,"4-CUARTO"),Ko(),Go(46,"option",24),ps(47,"5-QUINTO"),Ko(),Go(48,"option",25),ps(49,"6-SEXTO"),Ko(),Ko(),Ko(),Go(50,"div",11),Go(51,"select",26),Go(52,"option",18),ps(53," Turno"),Ko(),Go(54,"option",19),ps(55,"MA\xd1ANA"),Ko(),Go(56,"option",20),ps(57,"TARDE"),Ko(),Ko(),Ko(),Go(58,"div",27),Go(59,"button",28),ps(60,"Guardar"),Ko(),Go(61,"button",29),Jo("click",function(){return e.obtnerUltimo()}),ps(62,"Guardar y Agregar Tutor"),Ko(),Ko(),Ko(),Ko(),Go(63,"table",30),Go(64,"thead"),Go(65,"tr"),Go(66,"th",31),ps(67,"#"),Ko(),Go(68,"th",31),ps(69,"Nro Carnet"),Ko(),Go(70,"th",31),ps(71,"Nombre Completo"),Ko(),Go(72,"th",31),ps(73,"Nivel"),Ko(),Go(74,"th",31),ps(75,"Curso"),Ko(),Go(76,"th",31),ps(77,"Turno"),Ko(),Go(78,"th"),ps(79,"Operaciones"),Ko(),Ko(),Ko(),Go(80,"tbody"),Bo(81,LF,23,8,"tr",32),qa(82,"paginate"),Ko(),Ko(),Go(83,"pagination-controls",33),Jo("pageChange",function(t){return e.p=t}),Ko(),Go(84,"div",34),Go(85,"div",35),Go(86,"div",36),Go(87,"div",37),Go(88,"h5",38),ps(89,"Datos del Tutor"),Ko(),Go(90,"button",39),ps(91," \xd7 "),Ko(),Ko(),Go(92,"form",40),Jo("ngSubmit",function(){return e.addTutor(e.tutorForm)}),Go(93,"div",41),Go(94,"div",42),$o(95,"i",43),$o(96,"input",44),Ko(),Go(97,"div",42),$o(98,"i",43),$o(99,"input",45),Ko(),Go(100,"div",42),$o(101,"i",43),$o(102,"input",46),Ko(),Go(103,"div",42),$o(104,"i",43),$o(105,"input",47),Ko(),Go(106,"div",42),$o(107,"i",43),$o(108,"input",48),Ko(),Go(109,"div",42),$o(110,"i",49),Go(111,"select",50),Go(112,"option",51),ps(113,"Tipo de Tutor"),Ko(),Go(114,"option",52),ps(115,"Padre"),Ko(),Go(116,"option",53),ps(117,"Madre"),Ko(),Go(118,"option",54),ps(119,"Hermano(a)"),Ko(),Go(120,"option",55),ps(121,"Tio(a)"),Ko(),Go(122,"option",56),ps(123,"Otro"),Ko(),Ko(),Ko(),Ko(),Go(124,"div",57),Go(125,"button",58),ps(126," Cerrar"),Ko(),Go(127,"button",28),ps(128,"Guardar"),Ko(),Ko(),Ko(),Ko(),Ko(),Ko(),Ko()),2&t&&(fi(13),zo("formGroup",e.alumnoForm),fi(68),zo("ngForOf",Ba(82,3,e.alumno,ja(6,DF,e.p))),fi(11),zo("formGroup",e.tutorForm))},directives:[BM,cM,WM,FD,uM,KM,QM,XM,eR,Xc,tF],pipes:[QR],styles:["body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 151px)}.titulo[_ngcontent-%COMP%]{width:100%;text-align:center;font-style:italic;margin-bottom:30px}.subtitle[_ngcontent-%COMP%]{width:85%;margin:auto}.col-md-6[_ngcontent-%COMP%]{justify-content:right;text-align:right}.contButtons[_ngcontent-%COMP%]{width:97%;justify-content:right;margin:auto}.btn[_ngcontent-%COMP%]{margin-left:5px!important}.form-control-feedback[_ngcontent-%COMP%]{position:absolute;padding:10px;pointer-events:none}.form-control[_ngcontent-%COMP%]{padding-left:35px!important;margin-bottom:20px}form[_ngcontent-%COMP%]{padding:20px;display:flex;flex-wrap:wrap;align-content:flex-start;position:relative}.table[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{width:85%;margin:auto}thead[_ngcontent-%COMP%]{background:rgba(59,171,231,.832)}pagination-controls[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width:700px){*[_ngcontent-%COMP%]{font-size:calc(.5em + 1vw);line-height:1em}.titulo[_ngcontent-%COMP%]{margin-top:-50px!important}.btn[_ngcontent-%COMP%]{margin-bottom:5px!important}}"]}),t})(),data:{guards:[AF]},canActivate:[xF,IF]},{path:"docentes",component:(()=>{class t{constructor(t,e,n){this.fb=t,this.dataService=e,this.router=n,this.p=1,this.navigationExtras={state:{value:null}},this.docenteForm=this.fb.group({ci:["",HD.required],nombre:["",HD.required],paterno:["",HD.required],materno:["",HD.required],telefono:["",HD.required],nivel:["nivel",HD.required],curso:["curso",HD.required]})}ngOnInit(){this.ListarDocente()}ListarDocente(){this.dataService.listarDocente().subscribe(t=>this.docente=t)}detalle(t){this.navigationExtras.state.value=t,this.router.navigate(["NuevoUsuario"],this.navigationExtras)}addDocente(t){this.dataService.alumnoRegister(t.value.ci,t.value.nombre,t.value.paterno,t.value.materno,t.value.telefono,t.value.nivel,t.value.curso,t.value.turno).pipe(Ch()).subscribe(t=>{alert("registro exitoso"),this.ListarDocente()},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(Ho(aR),Ho(SD),Ho(op))},t.\u0275cmp=zt({type:t,selectors:[["app-docente-manager"]],decls:67,vars:7,consts:[["href","https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css","rel","stylesheet"],["href","https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css","rel","stylesheet"],[1,"titulo"],[1,"row","g-3","subtitle"],[1,"col-md-5"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Buscar...",1,"form-control","textSearch"],[1,"col-md-6"],["type","button","data-toggle","collapse","data-target","#collapseAlumno","aria-expanded","false",1,"btn","btn-new","btn-primary"],["id","collapseAlumno",1,"collapse"],[1,"row","g-3",3,"formGroup","ngSubmit"],[1,"col-md-3"],["type","text","formControlName","ci","placeholder","ci",1,"form-control"],["type","text","formControlName","nombre","placeholder","Nombre(s)","onkeyup","mayus(this);",1,"form-control"],["type","text","formControlName","paterno","placeholder","Ap Paterno","onkeyup","mayus(this);",1,"form-control"],["type","text","formControlName","materno","placeholder","Ap Materno","onkeyup","mayus(this);",1,"form-control"],["type","text","formControlName","telefono","placeholder","Telefono",1,"form-control"],["type","text","formControlName","curso",1,"form-control"],["selected","",2,"display","none"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["type","text","formControlName","turno",1,"form-control"],[1,"table","table-responsive","table-hover","table-striped","table-bordered"],["scope","col"],[4,"ngFor","ngForOf"],[3,"pageChange"],["scope","row"],["width","100",3,"src"],[1,"botones"],[1,"btn-group"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-warning"],["type","button",1,"btn","btn-outline-danger"]],template:function(t,e){1&t&&($o(0,"link",0),$o(1,"link",1),Go(2,"body"),Go(3,"H2",2),ps(4,"Registro de Docentes"),Ko(),Go(5,"div",3),Go(6,"div",4),$o(7,"i",5),$o(8,"input",6),Ko(),Go(9,"div",7),Go(10,"button",8),ps(11,"Nuevo Registro"),Ko(),Ko(),Ko(),Go(12,"div",9),Go(13,"form",10),Jo("ngSubmit",function(){return e.addDocente(e.docenteForm)}),Go(14,"div",11),$o(15,"input",12),Ko(),Go(16,"div",11),$o(17,"input",13),Ko(),Go(18,"div",11),$o(19,"input",14),Ko(),Go(20,"div",11),$o(21,"input",15),Ko(),Go(22,"div",11),$o(23,"input",16),Ko(),Go(24,"div",11),Go(25,"select",17),Go(26,"option",18),ps(27," Curso"),Ko(),Go(28,"option",19),ps(29,"1-PRIMERO"),Ko(),Go(30,"option",20),ps(31,"2-SEGUNDO"),Ko(),Go(32,"option",21),ps(33,"3-TERCERO"),Ko(),Go(34,"option",22),ps(35,"4-CUARTO"),Ko(),Go(36,"option",23),ps(37,"5-QUINTO"),Ko(),Go(38,"option",24),ps(39,"6-SEXTO"),Ko(),Ko(),Ko(),Go(40,"div",11),Go(41,"select",25),Go(42,"option",18),ps(43," Turno"),Ko(),Go(44,"option",19),ps(45,"MA\xd1ANA"),Ko(),Go(46,"option",20),ps(47,"TARDE"),Ko(),Ko(),Ko(),Ko(),Ko(),Go(48,"table",26),Go(49,"thead"),Go(50,"tr"),Go(51,"th",27),ps(52,"#"),Ko(),Go(53,"th",27),ps(54,"Nro Carnet"),Ko(),Go(55,"th",27),ps(56,"Nombre Completo"),Ko(),Go(57,"th",27),ps(58,"Materia"),Ko(),Go(59,"th",27),ps(60,"FOTO"),Ko(),Go(61,"th"),ps(62,"Operaciones"),Ko(),Ko(),Ko(),Go(63,"tbody"),Bo(64,MF,21,7,"tr",28),qa(65,"paginate"),Ko(),Ko(),Go(66,"pagination-controls",29),Jo("pageChange",function(t){return e.p=t}),Ko(),Ko()),2&t&&(fi(13),zo("formGroup",e.docenteForm),fi(51),zo("ngForOf",Ba(65,2,e.docente,ja(5,RF,e.p))))},directives:[BM,cM,WM,FD,uM,KM,QM,XM,eR,Xc,tF],pipes:[QR],styles:["body[_ngcontent-%COMP%]{margin-top:29px;min-height:calc(100vh - 151px)}.titulo[_ngcontent-%COMP%]{width:100%;text-align:center;font-style:italic;margin-bottom:30px}.subtitle[_ngcontent-%COMP%]{width:85%;margin:auto}.col-md-6[_ngcontent-%COMP%]{justify-content:right;text-align:right}.contButtons[_ngcontent-%COMP%]{width:97%;justify-content:right;margin:auto}.btn[_ngcontent-%COMP%]{margin-left:5px!important}.form-control-feedback[_ngcontent-%COMP%]{position:absolute;padding:10px;pointer-events:none}.form-control[_ngcontent-%COMP%]{padding-left:35px!important;margin-bottom:20px}form[_ngcontent-%COMP%]{padding:20px;display:flex;flex-wrap:wrap;align-content:flex-start;position:relative}.table[_ngcontent-%COMP%], form[_ngcontent-%COMP%]{width:85%;margin:auto}thead[_ngcontent-%COMP%]{background:rgba(59,171,231,.832)}pagination-controls[_ngcontent-%COMP%]{text-align:center}@media only screen and (max-width:700px){*[_ngcontent-%COMP%]{font-size:calc(.5em + 1vw);line-height:1em}.titulo[_ngcontent-%COMP%]{margin-top:-50px!important}.btn[_ngcontent-%COMP%]{margin-bottom:5px!important}}"]}),t})(),data:{guards:[AF]},canActivate:[xF,IF]},{path:"administrativos",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["app-administrativo-mamager"]],decls:2,vars:0,template:function(t,e){1&t&&(Go(0,"p"),ps(1,"administrativo-mamager works!"),Ko())},styles:[""]}),t})(),data:{guards:[AF]},canActivate:[xF,IF]},{path:"perfil",component:OF},{path:"citas",component:NF},{path:"login",component:CF}],{relativeLinkResolution:"legacy"});function jF(t,e,n,i){return r(n)&&(i=n,n=void 0),i?jF(t,e,n).pipe(M(t=>u(t)?i(...t):i(t))):new y(r=>{UF(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function UF(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)UF(t[o],e,n,r,i)}r.add(o)}class qF extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class BF extends qF{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(YE){r=!0,n=!!YE&&YE||new Error(YE)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let VF=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class HF extends VF{constructor(t,e=VF.now){super(t,()=>HF.delegate&&HF.delegate!==this?HF.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return HF.delegate&&HF.delegate!==this?HF.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const zF=new HF(BF);let WF=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({imports:[[rl,oR]]}),t})();function GF(t,e){1&t&&(Go(0,"li"),Go(1,"a",20),ps(2,"Inicio"),Ko(),Ko())}function KF(t,e){1&t&&(Go(0,"li"),Go(1,"a",21),ps(2,"Novedades"),Ko(),Ko())}function $F(t,e){1&t&&(Go(0,"li",22),Go(1,"a"),ps(2,"Nosotros "),Go(3,"font",15),ps(4,"\u25bc"),Ko(),Ko(),Go(5,"ul",23),Go(6,"li"),Go(7,"a",24),ps(8,"Historia"),Ko(),Ko(),Go(9,"li"),Go(10,"a",25),ps(11,"Misi\xf3n Visi\xf3n"),Ko(),Ko(),Go(12,"li"),Go(13,"a",26),ps(14,"Plantel Docente"),Ko(),Ko(),Ko(),Ko())}function YF(t,e){1&t&&(Go(0,"li",27),Go(1,"a"),ps(2,"Informaci\xf3n de Padres "),Go(3,"font",15),ps(4,"\u25bc"),Ko(),Ko(),Go(5,"ul",28),Go(6,"li"),Go(7,"a",29),ps(8,"Circulares"),Ko(),Ko(),Go(9,"li"),Go(10,"a",30),ps(11,"Citaciones"),Ko(),Ko(),Go(12,"li"),Go(13,"a",31),ps(14,"Entrevistas"),Ko(),Ko(),Ko(),Ko())}function QF(t,e){1&t&&(Go(0,"li"),Go(1,"a",36),ps(2,"Pendientes"),Ko(),Ko())}function XF(t,e){1&t&&(Go(0,"li"),Go(1,"a",37),ps(2,"Para corregir"),Ko(),Ko())}function JF(t,e){1&t&&(Go(0,"li"),Go(1,"a",38),ps(2,"Reportes"),Ko(),Ko())}function ZF(t,e){if(1&t&&(Go(0,"li",32),Go(1,"a"),ps(2,"Comunicados "),Go(3,"font",15),ps(4,"\u25bc"),Ko(),Ko(),Go(5,"ul",33),Go(6,"li"),Go(7,"a",34),ps(8,"Crear Comunicado"),Ko(),Ko(),Go(9,"li"),Go(10,"a",35),ps(11,"Lista de Comunicados"),Ko(),Ko(),Bo(12,QF,3,0,"li",8),Bo(13,XF,3,0,"li",8),Bo(14,JF,3,0,"li",8),Ko(),Ko()),2&t){const t=es();fi(12),zo("ngIf","1"==t.rol),fi(1),zo("ngIf","3"==t.rol),fi(1),zo("ngIf","1"==t.rol||"3"==t.rol)}}function tj(t,e){1&t&&(Go(0,"li",39),Go(1,"a"),ps(2,"Registros "),Go(3,"font",15),ps(4,"\u25bc"),Ko(),Ko(),Go(5,"ul",40),Go(6,"li"),Go(7,"a",41),ps(8,"Alumnos"),Ko(),Ko(),Go(9,"li"),Go(10,"a",42),ps(11,"Docentes"),Ko(),Ko(),Go(12,"li"),Go(13,"a",43),ps(14,"Adminstrativos"),Ko(),Ko(),Ko(),Ko())}function ej(t,e){1&t&&(Go(0,"li",44),Go(1,"a"),ps(2,"Usuarios "),Go(3,"font",15),ps(4,"\u25bc"),Ko(),Ko(),Go(5,"ul",45),Go(6,"li"),Go(7,"a",46),ps(8,"Crear Usuario"),Ko(),Ko(),Go(9,"li"),Go(10,"a",47),ps(11,"Adminstrar"),Ko(),Ko(),Ko(),Ko())}function nj(t,e){1&t&&(Go(0,"li"),Go(1,"a",48),ps(2,"Citas"),Ko(),Ko())}function rj(t,e){1&t&&(Go(0,"li",49),Go(1,"a",50),ps(2,"Iniciar Sesion"),Ko(),Ko())}function ij(t,e){if(1&t){const t=Yo();Go(0,"li",51),Jo("click",function(){return Oe(t),es().logout()}),Go(1,"a"),ps(2,"Cerrar Sesion"),Ko(),Ko()}}let oj=(()=>{class t{constructor(t,e){this.dataService=t,this.router=e,this.rol=null,this.usuario=null,t.getLoggedInName.subscribe(t=>this.changeName(t));var n=localStorage.getItem("token");this.user=this.dataService.getCurrentUser(),this.dataService.isLoggedIn()?(this.rol=n,this.usuario=this.user.username,this.loginbtn=!1,this.logoutbtn=!0):(this.loginbtn=!0,this.logoutbtn=!1)}ngOnInit(){}changeName(t){this.logoutbtn=t,this.loginbtn=!t}logout(){this.dataService.deleteToken(),window.location.href=window.location.href}}return t.\u0275fac=function(e){return new(e||t)(Ho(SD),Ho(op))},t.\u0275cmp=zt({type:t,selectors:[["app-header"]],decls:32,vars:11,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["type","checkbox","id","btn-menu","autocomplete","off"],["for","btn-menu"],[1,"titulo"],["src","../../assets/Imagenes/icon.png",1,"img-responsive"],[1,"menu-responsive"],[4,"ngIf"],["id","nosotros",4,"ngIf"],["id","padres",4,"ngIf"],["id","comunicado",4,"ngIf"],["id","registro",4,"ngIf"],["id","usuario",4,"ngIf"],["id","perfil"],["size","1"],["id","sub-menu6"],["href","perfil"],["id","login",4,"ngIf"],["id","logout",3,"click",4,"ngIf"],["href","inicio"],["href","novedades"],["id","nosotros"],["id","sub-menu1"],["href","historia"],["href","mision"],["href","maestros"],["id","padres"],["id","sub-menu2"],["href","circulares"],["href","citaciones"],["href","entrevista"],["id","comunicado"],["id","sub-menu3"],["href","comunicado"],["href","lista"],["href","pendientes"],["href","correcciones"],["href","reportes"],["id","registro"],["id","sub-menu5"],["href","alumnos"],["href","docentes"],["href","administrativos"],["id","usuario"],["id","sub-menu4"],["href","NuevoUsuario"],["href","adminUsuario"],["href","Citas"],["id","login"],["href","login"],["id","logout",3,"click"]],template:function(t,e){1&t&&(Go(0,"html",0),Go(1,"head"),$o(2,"meta",1),$o(3,"meta",2),Ko(),Go(4,"body"),Go(5,"header"),$o(6,"input",3),Go(7,"label",4),Go(8,"h3",5),ps(9,"Menu"),Ko(),$o(10,"img",6),Ko(),Go(11,"nav",7),Go(12,"ul"),Bo(13,GF,3,0,"li",8),Bo(14,KF,3,0,"li",8),Bo(15,$F,15,0,"li",9),Bo(16,YF,15,0,"li",10),Bo(17,ZF,15,3,"li",11),Bo(18,tj,15,0,"li",12),Bo(19,ej,12,0,"li",13),Bo(20,nj,3,0,"li",8),Go(21,"li",14),Go(22,"a"),ps(23),Go(24,"font",15),ps(25,"\u25bc"),Ko(),Ko(),Go(26,"ul",16),Go(27,"li",14),Go(28,"a",17),ps(29,"Mi perfil"),Ko(),Ko(),Bo(30,rj,3,0,"li",18),Bo(31,ij,3,0,"li",19),Ko(),Ko(),Ko(),Ko(),Ko(),Ko(),Ko()),2&t&&(fi(13),zo("ngIf",e.logoutbtn),fi(1),zo("ngIf","4"==e.rol),fi(1),zo("ngIf",e.logoutbtn),fi(1),zo("ngIf","4"==e.rol),fi(1),zo("ngIf","1"==e.rol||"3"==e.rol),fi(1),zo("ngIf","1"==e.rol),fi(1),zo("ngIf","1"==e.rol),fi(1),zo("ngIf",e.logoutbtn),fi(3),ms("",e.usuario," "),fi(7),zo("ngIf",e.loginbtn),fi(1),zo("ngIf",e.logoutbtn))},directives:[Zc],styles:["body[_ngcontent-%COMP%]{margin:0;padding-bottom:2%}#btn-menu[_ngcontent-%COMP%]{display:none}header[_ngcontent-%COMP%]{width:100%;background:#0890eb}.titulo[_ngcontent-%COMP%]{position:absolute;left:0;right:auto;padding-left:10px;-webkit-user-select:none;user-select:none}header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:auto;margin-right:0;display:none;width:48px;height:48px;padding:5px;color:#fff}header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background:#0465a5}header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.menu-responsive[_ngcontent-%COMP%]{position:fixed;background:#0890eb;width:100%;min-height:56px;max-height:70px;z-index:100;top:0}.menu-responsive[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0;display:flex;height:100%}.menu-responsive[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:14px 15px;color:#fff;text-decoration:none;margin-top:3px;cursor:pointer;transition-property:background-color,border-radius;transition-duration:1s;-webkit-user-select:none;user-select:none}.menu-responsive[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;margin:0;opacity:0;border-top:3px solid cyan;flex-direction:column;visibility:hidden;z-index:30;transition-property:all}.menu-responsive[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;margin:0;background:#161d6f;z-index:30;width:200px}#perfil[_ngcontent-%COMP%]{margin-right:0;margin-left:auto}.menu-responsive[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > ul[_ngcontent-%COMP%]{top:55px;opacity:1;visibility:visible}.menu-responsive[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#161d6f;border-radius:5px;color:cyan}.menu-responsive[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-bottom:none;border-radius:0;border-left:4px solid cyan}#btn-menu[_ngcontent-%COMP%]:checked ~ .menu-responsive[_ngcontent-%COMP%]{margin-left:0}@media (max-width:700px){header[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;z-index:20}.menu-responsive[_ngcontent-%COMP%]{position:absolute;width:75%;height:calc(100vh - 48px);max-height:100%;top:48px;margin-left:-75%;transition:all .5s;z-index:50}.menu-responsive[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column}.menu-responsive[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{border:none;position:static;display:none;padding-left:30px;opacity:1;visibility:visible;height:auto}#login[_ngcontent-%COMP%], .menu-responsive[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}#login[_ngcontent-%COMP%]{margin-right:auto}.menu-responsive[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-radius:0}.menu-responsive[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:0}.menu-responsive[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{border-left:3px solid cyan}#comunicado[_ngcontent-%COMP%]:hover   #sub-menu3[_ngcontent-%COMP%], #nosotros[_ngcontent-%COMP%]:hover   #sub-menu1[_ngcontent-%COMP%], #padres[_ngcontent-%COMP%]:hover   #sub-menu2[_ngcontent-%COMP%], #perfil[_ngcontent-%COMP%]:hover   #sub-menu6[_ngcontent-%COMP%], #registro[_ngcontent-%COMP%]:hover   #sub-menu5[_ngcontent-%COMP%], #usuario[_ngcontent-%COMP%]:hover   #sub-menu4[_ngcontent-%COMP%]{display:block}#perfil[_ngcontent-%COMP%]{margin-right:0;margin-left:0}}"]}),t})(),sj=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"footer","text-center"],[1,"container"],[1,"titulo","text-white"],[1,"direccion","text-white"]],template:function(t,e){1&t&&(Go(0,"footer",0),Go(1,"div",1),Go(2,"p",2),ps(3," \xa9Colegio Cardenal Cushing 2021 "),Ko(),Go(4,"p",3),ps(5,"Direcci\xf3n: Calle LEMOINE Santa Cruz de la Sierra, Bolivia "),Ko(),Ko(),Ko())},styles:[".footer[_ngcontent-%COMP%]{background:#0890eb;width:100%;display:flex;margin-top:auto;margin-bottom:0}.titulo[_ngcontent-%COMP%]{padding-top:1.5%}"]}),t})(),aj=(()=>{class t{constructor(){this.title="tesis"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=zt({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(t,e){1&t&&($o(0,"app-header"),$o(1,"router-outlet"),$o(2,"app-footer"))},directives:[oj,sp,sj],styles:[""]}),t})();function uj(t,e){return new y(e?n=>e.schedule(cj,0,{error:t,subscriber:n}):e=>e.error(t))}function cj({error:t,subscriber:e}){e.error(t)}const lj=new y(Sh);let hj=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Ul(this.value);case"E":return uj(this.error);case"C":return Kl()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class fj{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new dj(t,this.delay,this.scheduler))}}class dj extends p{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(dj.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new pj(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(hj.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(hj.createComplete()),this.unsubscribe()}}class pj{constructor(t,e){this.time=t,this.notification=e}}const gj="Service workers are disabled or not supported by this browser";class mj{constructor(t){if(this.serviceWorker=t,t){const e=jF(t,"controllerchange").pipe(M(()=>t.controller)),n=Wl($l(()=>Ul(t.controller)),e);this.worker=n.pipe(oh(t=>!!t)),this.registration=this.worker.pipe(Yl(()=>t.getRegistration()));const r=jF(t,"message").pipe(M(t=>t.data)).pipe(oh(t=>t&&t.type)).pipe(J(new S));r.connect(),this.events=r}else this.worker=this.events=this.registration=$l(()=>uj(new Error("Service workers are disabled or not supported by this browser")))}postMessage(t,e){return this.worker.pipe(Zl(1),xh(n=>{n.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithStatus(t,e,n){const r=this.waitForStatus(n),i=this.postMessage(t,e);return Promise.all([r,i]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){return this.events.pipe(oh(e=>e.type===t))}nextEventOfType(t){return this.eventsOfType(t).pipe(Zl(1))}waitForStatus(t){return this.eventsOfType("STATUS").pipe(oh(e=>e.nonce===t),Zl(1),M(t=>{if(!t.status)throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let vj=(()=>{class t{constructor(t){if(this.sw=t,this.subscriptionChanges=new S,!t.isEnabled)return this.messages=lj,this.notificationClicks=lj,void(this.subscription=lj);this.messages=this.sw.eventsOfType("PUSH").pipe(M(t=>t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(M(t=>t.data)),this.pushManager=this.sw.registration.pipe(M(t=>t.pushManager));const e=this.pushManager.pipe(Yl(t=>t.getSubscription()));this.subscription=W(e,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(gj));const e={userVisibleOnly:!0};let n=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return e.applicationServerKey=r,this.pushManager.pipe(Yl(t=>t.subscribe(e)),Zl(1)).toPromise().then(t=>(this.subscriptionChanges.next(t),t))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Zl(1),Yl(t=>{if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(t=>{if(!t)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(gj))}decodeBase64(t){return atob(t)}}return t.\u0275fac=function(e){return new(e||t)(ur(mj))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})(),yj=(()=>{class t{constructor(t){if(this.sw=t,!t.isEnabled)return this.available=lj,this.activated=lj,void(this.unrecoverable=lj);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(gj));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(gj));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}}return t.\u0275fac=function(e){return new(e||t)(ur(mj))},t.\u0275prov=dt({token:t,factory:t.\u0275fac}),t})();class bj{}const _j=new Gn("NGSW_REGISTER_SCRIPT");function wj(t,e,n,r){return()=>{if(!il(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{const[e,...r]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(e){case"registerImmediately":i=Ul(null);break;case"registerWithDelay":i=Cj(+r[0]||0);break;case"registerWhenStable":i=r[0]?W(Sj(t),Cj(+r[0])):Sj(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(du).runOutsideAngular(()=>i.pipe(Zl(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(t=>console.error("Service worker registration failed with:",t))))}}function Cj(t){return Ul(null).pipe(function(t,e=zF){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new fj(r,e))}(t))}function Sj(t){return t.get(Lu).isStable.pipe(oh(t=>t))}function xj(t,e){return new mj(il(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let Ij=(()=>{class t{static register(e,n={}){return{ngModule:t,providers:[{provide:_j,useValue:e},{provide:bj,useValue:n},{provide:mj,useFactory:xj,deps:[bj,Ja]},{provide:Ga,useFactory:wj,deps:[So,_j,bj,Ja],multi:!0}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t}),t.\u0275inj=pt({providers:[vj,yj]}),t})(),Aj=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=$t({type:t,bootstrap:[aj]}),t.\u0275inj=pt({providers:[SD],imports:[[jl,FF,oR,CD,sR,WF,iF,NR.forRoot(),Ij.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]]}),t})();(function(){if(Au)throw new Error("Cannot enable prod mode after platform setup.");Iu=!1})(),Rl().bootstrapModule(Aj).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.r(e),n.d(e,{__extends:()=>i,__assign:()=>o,__rest:()=>s,__decorate:()=>a,__param:()=>u,__metadata:()=>c,__awaiter:()=>l,__generator:()=>h,__createBinding:()=>f,__exportStar:()=>d,__values:()=>p,__read:()=>g,__spread:()=>m,__spreadArrays:()=>v,__spreadArray:()=>y,__await:()=>b,__asyncGenerator:()=>_,__asyncDelegator:()=>w,__asyncValues:()=>C,__makeTemplateObject:()=>S,__importStar:()=>I,__importDefault:()=>A,__classPrivateFieldGet:()=>k,__classPrivateFieldSet:()=>E});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var f=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function d(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||f(e,t,n)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:b(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function C(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function S(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var x=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function I(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&f(e,t,n);return x(e,t),e}function A(t){return t&&t.__esModule?t:{default:t}}function k(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function E(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}}},t=>{"use strict";t(t.s=4928)}]);